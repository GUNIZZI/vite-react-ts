function FE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VE={exports:{}},Ff={},jE={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),VR=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),$R=Symbol.for("react.strict_mode"),UR=Symbol.for("react.profiler"),BR=Symbol.for("react.provider"),qR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),HR=Symbol.for("react.suspense"),WR=Symbol.for("react.memo"),KR=Symbol.for("react.lazy"),Nv=Symbol.iterator;function GR(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var $E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,BE={};function Bs(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||$E}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qE(){}qE.prototype=Bs.prototype;function ig(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||$E}var og=ig.prototype=new qE;og.constructor=ig;UE(og,Bs.prototype);og.isPureReactComponent=!0;var xv=Array.isArray,zE=Object.prototype.hasOwnProperty,sg={current:null},HE={key:!0,ref:!0,__self:!0,__source:!0};function WE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)zE.call(e,r)&&!HE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tu,type:t,key:o,ref:s,props:i,_owner:sg.current}}function QR(t,e){return{$$typeof:tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===tu}function YR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dv=/\/+/g;function td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YR(""+t.key):e.toString(36)}function cc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case tu:case VR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+td(s,0):r,xv(i)?(n="",t!=null&&(n=t.replace(Dv,"$&/")+"/"),cc(i,e,n,"",function(u){return u})):i!=null&&(ag(i)&&(i=QR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Dv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",xv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+td(o,a);s+=cc(o,e,n,l,i)}else if(l=GR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+td(o,a++),s+=cc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Nu(t,e,n){if(t==null)return t;var r=[],i=0;return cc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function XR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},fc={transition:null},JR={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:fc,ReactCurrentOwner:sg};Ue.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Bs;Ue.Fragment=jR;Ue.Profiler=UR;Ue.PureComponent=ig;Ue.StrictMode=$R;Ue.Suspense=HR;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JR;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=sg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zE.call(e,l)&&!HE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tu,type:t.type,key:i,ref:o,props:r,_owner:s}};Ue.createContext=function(t){return t={$$typeof:qR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BR,_context:t},t.Consumer=t};Ue.createElement=WE;Ue.createFactory=function(t){var e=WE.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:zR,render:t}};Ue.isValidElement=ag;Ue.lazy=function(t){return{$$typeof:KR,_payload:{_status:-1,_result:t},_init:XR}};Ue.memo=function(t,e){return{$$typeof:WR,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=fc.transition;fc.transition={};try{t()}finally{fc.transition=e}};Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ue.useCallback=function(t,e){return wn.current.useCallback(t,e)};Ue.useContext=function(t){return wn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return wn.current.useEffect(t,e)};Ue.useId=function(){return wn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return wn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};Ue.useRef=function(t){return wn.current.useRef(t)};Ue.useState=function(t){return wn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return wn.current.useTransition()};Ue.version="18.2.0";jE.exports=Ue;var X=jE.exports;const rr=eu(X),ZR=FE({__proto__:null,default:rr},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=X,tP=Symbol.for("react.element"),nP=Symbol.for("react.fragment"),rP=Object.prototype.hasOwnProperty,iP=eP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oP={key:!0,ref:!0,__self:!0,__source:!0};function KE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rP.call(e,r)&&!oP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tP,type:t,key:o,ref:s,props:i,_owner:iP.current}}Ff.Fragment=nP;Ff.jsx=KE;Ff.jsxs=KE;VE.exports=Ff;var ee=VE.exports,cp={},GE={exports:{}},Vn={},QE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,M){var D=H.length;H.push(M);e:for(;0<D;){var P=D-1>>>1,N=H[P];if(0<i(N,M))H[P]=M,H[D]=N,D=P;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var M=H[0],D=H.pop();if(D!==M){H[0]=D;e:for(var P=0,N=H.length,L=N>>>1;P<L;){var U=2*(P+1)-1,$=H[U],C=U+1,V=H[C];if(0>i($,D))C<N&&0>i(V,$)?(H[P]=V,H[C]=D,P=C):(H[P]=$,H[U]=D,P=U);else if(C<N&&0>i(V,D))H[P]=V,H[C]=D,P=C;else break e}}return M}function i(H,M){var D=H.sortIndex-M.sortIndex;return D!==0?D:H.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,E=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=H)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function g(H){if(y=!1,v(H),!E)if(n(l)!==null)E=!0,q(w);else{var M=n(u);M!==null&&j(g,M.startTime-H)}}function w(H,M){E=!1,y&&(y=!1,m(b),b=-1),d=!0;var D=f;try{for(v(M),h=n(l);h!==null&&(!(h.expirationTime>M)||H&&!A());){var P=h.callback;if(typeof P=="function"){h.callback=null,f=h.priorityLevel;var N=P(h.expirationTime<=M);M=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(l)&&r(l),v(M)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var U=n(u);U!==null&&j(g,U.startTime-M),L=!1}return L}finally{h=null,f=D,d=!1}}var T=!1,S=null,b=-1,O=5,I=-1;function A(){return!(t.unstable_now()-I<O)}function R(){if(S!==null){var H=t.unstable_now();I=H;var M=!0;try{M=S(!0,H)}finally{M?k():(T=!1,S=null)}}else T=!1}var k;if(typeof p=="function")k=function(){p(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,F=x.port2;x.port1.onmessage=R,k=function(){F.postMessage(null)}}else k=function(){_(R,0)};function q(H){S=H,T||(T=!0,k())}function j(H,M){b=_(function(){H(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){E||d||(E=!0,q(w))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var D=f;f=M;try{return H()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,M){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var D=f;f=H;try{return M()}finally{f=D}},t.unstable_scheduleCallback=function(H,M,D){var P=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?P+D:P):D=P,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=D+N,H={id:c++,callback:M,priorityLevel:H,startTime:D,expirationTime:N,sortIndex:-1},D>P?(H.sortIndex=D,e(u,H),n(l)===null&&H===n(u)&&(y?(m(b),b=-1):y=!0,j(g,D-P))):(H.sortIndex=N,e(l,H),E||d||(E=!0,q(w))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var M=f;return function(){var D=f;f=M;try{return H.apply(this,arguments)}finally{f=D}}}})(YE);QE.exports=YE;var sP=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE=X,Ln=sP;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,fl={};function Ro(t,e){gs(t,e),gs(t+"Capture",e)}function gs(t,e){for(fl[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,aP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Mv={};function lP(t){return fp.call(Mv,t)?!0:fp.call(Lv,t)?!1:aP.test(t)?Mv[t]=!0:(Lv[t]=!0,!1)}function uP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cP(t,e,n,r){if(e===null||typeof e>"u"||uP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function ug(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lg,ug);Zt[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lg,ug);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lg,ug);Zt[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cg(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cP(e,n,i,r)&&(n=null),r||i===null?lP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=XE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xu=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),ew=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),tw=Symbol.for("react.offscreen"),Fv=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,nd;function La(t){if(nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var rd=!1;function id(t,e){if(!t||rd)return"";rd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{rd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function fP(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=id(t.type,!1),t;case 11:return t=id(t.type.render,!1),t;case 1:return t=id(t.type,!0),t;default:return""}}function mp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Bo:return"Portal";case hp:return"Profiler";case fg:return"StrictMode";case dp:return"Suspense";case pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ew:return(t.displayName||"Context")+".Consumer";case ZE:return(t._context.displayName||"Context")+".Provider";case hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:mp(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return mp(t(e))}catch{}}return null}function hP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mp(e);case 8:return e===fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dP(t){var e=nw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=dP(t))}function rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gp(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iw(t,e){e=e.checked,e!=null&&cg(t,"checked",e,!1)}function yp(t,e){iw(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&vp(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vp(t,e,n){(e!=="number"||Fc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ma=Array.isArray;function os(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Ma(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function ow(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lu,aw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pP=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){pP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function uw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mP=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wp(t,e){if(e){if(mP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=null;function pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,ss=null,as=null;function Bv(t){if(t=iu(t)){if(typeof Ap!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Bf(e),Ap(t.stateNode,t.type,e))}}function cw(t){ss?as?as.push(t):as=[t]:ss=t}function fw(){if(ss){var t=ss,e=as;if(as=ss=null,Bv(t),e)for(t=0;t<e.length;t++)Bv(e[t])}}function hw(t,e){return t(e)}function dw(){}var od=!1;function pw(t,e,n){if(od)return t(e,n);od=!0;try{return hw(t,e,n)}finally{od=!1,(ss!==null||as!==null)&&(dw(),fw())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Ip=!1;if(qr)try{var da={};Object.defineProperty(da,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Ip=!1}function gP(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ga=!1,Vc=null,jc=!1,bp=null,yP={onError:function(t){Ga=!0,Vc=t}};function vP(t,e,n,r,i,o,s,a,l){Ga=!1,Vc=null,gP.apply(yP,arguments)}function _P(t,e,n,r,i,o,s,a,l){if(vP.apply(this,arguments),Ga){if(Ga){var u=Vc;Ga=!1,Vc=null}else throw Error(ie(198));jc||(jc=!0,bp=u)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qv(t){if(Po(t)!==t)throw Error(ie(188))}function EP(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qv(i),t;if(o===r)return qv(i),e;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function gw(t){return t=EP(t),t!==null?yw(t):null}function yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yw(t);if(e!==null)return e;t=t.sibling}return null}var vw=Ln.unstable_scheduleCallback,zv=Ln.unstable_cancelCallback,wP=Ln.unstable_shouldYield,TP=Ln.unstable_requestPaint,Rt=Ln.unstable_now,SP=Ln.unstable_getCurrentPriorityLevel,mg=Ln.unstable_ImmediatePriority,_w=Ln.unstable_UserBlockingPriority,$c=Ln.unstable_NormalPriority,AP=Ln.unstable_LowPriority,Ew=Ln.unstable_IdlePriority,Vf=null,wr=null;function IP(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Vf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:PP,bP=Math.log,RP=Math.LN2;function PP(t){return t>>>=0,t===0?32:31-(bP(t)/RP|0)|0}var Mu=64,Fu=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fa(a):(o&=s,o!==0&&(r=Fa(o)))}else s=n&~i,s!==0?r=Fa(s):o!==0&&(r=Fa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function OP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-or(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=OP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=Mu;return Mu<<=1,!(Mu&4194240)&&(Mu=64),t}function sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function CP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ye=0;function Tw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,yg,Aw,Iw,bw,Pp=!1,Vu=[],wi=null,Ti=null,Si=null,pl=new Map,ml=new Map,hi=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function pa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=iu(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xP(t,e,n,r,i){switch(e){case"focusin":return wi=pa(wi,t,e,n,r,i),!0;case"dragenter":return Ti=pa(Ti,t,e,n,r,i),!0;case"mouseover":return Si=pa(Si,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return pl.set(o,pa(pl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ml.set(o,pa(ml.get(o)||null,t,e,n,r,i)),!0}return!1}function Rw(t){var e=Ji(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=mw(n),e!==null){t.blockedOn=e,bw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sp=r,n.target.dispatchEvent(r),Sp=null}else return e=iu(n),e!==null&&yg(e),t.blockedOn=n,!1;e.shift()}return!0}function Wv(t,e,n){hc(t)&&n.delete(e)}function DP(){Pp=!1,wi!==null&&hc(wi)&&(wi=null),Ti!==null&&hc(Ti)&&(Ti=null),Si!==null&&hc(Si)&&(Si=null),pl.forEach(Wv),ml.forEach(Wv)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,Pp||(Pp=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,DP)))}function gl(t){function e(i){return ma(i,t)}if(0<Vu.length){ma(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&ma(wi,t),Ti!==null&&ma(Ti,t),Si!==null&&ma(Si,t),pl.forEach(e),ml.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&hi.shift()}var ls=Xr.ReactCurrentBatchConfig,Bc=!0;function LP(t,e,n,r){var i=Ye,o=ls.transition;ls.transition=null;try{Ye=1,vg(t,e,n,r)}finally{Ye=i,ls.transition=o}}function MP(t,e,n,r){var i=Ye,o=ls.transition;ls.transition=null;try{Ye=4,vg(t,e,n,r)}finally{Ye=i,ls.transition=o}}function vg(t,e,n,r){if(Bc){var i=Op(t,e,n,r);if(i===null)gd(t,e,r,qc,n),Hv(t,r);else if(xP(i,t,e,n,r))r.stopPropagation();else if(Hv(t,r),e&4&&-1<NP.indexOf(t)){for(;i!==null;){var o=iu(i);if(o!==null&&Sw(o),o=Op(t,e,n,r),o===null&&gd(t,e,r,qc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gd(t,e,r,null,n)}}var qc=null;function Op(t,e,n,r){if(qc=null,t=pg(r),t=Ji(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function Pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SP()){case mg:return 1;case _w:return 4;case $c:case AP:return 16;case Ew:return 536870912;default:return 16}default:return 16}}var vi=null,_g=null,dc=null;function Ow(){if(dc)return dc;var t,e=_g,n=e.length,r,i="value"in vi?vi.value:vi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return dc=i.slice(t,1<r?1-r:void 0)}function pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function Kv(){return!1}function jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ju:Kv,this.isPropagationStopped=Kv,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=jn(qs),ru=mt({},qs,{view:0,detail:0}),FP=jn(ru),ad,ld,ga,jf=mt({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(ad=t.screenX-ga.screenX,ld=t.screenY-ga.screenY):ld=ad=0,ga=t),ad)},movementY:function(t){return"movementY"in t?t.movementY:ld}}),Gv=jn(jf),VP=mt({},jf,{dataTransfer:0}),jP=jn(VP),$P=mt({},ru,{relatedTarget:0}),ud=jn($P),UP=mt({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),BP=jn(UP),qP=mt({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zP=jn(qP),HP=mt({},qs,{data:0}),Qv=jn(HP),WP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GP[t])?!!e[t]:!1}function wg(){return QP}var YP=mt({},ru,{key:function(t){if(t.key){var e=WP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XP=jn(YP),JP=mt({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=jn(JP),ZP=mt({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),eO=jn(ZP),tO=mt({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),nO=jn(tO),rO=mt({},jf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iO=jn(rO),oO=[9,13,27,32],Tg=qr&&"CompositionEvent"in window,Qa=null;qr&&"documentMode"in document&&(Qa=document.documentMode);var sO=qr&&"TextEvent"in window&&!Qa,kw=qr&&(!Tg||Qa&&8<Qa&&11>=Qa),Xv=" ",Jv=!1;function Cw(t,e){switch(t){case"keyup":return oO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function aO(t,e){switch(t){case"compositionend":return Nw(e);case"keypress":return e.which!==32?null:(Jv=!0,Xv);case"textInput":return t=e.data,t===Xv&&Jv?null:t;default:return null}}function lO(t,e){if(zo)return t==="compositionend"||!Tg&&Cw(t,e)?(t=Ow(),dc=_g=vi=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kw&&e.locale!=="ko"?null:e.data;default:return null}}var uO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uO[t.type]:e==="textarea"}function xw(t,e,n,r){cw(r),e=zc(e,"onChange"),0<e.length&&(n=new Eg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ya=null,yl=null;function cO(t){zw(t,0)}function $f(t){var e=Ko(t);if(rw(e))return t}function fO(t,e){if(t==="change")return e}var Dw=!1;if(qr){var cd;if(qr){var fd="oninput"in document;if(!fd){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),fd=typeof e_.oninput=="function"}cd=fd}else cd=!1;Dw=cd&&(!document.documentMode||9<document.documentMode)}function t_(){Ya&&(Ya.detachEvent("onpropertychange",Lw),yl=Ya=null)}function Lw(t){if(t.propertyName==="value"&&$f(yl)){var e=[];xw(e,yl,t,pg(t)),pw(cO,e)}}function hO(t,e,n){t==="focusin"?(t_(),Ya=e,yl=n,Ya.attachEvent("onpropertychange",Lw)):t==="focusout"&&t_()}function dO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $f(yl)}function pO(t,e){if(t==="click")return $f(e)}function mO(t,e){if(t==="input"||t==="change")return $f(e)}function gO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:gO;function vl(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fp.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function n_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var n=n_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n_(n)}}function Mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=Fc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function Sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yO(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mw(n.ownerDocument.documentElement,n)){if(r!==null&&Sg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=r_(n,o);var s=r_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vO=qr&&"documentMode"in document&&11>=document.documentMode,Ho=null,kp=null,Xa=null,Cp=!1;function i_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||Ho==null||Ho!==Fc(r)||(r=Ho,"selectionStart"in r&&Sg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xa&&vl(Xa,r)||(Xa=r,r=zc(kp,"onSelect"),0<r.length&&(e=new Eg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},hd={},Vw={};qr&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Uf(t){if(hd[t])return hd[t];if(!Wo[t])return t;var e=Wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vw)return hd[t]=e[n];return t}var jw=Uf("animationend"),$w=Uf("animationiteration"),Uw=Uf("animationstart"),Bw=Uf("transitionend"),qw=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){qw.set(t,e),Ro(e,[t])}for(var dd=0;dd<o_.length;dd++){var pd=o_[dd],_O=pd.toLowerCase(),EO=pd[0].toUpperCase()+pd.slice(1);$i(_O,"on"+EO)}$i(jw,"onAnimationEnd");$i($w,"onAnimationIteration");$i(Uw,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(Bw,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function s_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_P(r,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;s_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;s_(i,a,u),o=l}}}if(jc)throw t=bp,jc=!1,bp=null,t}function rt(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var r=t+"__bubble";n.has(r)||(Hw(e,t,2,!1),n.add(r))}function md(t,e,n){var r=0;e&&(r|=4),Hw(n,t,r,e)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function _l(t){if(!t[Uu]){t[Uu]=!0,JE.forEach(function(n){n!=="selectionchange"&&(wO.has(n)||md(n,!1,t),md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uu]||(e[Uu]=!0,md("selectionchange",!1,e))}}function Hw(t,e,n,r){switch(Pw(e)){case 1:var i=LP;break;case 4:i=MP;break;default:i=vg}n=i.bind(null,e,n,t),i=void 0,!Ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ji(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}pw(function(){var u=o,c=pg(n),h=[];e:{var f=qw.get(t);if(f!==void 0){var d=Eg,E=t;switch(t){case"keypress":if(pc(n)===0)break e;case"keydown":case"keyup":d=XP;break;case"focusin":E="focus",d=ud;break;case"focusout":E="blur",d=ud;break;case"beforeblur":case"afterblur":d=ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=jP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=eO;break;case jw:case $w:case Uw:d=BP;break;case Bw:d=nO;break;case"scroll":d=FP;break;case"wheel":d=iO;break;case"copy":case"cut":case"paste":d=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Yv}var y=(e&4)!==0,_=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,v;p!==null;){v=p;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,m!==null&&(g=dl(p,m),g!=null&&y.push(El(p,g,v)))),_)break;p=p.return}0<y.length&&(f=new d(f,E,null,n,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Sp&&(E=n.relatedTarget||n.fromElement)&&(Ji(E)||E[zr]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(E=n.relatedTarget||n.toElement,d=u,E=E?Ji(E):null,E!==null&&(_=Po(E),E!==_||E.tag!==5&&E.tag!==6)&&(E=null)):(d=null,E=u),d!==E)){if(y=Gv,g="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Yv,g="onPointerLeave",m="onPointerEnter",p="pointer"),_=d==null?f:Ko(d),v=E==null?f:Ko(E),f=new y(g,p+"leave",d,n,c),f.target=_,f.relatedTarget=v,g=null,Ji(c)===u&&(y=new y(m,p+"enter",E,n,c),y.target=v,y.relatedTarget=_,g=y),_=g,d&&E)t:{for(y=d,m=E,p=0,v=y;v;v=Mo(v))p++;for(v=0,g=m;g;g=Mo(g))v++;for(;0<p-v;)y=Mo(y),p--;for(;0<v-p;)m=Mo(m),v--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Mo(y),m=Mo(m)}y=null}else y=null;d!==null&&a_(h,f,d,y,!1),E!==null&&_!==null&&a_(h,_,E,y,!0)}}e:{if(f=u?Ko(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var w=fO;else if(Zv(f))if(Dw)w=mO;else{w=dO;var T=hO}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=pO);if(w&&(w=w(t,u))){xw(h,w,n,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&vp(f,"number",f.value)}switch(T=u?Ko(u):window,t){case"focusin":(Zv(T)||T.contentEditable==="true")&&(Ho=T,kp=u,Xa=null);break;case"focusout":Xa=kp=Ho=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,i_(h,n,c);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":i_(h,n,c)}var S;if(Tg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zo?Cw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(kw&&n.locale!=="ko"&&(zo||b!=="onCompositionStart"?b==="onCompositionEnd"&&zo&&(S=Ow()):(vi=c,_g="value"in vi?vi.value:vi.textContent,zo=!0)),T=zc(u,b),0<T.length&&(b=new Qv(b,t,null,n,c),h.push({event:b,listeners:T}),S?b.data=S:(S=Nw(n),S!==null&&(b.data=S)))),(S=sO?aO(t,n):lO(t,n))&&(u=zc(u,"onBeforeInput"),0<u.length&&(c=new Qv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}zw(h,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=dl(t,n),o!=null&&r.unshift(El(t,o,i)),o=dl(t,e),o!=null&&r.push(El(t,o,i))),t=t.return}return r}function Mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=dl(n,o),l!=null&&s.unshift(El(n,l,a))):i||(l=dl(n,o),l!=null&&s.push(El(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TO=/\r\n?/g,SO=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(TO,`
`).replace(SO,"")}function Bu(t,e,n){if(e=l_(e),l_(t)!==e&&n)throw Error(ie(425))}function Hc(){}var Np=null,xp=null;function Dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,AO=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,IO=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(bO)}:Lp;function bO(t){setTimeout(function(){throw t})}function yd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gl(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),yr="__reactFiber$"+zs,wl="__reactProps$"+zs,zr="__reactContainer$"+zs,Mp="__reactEvents$"+zs,RO="__reactListeners$"+zs,PO="__reactHandles$"+zs;function Ji(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c_(t);t!==null;){if(n=t[yr])return n;t=c_(t)}return e}t=n,n=t.parentNode}return null}function iu(t){return t=t[yr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Bf(t){return t[wl]||null}var Fp=[],Go=-1;function Ui(t){return{current:t}}function lt(t){0>Go||(t.current=Fp[Go],Fp[Go]=null,Go--)}function tt(t,e){Go++,Fp[Go]=t.current,t.current=e}var Li={},fn=Ui(Li),In=Ui(!1),mo=Li;function ys(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Wc(){lt(In),lt(fn)}function f_(t,e,n){if(fn.current!==Li)throw Error(ie(168));tt(fn,e),tt(In,n)}function Ww(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,hP(t)||"Unknown",i));return mt({},n,r)}function Kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,mo=fn.current,tt(fn,t),tt(In,In.current),!0}function h_(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Ww(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,lt(In),lt(fn),tt(fn,t)):lt(In),tt(In,n)}var Dr=null,qf=!1,vd=!1;function Kw(t){Dr===null?Dr=[t]:Dr.push(t)}function OO(t){qf=!0,Kw(t)}function Bi(){if(!vd&&Dr!==null){vd=!0;var t=0,e=Ye;try{var n=Dr;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,qf=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),vw(mg,Bi),i}finally{Ye=e,vd=!1}}return null}var Qo=[],Yo=0,Gc=null,Qc=0,Un=[],Bn=0,go=null,Lr=1,Mr="";function Wi(t,e){Qo[Yo++]=Qc,Qo[Yo++]=Gc,Gc=t,Qc=e}function Gw(t,e,n){Un[Bn++]=Lr,Un[Bn++]=Mr,Un[Bn++]=go,go=t;var r=Lr;t=Mr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var o=32-or(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Lr=1<<32-or(e)+i|n<<i|r,Mr=o+t}else Lr=1<<o|n<<i|r,Mr=t}function Ag(t){t.return!==null&&(Wi(t,1),Gw(t,1,0))}function Ig(t){for(;t===Gc;)Gc=Qo[--Yo],Qo[Yo]=null,Qc=Qo[--Yo],Qo[Yo]=null;for(;t===go;)go=Un[--Bn],Un[Bn]=null,Mr=Un[--Bn],Un[Bn]=null,Lr=Un[--Bn],Un[Bn]=null}var xn=null,Nn=null,ct=!1,nr=null;function Qw(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,Nn=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:Lr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,Nn=null,!0):!1;default:return!1}}function Vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jp(t){if(ct){var e=Nn;if(e){var n=e;if(!d_(t,e)){if(Vp(t))throw Error(ie(418));e=Ai(n.nextSibling);var r=xn;e&&d_(t,e)?Qw(r,n):(t.flags=t.flags&-4097|2,ct=!1,xn=t)}}else{if(Vp(t))throw Error(ie(418));t.flags=t.flags&-4097|2,ct=!1,xn=t}}}function p_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function qu(t){if(t!==xn)return!1;if(!ct)return p_(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dp(t.type,t.memoizedProps)),e&&(e=Nn)){if(Vp(t))throw Yw(),Error(ie(418));for(;e;)Qw(t,e),e=Ai(e.nextSibling)}if(p_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=xn?Ai(t.stateNode.nextSibling):null;return!0}function Yw(){for(var t=Nn;t;)t=Ai(t.nextSibling)}function vs(){Nn=xn=null,ct=!1}function bg(t){nr===null?nr=[t]:nr.push(t)}var kO=Xr.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Yc=Ui(null),Xc=null,Xo=null,Rg=null;function Pg(){Rg=Xo=Xc=null}function Og(t){var e=Yc.current;lt(Yc),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function us(t,e){Xc=t,Rg=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(Rg!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(Xc===null)throw Error(ie(308));Xo=t,Xc.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var Zi=null;function kg(t){Zi===null?Zi=[t]:Zi.push(t)}function Xw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Cg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hr(t,n)}return i=r.interleaved,i===null?(e.next=e,kg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hr(t,n)}function mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gg(t,n)}}function m_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jc(t,e,n,r){var i=t.updateQueue;fi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(f=e,d=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){h=E.call(d,h,f);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,f=typeof E=="function"?E.call(d,h,f):E,f==null)break e;h=mt({},h,f);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vo|=s,t.lanes=s,t.memoizedState=h}}function g_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var Zw=new XE.Component().refs;function Up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zf={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=Ri(t),o=$r(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(sr(e,t,i,r),mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=Ri(t),o=$r(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(sr(e,t,i,r),mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Ri(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(sr(e,t,r,n),mc(e,t,r))}};function y_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,o):!0}function eT(t,e,n){var r=!1,i=Li,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=bn(e)?mo:fn.current,r=e.contextTypes,o=(r=r!=null)?ys(t,i):Li),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function v_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function Bp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Zw,Cg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=bn(e)?mo:fn.current,i.context=ys(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Up(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zf.enqueueReplaceState(i,i.state,null),Jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Zw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function zu(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function __(t){var e=t._init;return e(t._payload)}function tT(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Pi(m,p),m.index=0,m.sibling=null,m}function o(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,g){return p===null||p.tag!==6?(p=Id(v,m.mode,g),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,g){var w=v.type;return w===qo?c(m,p,v.props.children,g,v.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ci&&__(w)===p.type)?(g=i(p,v.props),g.ref=ya(m,p,v),g.return=m,g):(g=wc(v.type,v.key,v.props,null,m.mode,g),g.ref=ya(m,p,v),g.return=m,g)}function u(m,p,v,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=bd(v,m.mode,g),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function c(m,p,v,g,w){return p===null||p.tag!==7?(p=uo(v,m.mode,g,w),p.return=m,p):(p=i(p,v),p.return=m,p)}function h(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Id(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xu:return v=wc(p.type,p.key,p.props,null,m.mode,v),v.ref=ya(m,null,p),v.return=m,v;case Bo:return p=bd(p,m.mode,v),p.return=m,p;case ci:var g=p._init;return h(m,g(p._payload),v)}if(Ma(p)||ha(p))return p=uo(p,m.mode,v,null),p.return=m,p;zu(m,p)}return null}function f(m,p,v,g){var w=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(m,p,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xu:return v.key===w?l(m,p,v,g):null;case Bo:return v.key===w?u(m,p,v,g):null;case ci:return w=v._init,f(m,p,w(v._payload),g)}if(Ma(v)||ha(v))return w!==null?null:c(m,p,v,g,null);zu(m,v)}return null}function d(m,p,v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(v)||null,a(p,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xu:return m=m.get(g.key===null?v:g.key)||null,l(p,m,g,w);case Bo:return m=m.get(g.key===null?v:g.key)||null,u(p,m,g,w);case ci:var T=g._init;return d(m,p,v,T(g._payload),w)}if(Ma(g)||ha(g))return m=m.get(v)||null,c(p,m,g,w,null);zu(p,g)}return null}function E(m,p,v,g){for(var w=null,T=null,S=p,b=p=0,O=null;S!==null&&b<v.length;b++){S.index>b?(O=S,S=null):O=S.sibling;var I=f(m,S,v[b],g);if(I===null){S===null&&(S=O);break}t&&S&&I.alternate===null&&e(m,S),p=o(I,p,b),T===null?w=I:T.sibling=I,T=I,S=O}if(b===v.length)return n(m,S),ct&&Wi(m,b),w;if(S===null){for(;b<v.length;b++)S=h(m,v[b],g),S!==null&&(p=o(S,p,b),T===null?w=S:T.sibling=S,T=S);return ct&&Wi(m,b),w}for(S=r(m,S);b<v.length;b++)O=d(S,m,b,v[b],g),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?b:O.key),p=o(O,p,b),T===null?w=O:T.sibling=O,T=O);return t&&S.forEach(function(A){return e(m,A)}),ct&&Wi(m,b),w}function y(m,p,v,g){var w=ha(v);if(typeof w!="function")throw Error(ie(150));if(v=w.call(v),v==null)throw Error(ie(151));for(var T=w=null,S=p,b=p=0,O=null,I=v.next();S!==null&&!I.done;b++,I=v.next()){S.index>b?(O=S,S=null):O=S.sibling;var A=f(m,S,I.value,g);if(A===null){S===null&&(S=O);break}t&&S&&A.alternate===null&&e(m,S),p=o(A,p,b),T===null?w=A:T.sibling=A,T=A,S=O}if(I.done)return n(m,S),ct&&Wi(m,b),w;if(S===null){for(;!I.done;b++,I=v.next())I=h(m,I.value,g),I!==null&&(p=o(I,p,b),T===null?w=I:T.sibling=I,T=I);return ct&&Wi(m,b),w}for(S=r(m,S);!I.done;b++,I=v.next())I=d(S,m,b,I.value,g),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?b:I.key),p=o(I,p,b),T===null?w=I:T.sibling=I,T=I);return t&&S.forEach(function(R){return e(m,R)}),ct&&Wi(m,b),w}function _(m,p,v,g){if(typeof v=="object"&&v!==null&&v.type===qo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case xu:e:{for(var w=v.key,T=p;T!==null;){if(T.key===w){if(w=v.type,w===qo){if(T.tag===7){n(m,T.sibling),p=i(T,v.props.children),p.return=m,m=p;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ci&&__(w)===T.type){n(m,T.sibling),p=i(T,v.props),p.ref=ya(m,T,v),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}v.type===qo?(p=uo(v.props.children,m.mode,g,v.key),p.return=m,m=p):(g=wc(v.type,v.key,v.props,null,m.mode,g),g.ref=ya(m,p,v),g.return=m,m=g)}return s(m);case Bo:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=bd(v,m.mode,g),p.return=m,m=p}return s(m);case ci:return T=v._init,_(m,p,T(v._payload),g)}if(Ma(v))return E(m,p,v,g);if(ha(v))return y(m,p,v,g);zu(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=Id(v,m.mode,g),p.return=m,m=p),s(m)):n(m,p)}return _}var _s=tT(!0),nT=tT(!1),ou={},Tr=Ui(ou),Tl=Ui(ou),Sl=Ui(ou);function eo(t){if(t===ou)throw Error(ie(174));return t}function Ng(t,e){switch(tt(Sl,e),tt(Tl,t),tt(Tr,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}lt(Tr),tt(Tr,e)}function Es(){lt(Tr),lt(Tl),lt(Sl)}function rT(t){eo(Sl.current);var e=eo(Tr.current),n=Ep(e,t.type);e!==n&&(tt(Tl,t),tt(Tr,n))}function xg(t){Tl.current===t&&(lt(Tr),lt(Tl))}var dt=Ui(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _d=[];function Dg(){for(var t=0;t<_d.length;t++)_d[t]._workInProgressVersionPrimary=null;_d.length=0}var gc=Xr.ReactCurrentDispatcher,Ed=Xr.ReactCurrentBatchConfig,yo=0,pt=null,Lt=null,Ut=null,ef=!1,Ja=!1,Al=0,CO=0;function tn(){throw Error(ie(321))}function Lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Mg(t,e,n,r,i,o){if(yo=o,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gc.current=t===null||t.memoizedState===null?LO:MO,t=n(r,i),Ja){o=0;do{if(Ja=!1,Al=0,25<=o)throw Error(ie(301));o+=1,Ut=Lt=null,e.updateQueue=null,gc.current=FO,t=n(r,i)}while(Ja)}if(gc.current=tf,e=Lt!==null&&Lt.next!==null,yo=0,Ut=Lt=pt=null,ef=!1,e)throw Error(ie(300));return t}function Fg(){var t=Al!==0;return Al=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?pt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Gn(){if(Lt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Ut===null?pt.memoizedState:Ut.next;if(e!==null)Ut=e,Lt=t;else{if(t===null)throw Error(ie(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?pt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Il(t,e){return typeof e=="function"?e(t):e}function wd(t){var e=Gn(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,pt.lanes|=c,vo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,lr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pt.lanes|=o,vo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=Gn(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);lr(o,e.memoizedState)||(An=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function iT(){}function oT(t,e){var n=pt,r=Gn(),i=e(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,An=!0),r=r.queue,Vg(lT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,bl(9,aT.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(ie(349));yo&30||sT(n,e,i)}return i}function sT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aT(t,e,n,r){e.value=n,e.getSnapshot=r,uT(e)&&cT(t)}function lT(t,e,n){return n(function(){uT(e)&&cT(t)})}function uT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function cT(t){var e=Hr(t,1);e!==null&&sr(e,t,1,-1)}function E_(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=DO.bind(null,pt,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fT(){return Gn().memoizedState}function yc(t,e,n,r){var i=mr();pt.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Hf(t,e,n,r){var i=Gn();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Lg(r,s.deps)){i.memoizedState=bl(e,n,o,r);return}}pt.flags|=t,i.memoizedState=bl(1|e,n,o,r)}function w_(t,e){return yc(8390656,8,t,e)}function Vg(t,e){return Hf(2048,8,t,e)}function hT(t,e){return Hf(4,2,t,e)}function dT(t,e){return Hf(4,4,t,e)}function pT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mT(t,e,n){return n=n!=null?n.concat([t]):null,Hf(4,4,pT.bind(null,e,t),n)}function jg(){}function gT(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yT(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vT(t,e,n){return yo&21?(lr(n,e)||(n=ww(),pt.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function NO(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Ed.transition;Ed.transition={};try{t(!1),e()}finally{Ye=n,Ed.transition=r}}function _T(){return Gn().memoizedState}function xO(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ET(t))wT(e,n);else if(n=Xw(t,e,n,r),n!==null){var i=vn();sr(n,t,r,i),TT(n,e,r)}}function DO(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ET(t))wT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,s)){var l=e.interleaved;l===null?(i.next=i,kg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Xw(t,e,i,r),n!==null&&(i=vn(),sr(n,t,r,i),TT(n,e,r))}}function ET(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function wT(t,e){Ja=ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gg(t,n)}}var tf={readContext:Kn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},LO={readContext:Kn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:w_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yc(4194308,4,pT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return yc(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xO.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:E_,useDebugValue:jg,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=E_(!1),e=t[0];return t=NO.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=mr();if(ct){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),qt===null)throw Error(ie(349));yo&30||sT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,w_(lT.bind(null,r,o,t),[t]),r.flags|=2048,bl(9,aT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=mr(),e=qt.identifierPrefix;if(ct){var n=Mr,r=Lr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MO={readContext:Kn,useCallback:gT,useContext:Kn,useEffect:Vg,useImperativeHandle:mT,useInsertionEffect:hT,useLayoutEffect:dT,useMemo:yT,useReducer:wd,useRef:fT,useState:function(){return wd(Il)},useDebugValue:jg,useDeferredValue:function(t){var e=Gn();return vT(e,Lt.memoizedState,t)},useTransition:function(){var t=wd(Il)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:iT,useSyncExternalStore:oT,useId:_T,unstable_isNewReconciler:!1},FO={readContext:Kn,useCallback:gT,useContext:Kn,useEffect:Vg,useImperativeHandle:mT,useInsertionEffect:hT,useLayoutEffect:dT,useMemo:yT,useReducer:Td,useRef:fT,useState:function(){return Td(Il)},useDebugValue:jg,useDeferredValue:function(t){var e=Gn();return Lt===null?e.memoizedState=t:vT(e,Lt.memoizedState,t)},useTransition:function(){var t=Td(Il)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:iT,useSyncExternalStore:oT,useId:_T,unstable_isNewReconciler:!1};function ws(t,e){try{var n="",r=e;do n+=fP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Sd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VO=typeof WeakMap=="function"?WeakMap:Map;function ST(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rf||(rf=!0,Zp=r),qp(t,e)},n}function AT(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qp(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function T_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JO.bind(null,t,e,n),e.then(t,t))}function S_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var jO=Xr.ReactCurrentOwner,An=!1;function mn(t,e,n,r){e.child=t===null?nT(e,null,n,r):_s(e,t.child,n,r)}function I_(t,e,n,r,i){n=n.render;var o=e.ref;return us(e,i),r=Mg(t,e,n,r,o,i),n=Fg(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(ct&&n&&Ag(e),e.flags|=1,mn(t,e,r,i),e.child)}function b_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Kg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,IT(t,e,o,r,i)):(t=wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(s,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Pi(o,r),t.ref=e.ref,t.return=e,e.child=t}function IT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(vl(o,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return zp(t,e,n,r,i)}function bT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Zo,kn),kn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Zo,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Zo,kn),kn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(Zo,kn),kn|=r;return mn(t,e,i,n),e.child}function RT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,r,i){var o=bn(n)?mo:fn.current;return o=ys(e,o),us(e,i),n=Mg(t,e,n,r,o,i),r=Fg(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(ct&&r&&Ag(e),e.flags|=1,mn(t,e,n,i),e.child)}function R_(t,e,n,r,i){if(bn(n)){var o=!0;Kc(e)}else o=!1;if(us(e,i),e.stateNode===null)vc(t,e),eT(e,n,r),Bp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=bn(n)?mo:fn.current,u=ys(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&v_(e,s,r,u),fi=!1;var f=e.memoizedState;s.state=f,Jc(e,r,s,i),l=e.memoizedState,a!==r||f!==l||In.current||fi?(typeof c=="function"&&(Up(e,n,c,r),l=e.memoizedState),(a=fi||y_(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Jw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jn(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=bn(n)?mo:fn.current,l=ys(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&v_(e,s,r,l),fi=!1,f=e.memoizedState,s.state=f,Jc(e,r,s,i);var E=e.memoizedState;a!==h||f!==E||In.current||fi?(typeof d=="function"&&(Up(e,n,d,r),E=e.memoizedState),(u=fi||y_(e,n,u,r,f,E,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hp(t,e,n,r,o,i)}function Hp(t,e,n,r,i,o){RT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&h_(e,n,!1),Wr(t,e,o);r=e.stateNode,jO.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_s(e,t.child,null,o),e.child=_s(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&h_(e,n,!0),e.child}function PT(t){var e=t.stateNode;e.pendingContext?f_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f_(t,e.context,!1),Ng(t,e.containerInfo)}function P_(t,e,n,r,i){return vs(),bg(i),e.flags|=256,mn(t,e,n,r),e.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function OT(t,e,n){var r=e.pendingProps,i=dt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(dt,i&1),t===null)return jp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gf(s,r,0,null),t=uo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Kp(n),e.memoizedState=Wp,t):$g(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $O(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Pi(a,o):(o=uo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Kp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Wp,r}return o=t.child,t=o.sibling,r=Pi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=Gf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hu(t,e,n,r){return r!==null&&bg(r),_s(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $O(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Sd(Error(ie(422))),Hu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gf({mode:"visible",children:r.children},i,0,null),o=uo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_s(e,t.child,null,s),e.child.memoizedState=Kp(s),e.memoizedState=Wp,o);if(!(e.mode&1))return Hu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=Sd(o,r,void 0),Hu(t,e,s,r)}if(a=(s&t.childLanes)!==0,An||a){if(r=qt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hr(t,i),sr(r,t,i,-1))}return Wg(),r=Sd(Error(ie(421))),Hu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=Ai(i.nextSibling),xn=e,ct=!0,nr=null,t!==null&&(Un[Bn++]=Lr,Un[Bn++]=Mr,Un[Bn++]=go,Lr=t.id,Mr=t.overflow,go=e),e=$g(e,r.children),e.flags|=4096,e)}function O_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function Ad(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O_(t,n,e);else if(t.tag===19)O_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ad(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ad(e,!0,n,null,o);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UO(t,e,n){switch(e.tag){case 3:PT(e),vs();break;case 5:rT(e);break;case 1:bn(e.type)&&Kc(e);break;case 4:Ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Yc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?OT(t,e,n):(tt(dt,dt.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);tt(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,n)}return Wr(t,e,n)}var CT,Gp,NT,xT;CT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gp=function(){};NT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,eo(Tr.current);var o=null;switch(n){case"input":i=gp(t,i),r=gp(t,r),o=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),o=[];break;case"textarea":i=_p(t,i),r=_p(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}wp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};xT=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BO(t,e,n){var r=e.pendingProps;switch(Ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return bn(e.type)&&Wc(),nn(e),null;case 3:return r=e.stateNode,Es(),lt(In),lt(fn),Dg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(nm(nr),nr=null))),Gp(t,e),nn(e),null;case 5:xg(e);var i=eo(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)NT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return nn(e),null}if(t=eo(Tr.current),qu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[yr]=e,r[wl]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)rt(Va[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Vv(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":$v(r,o),rt("invalid",r)}wp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,a,t),i=["children",""+a]):fl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":Du(r),jv(r,o,!0);break;case"textarea":Du(r),Uv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[yr]=e,t[wl]=r,CT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Tp(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)rt(Va[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Vv(t,r),i=gp(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":$v(t,r),i=_p(t,r),rt("invalid",t);break;default:i=r}wp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?uw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&cg(t,o,l,s))}switch(n){case"input":Du(t),jv(t,r,!1);break;case"textarea":Du(t),Uv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?os(t,!!r.multiple,o,!1):r.defaultValue!=null&&os(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=eo(Sl.current),eo(Tr.current),qu(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(o=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return nn(e),null;case 13:if(lt(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Nn!==null&&e.mode&1&&!(e.flags&128))Yw(),vs(),e.flags|=98560,o=!1;else if(o=qu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ie(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[yr]=e}else vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else nr!==null&&(nm(nr),nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Mt===0&&(Mt=3):Wg())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Es(),Gp(t,e),t===null&&_l(e.stateNode.containerInfo),nn(e),null;case 10:return Og(e.type._context),nn(e),null;case 17:return bn(e.type)&&Wc(),nn(e),null;case 19:if(lt(dt),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)va(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zc(t),s!==null){for(e.flags|=128,va(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(dt,dt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Rt()>Ts&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return nn(e),null}else 2*Rt()-o.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Rt(),e.sibling=null,n=dt.current,tt(dt,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return Hg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function qO(t,e){switch(Ig(e),e.tag){case 1:return bn(e.type)&&Wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),lt(In),lt(fn),Dg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xg(e),null;case 13:if(lt(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(dt),null;case 4:return Es(),null;case 10:return Og(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var Wu=!1,sn=!1,zO=typeof WeakSet=="function"?WeakSet:Set,de=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Qp(t,e,n){try{n()}catch(r){vt(t,e,r)}}var k_=!1;function HO(t,e){if(Np=Bc,t=Fw(),Sg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},Bc=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,_=E.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Jn(e.type,y),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(g){vt(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return E=k_,k_=!1,E}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qp(e,n,o)}i=i.next}while(i!==r)}}function Wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DT(t){var e=t.alternate;e!==null&&(t.alternate=null,DT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[wl],delete e[Mp],delete e[RO],delete e[PO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LT(t){return t.tag===5||t.tag===3||t.tag===4}function C_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}var Wt=null,er=!1;function si(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Vf,n)}catch{}switch(n.tag){case 5:sn||Jo(n,e);case 6:var r=Wt,i=er;Wt=null,si(t,e,n),Wt=r,er=i,Wt!==null&&(er?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(er?(t=Wt,n=n.stateNode,t.nodeType===8?yd(t.parentNode,n):t.nodeType===1&&yd(t,n),gl(t)):yd(Wt,n.stateNode));break;case 4:r=Wt,i=er,Wt=n.stateNode.containerInfo,er=!0,si(t,e,n),Wt=r,er=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qp(n,e,s),i=i.next}while(i!==r)}si(t,e,n);break;case 1:if(!sn&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,si(t,e,n),sn=r):si(t,e,n);break;default:si(t,e,n)}}function N_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zO),e.forEach(function(r){var i=ek.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,er=!1;break e;case 3:Wt=a.stateNode.containerInfo,er=!0;break e;case 4:Wt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(Wt===null)throw Error(ie(160));MT(o,s,i),Wt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FT(e,t),e=e.sibling}function FT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),dr(t),r&4){try{Za(3,t,t.return),Wf(3,t)}catch(y){vt(t,t.return,y)}try{Za(5,t,t.return)}catch(y){vt(t,t.return,y)}}break;case 1:Yn(e,t),dr(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(Yn(e,t),dr(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(y){vt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&iw(i,o),Tp(a,s);var u=Tp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?uw(i,h):c==="dangerouslySetInnerHTML"?aw(i,h):c==="children"?hl(i,h):cg(i,c,h,u)}switch(a){case"input":yp(i,o);break;case"textarea":ow(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?os(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?os(i,!!o.multiple,o.defaultValue,!0):os(i,!!o.multiple,o.multiple?[]:"",!1))}i[wl]=o}catch(y){vt(t,t.return,y)}}break;case 6:if(Yn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){vt(t,t.return,y)}}break;case 3:if(Yn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(y){vt(t,t.return,y)}break;case 4:Yn(e,t),dr(t);break;case 13:Yn(e,t),dr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qg=Rt())),r&4&&N_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||c,Yn(e,t),sn=u):Yn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(h=de=c;de!==null;){switch(f=de,d=f.child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:Jo(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){vt(r,n,y)}}break;case 5:Jo(f,f.return);break;case 22:if(f.memoizedState!==null){D_(h);continue}}d!==null?(d.return=f,de=d):D_(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lw("display",s))}catch(y){vt(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){vt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),dr(t),r&4&&N_(t);break;case 21:break;default:Yn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LT(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var o=C_(t);Jp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=C_(t);Xp(t,a,s);break;default:throw Error(ie(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WO(t,e,n){de=t,VT(t)}function VT(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Wu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Wu;var u=sn;if(Wu=s,(sn=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?L_(i):l!==null?(l.return=s,de=l):L_(i);for(;o!==null;)de=o,VT(o),o=o.sibling;de=i,Wu=a,sn=u}x_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):x_(t)}}function x_(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||Wf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&g_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}g_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}sn||e.flags&512&&Yp(e)}catch(f){vt(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function D_(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function L_(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wf(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{Yp(e)}catch(l){vt(e,o,l)}break;case 5:var s=e.return;try{Yp(e)}catch(l){vt(e,s,l)}}}catch(l){vt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var KO=Math.ceil,nf=Xr.ReactCurrentDispatcher,Ug=Xr.ReactCurrentOwner,Wn=Xr.ReactCurrentBatchConfig,ze=0,qt=null,Ct=null,Yt=0,kn=0,Zo=Ui(0),Mt=0,Rl=null,vo=0,Kf=0,Bg=0,el=null,Sn=null,qg=0,Ts=1/0,Nr=null,rf=!1,Zp=null,bi=null,Ku=!1,_i=null,of=0,tl=0,em=null,_c=-1,Ec=0;function vn(){return ze&6?Rt():_c!==-1?_c:_c=Rt()}function Ri(t){return t.mode&1?ze&2&&Yt!==0?Yt&-Yt:kO.transition!==null?(Ec===0&&(Ec=ww()),Ec):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Pw(t.type)),t):1}function sr(t,e,n,r){if(50<tl)throw tl=0,em=null,Error(ie(185));nu(t,n,r),(!(ze&2)||t!==qt)&&(t===qt&&(!(ze&2)&&(Kf|=n),Mt===4&&di(t,Yt)),Rn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Ts=Rt()+500,qf&&Bi()))}function Rn(t,e){var n=t.callbackNode;kP(t,e);var r=Uc(t,t===qt?Yt:0);if(r===0)n!==null&&zv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zv(n),e===1)t.tag===0?OO(M_.bind(null,t)):Kw(M_.bind(null,t)),IO(function(){!(ze&6)&&Bi()}),n=null;else{switch(Tw(r)){case 1:n=mg;break;case 4:n=_w;break;case 16:n=$c;break;case 536870912:n=Ew;break;default:n=$c}n=WT(n,jT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jT(t,e){if(_c=-1,Ec=0,ze&6)throw Error(ie(327));var n=t.callbackNode;if(cs()&&t.callbackNode!==n)return null;var r=Uc(t,t===qt?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sf(t,r);else{e=r;var i=ze;ze|=2;var o=UT();(qt!==t||Yt!==e)&&(Nr=null,Ts=Rt()+500,lo(t,e));do try{YO();break}catch(a){$T(t,a)}while(!0);Pg(),nf.current=o,ze=i,Ct!==null?e=0:(qt=null,Yt=0,e=Mt)}if(e!==0){if(e===2&&(i=Rp(t),i!==0&&(r=i,e=tm(t,i))),e===1)throw n=Rl,lo(t,0),di(t,r),Rn(t,Rt()),n;if(e===6)di(t,r);else{if(i=t.current.alternate,!(r&30)&&!GO(i)&&(e=sf(t,r),e===2&&(o=Rp(t),o!==0&&(r=o,e=tm(t,o))),e===1))throw n=Rl,lo(t,0),di(t,r),Rn(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Ki(t,Sn,Nr);break;case 3:if(di(t,r),(r&130023424)===r&&(e=qg+500-Rt(),10<e)){if(Uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lp(Ki.bind(null,t,Sn,Nr),e);break}Ki(t,Sn,Nr);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-or(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KO(r/1960))-r,10<r){t.timeoutHandle=Lp(Ki.bind(null,t,Sn,Nr),r);break}Ki(t,Sn,Nr);break;case 5:Ki(t,Sn,Nr);break;default:throw Error(ie(329))}}}return Rn(t,Rt()),t.callbackNode===n?jT.bind(null,t):null}function tm(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=sf(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&nm(e)),t}function nm(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function GO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~Bg,e&=~Kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function M_(t){if(ze&6)throw Error(ie(327));cs();var e=Uc(t,0);if(!(e&1))return Rn(t,Rt()),null;var n=sf(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=tm(t,r))}if(n===1)throw n=Rl,lo(t,0),di(t,e),Rn(t,Rt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,Sn,Nr),Rn(t,Rt()),null}function zg(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Ts=Rt()+500,qf&&Bi())}}function _o(t){_i!==null&&_i.tag===0&&!(ze&6)&&cs();var e=ze;ze|=1;var n=Wn.transition,r=Ye;try{if(Wn.transition=null,Ye=1,t)return t()}finally{Ye=r,Wn.transition=n,ze=e,!(ze&6)&&Bi()}}function Hg(){kn=Zo.current,lt(Zo)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AO(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:Es(),lt(In),lt(fn),Dg();break;case 5:xg(r);break;case 4:Es();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:Og(r.type._context);break;case 22:case 23:Hg()}n=n.return}if(qt=t,Ct=t=Pi(t.current,null),Yt=kn=e,Mt=0,Rl=null,Bg=Kf=vo=0,Sn=el=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Zi=null}return t}function $T(t,e){do{var n=Ct;try{if(Pg(),gc.current=tf,ef){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ef=!1}if(yo=0,Ut=Lt=pt=null,Ja=!1,Al=0,Ug.current=null,n===null||n.return===null){Mt=1,Rl=e,Ct=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=S_(s);if(d!==null){d.flags&=-257,A_(d,s,a,o,e),d.mode&1&&T_(o,u,e),e=d,l=u;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){T_(o,u,e),Wg();break e}l=Error(ie(426))}}else if(ct&&a.mode&1){var _=S_(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),A_(_,s,a,o,e),bg(ws(l,a));break e}}o=l=ws(l,a),Mt!==4&&(Mt=2),el===null?el=[o]:el.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=ST(o,l,e);m_(o,m);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bi===null||!bi.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=AT(o,a,e);m_(o,g);break e}}o=o.return}while(o!==null)}qT(n)}catch(w){e=w,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function UT(){var t=nf.current;return nf.current=tf,t===null?tf:t}function Wg(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),qt===null||!(vo&268435455)&&!(Kf&268435455)||di(qt,Yt)}function sf(t,e){var n=ze;ze|=2;var r=UT();(qt!==t||Yt!==e)&&(Nr=null,lo(t,e));do try{QO();break}catch(i){$T(t,i)}while(!0);if(Pg(),ze=n,nf.current=r,Ct!==null)throw Error(ie(261));return qt=null,Yt=0,Mt}function QO(){for(;Ct!==null;)BT(Ct)}function YO(){for(;Ct!==null&&!wP();)BT(Ct)}function BT(t){var e=HT(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?qT(t):Ct=e,Ug.current=null}function qT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qO(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Ct=null;return}}else if(n=BO(n,e,kn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Mt===0&&(Mt=5)}function Ki(t,e,n){var r=Ye,i=Wn.transition;try{Wn.transition=null,Ye=1,XO(t,e,n,r)}finally{Wn.transition=i,Ye=r}return null}function XO(t,e,n,r){do cs();while(_i!==null);if(ze&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(CP(t,o),t===qt&&(Ct=qt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,WT($c,function(){return cs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wn.transition,Wn.transition=null;var s=Ye;Ye=1;var a=ze;ze|=4,Ug.current=null,HO(t,n),FT(n,t),yO(xp),Bc=!!Np,xp=Np=null,t.current=n,WO(n),TP(),ze=a,Ye=s,Wn.transition=o}else t.current=n;if(Ku&&(Ku=!1,_i=t,of=i),o=t.pendingLanes,o===0&&(bi=null),IP(n.stateNode),Rn(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rf)throw rf=!1,t=Zp,Zp=null,t;return of&1&&t.tag!==0&&cs(),o=t.pendingLanes,o&1?t===em?tl++:(tl=0,em=t):tl=0,Bi(),null}function cs(){if(_i!==null){var t=Tw(of),e=Wn.transition,n=Ye;try{if(Wn.transition=null,Ye=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,of=0,ze&6)throw Error(ie(331));var i=ze;for(ze|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:Za(8,c,o)}var h=c.child;if(h!==null)h.return=c,de=h;else for(;de!==null;){c=de;var f=c.sibling,d=c.return;if(DT(c),c===u){de=null;break}if(f!==null){f.return=d,de=f;break}de=d}}}var E=o.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,de=m;break e}de=o.return}}var p=t.current;for(de=p;de!==null;){s=de;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,de=v;else e:for(s=p;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wf(9,a)}}catch(w){vt(a,a.return,w)}if(a===s){de=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,de=g;break e}de=a.return}}if(ze=i,Bi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Vf,t)}catch{}r=!0}return r}finally{Ye=n,Wn.transition=e}}return!1}function F_(t,e,n){e=ws(n,e),e=ST(t,e,1),t=Ii(t,e,1),e=vn(),t!==null&&(nu(t,1,e),Rn(t,e))}function vt(t,e,n){if(t.tag===3)F_(t,t,n);else for(;e!==null;){if(e.tag===3){F_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=ws(n,t),t=AT(e,t,1),e=Ii(e,t,1),t=vn(),e!==null&&(nu(e,1,t),Rn(e,t));break}}e=e.return}}function JO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(Yt&n)===n&&(Mt===4||Mt===3&&(Yt&130023424)===Yt&&500>Rt()-qg?lo(t,0):Bg|=n),Rn(t,e)}function zT(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=vn();t=Hr(t,e),t!==null&&(nu(t,e,n),Rn(t,n))}function ZO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zT(t,n)}function ek(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),zT(t,n)}var HT;HT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,UO(t,e,n);An=!!(t.flags&131072)}else An=!1,ct&&e.flags&1048576&&Gw(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vc(t,e),t=e.pendingProps;var i=ys(e,fn.current);us(e,n),i=Mg(null,e,r,t,i,n);var o=Fg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Kc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cg(e),i.updater=zf,e.stateNode=i,i._reactInternals=e,Bp(e,r,t,n),e=Hp(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&Ag(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nk(r),t=Jn(r,t),i){case 0:e=zp(null,e,r,t,n);break e;case 1:e=R_(null,e,r,t,n);break e;case 11:e=I_(null,e,r,t,n);break e;case 14:e=b_(null,e,r,Jn(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),zp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),R_(t,e,r,i,n);case 3:e:{if(PT(e),t===null)throw Error(ie(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Jw(t,e),Jc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ws(Error(ie(423)),e),e=P_(t,e,r,n,i);break e}else if(r!==i){i=ws(Error(ie(424)),e),e=P_(t,e,r,n,i);break e}else for(Nn=Ai(e.stateNode.containerInfo.firstChild),xn=e,ct=!0,nr=null,n=nT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vs(),r===i){e=Wr(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return rT(e),t===null&&jp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Dp(r,i)?s=null:o!==null&&Dp(r,o)&&(e.flags|=32),RT(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&jp(e),null;case 13:return OT(t,e,n);case 4:return Ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_s(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),I_(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tt(Yc,r._currentValue),r._currentValue=s,o!==null)if(lr(o.value,s)){if(o.children===i.children&&!In.current){e=Wr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$r(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$p(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$p(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,us(e,n),i=Kn(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),b_(t,e,r,i,n);case 15:return IT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),vc(t,e),e.tag=1,bn(r)?(t=!0,Kc(e)):t=!1,us(e,n),eT(e,r,i),Bp(e,r,i,n),Hp(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return bT(t,e,n)}throw Error(ie(156,e.tag))};function WT(t,e){return vw(t,e)}function tk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new tk(t,e,n,r)}function Kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nk(t){if(typeof t=="function")return Kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hg)return 11;if(t===dg)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Kg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qo:return uo(n.children,i,o,e);case fg:s=8,i|=8;break;case hp:return t=Hn(12,n,e,i|2),t.elementType=hp,t.lanes=o,t;case dp:return t=Hn(13,n,e,i),t.elementType=dp,t.lanes=o,t;case pp:return t=Hn(19,n,e,i),t.elementType=pp,t.lanes=o,t;case tw:return Gf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZE:s=10;break e;case ew:s=9;break e;case hg:s=11;break e;case dg:s=14;break e;case ci:s=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function uo(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Gf(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=tw,t.lanes=n,t.stateNode={isHidden:!1},t}function Id(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function bd(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gg(t,e,n,r,i,o,s,a,l){return t=new rk(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cg(o),t}function ik(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KT(t){if(!t)return Li;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(bn(n))return Ww(t,n,e)}return e}function GT(t,e,n,r,i,o,s,a,l){return t=Gg(n,r,!0,t,i,o,s,a,l),t.context=KT(null),n=t.current,r=vn(),i=Ri(n),o=$r(r,i),o.callback=e??null,Ii(n,o,i),t.current.lanes=i,nu(t,i,r),Rn(t,r),t}function Qf(t,e,n,r){var i=e.current,o=vn(),s=Ri(i);return n=KT(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,s),t!==null&&(sr(t,i,s,o),mc(t,i,s)),s}function af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qg(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function ok(){return null}var QT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yg(t){this._internalRoot=t}Yf.prototype.render=Yg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Qf(t,e,null,null)};Yf.prototype.unmount=Yg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_o(function(){Qf(null,t,null,null)}),e[zr]=null}};function Yf(t){this._internalRoot=t}Yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&Rw(t)}};function Xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function sk(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=af(s);o.call(u)}}var s=GT(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=s,t[zr]=s.current,_l(t.nodeType===8?t.parentNode:t),_o(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=af(l);a.call(u)}}var l=Gg(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=l,t[zr]=l.current,_l(t.nodeType===8?t.parentNode:t),_o(function(){Qf(e,l,n,r)}),l}function Jf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=af(s);a.call(l)}}Qf(e,s,t,i)}else s=sk(n,e,t,i,r);return af(s)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(gg(e,n|1),Rn(e,Rt()),!(ze&6)&&(Ts=Rt()+500,Bi()))}break;case 13:_o(function(){var r=Hr(t,1);if(r!==null){var i=vn();sr(r,t,1,i)}}),Qg(t,1)}};yg=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=vn();sr(e,t,134217728,n)}Qg(t,134217728)}};Aw=function(t){if(t.tag===13){var e=Ri(t),n=Hr(t,e);if(n!==null){var r=vn();sr(n,t,e,r)}Qg(t,e)}};Iw=function(){return Ye};bw=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Ap=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bf(r);if(!i)throw Error(ie(90));rw(r),yp(r,i)}}}break;case"textarea":ow(t,n);break;case"select":e=n.value,e!=null&&os(t,!!n.multiple,e,!1)}};hw=zg;dw=_o;var ak={usingClientEntryPoint:!1,Events:[iu,Ko,Bf,cw,fw,zg]},_a={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lk={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gw(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Vf=Gu.inject(lk),wr=Gu}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(e))throw Error(ie(200));return ik(t,e,null,n)};Vn.createRoot=function(t,e){if(!Xg(t))throw Error(ie(299));var n=!1,r="",i=QT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gg(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,_l(t.nodeType===8?t.parentNode:t),new Yg(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=gw(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return _o(t)};Vn.hydrate=function(t,e,n){if(!Xf(e))throw Error(ie(200));return Jf(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!Xg(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=GT(e,null,t,1,n??null,i,!1,o,s),t[zr]=e.current,_l(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yf(e)};Vn.render=function(t,e,n){if(!Xf(e))throw Error(ie(200));return Jf(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Xf(t))throw Error(ie(40));return t._reactRootContainer?(_o(function(){Jf(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};Vn.unstable_batchedUpdates=zg;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xf(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Jf(t,e,n,!1,r)};Vn.version="18.2.0-next-9e3b772b8-20220608";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(t){console.error(t)}}YT(),GE.exports=Vn;var Zf=GE.exports;const uk=eu(Zf),ck=FE({__proto__:null,default:uk},[Zf]);var $_=Zf;cp.createRoot=$_.createRoot,cp.hydrateRoot=$_.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ht.apply(this,arguments)}var bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bt||(bt={}));const U_="popstate";function fk(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Pl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Eo(i)}return dk(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ss(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hk(){return Math.random().toString(36).substr(2,8)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function Pl(t,e,n,r){return n===void 0&&(n=null),ht({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jr(e):e,{state:n,key:e&&e.key||r||hk()})}function Eo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=bt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ht({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=bt.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:m})}function f(_,m){a=bt.Push;let p=Pl(y.location,_,m);n&&n(p,_),u=c()+1;let v=B_(p,u),g=y.createHref(p);try{s.pushState(v,"",g)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(g)}o&&l&&l({action:a,location:y.location,delta:1})}function d(_,m){a=bt.Replace;let p=Pl(y.location,_,m);n&&n(p,_),u=c();let v=B_(p,u),g=y.createHref(p);s.replaceState(v,"",g),o&&l&&l({action:a,location:y.location,delta:0})}function E(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:Eo(_);return p=p.replace(/ $/,"%20"),Fe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(U_,h),l=_,()=>{i.removeEventListener(U_,h),l=null}},createHref(_){return e(i,_)},createURL:E,encodeLocation(_){let m=E(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(_){return s.go(_)}};return y}var yt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yt||(yt={}));const pk=new Set(["lazy","caseSensitive","path","id","index","children"]);function mk(t){return t.index===!0}function rm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),mk(i)){let l=ht({},i,e(i),{id:a});return r[a]=l,l}else{let l=ht({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=rm(i.children,e,s,r)),l}})}function es(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Jr(e):e,i=Kr(r.pathname||"/",n);if(i==null)return null;let o=XT(t);yk(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=Pk(i);s=bk(o[a],l)}return s}function gk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function XT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ur([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XT(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Ak(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of JT(o.path))i(o,s,l)}),e}function JT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=JT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ik(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vk=/^:[\w-]+$/,_k=3,Ek=2,wk=1,Tk=10,Sk=-2,q_=t=>t==="*";function Ak(t,e){let n=t.split("/"),r=n.length;return n.some(q_)&&(r+=Sk),e&&(r+=Ek),n.filter(i=>!q_(i)).reduce((i,o)=>i+(vk.test(o)?_k:o===""?wk:Tk),r)}function Ik(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bk(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=im({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Ur([i,c.pathname]),pathnameBase:Ck(Ur([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ur([i,c.pathnameBase]))}return o}function im(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let y=a[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[h];return d&&!E?u[f]=void 0:u[f]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Rk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ss(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ok(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jr(t):t;return{pathname:n?n.startsWith("/")?n:kk(n,e):e,search:Nk(r),hash:xk(i)}}function kk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eh(t,e){let n=ZT(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function th(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jr(t):(i=ht({},t),Fe(!i.pathname||!i.pathname.includes("?"),Rd("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),Rd("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),Rd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Ok(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),Ck=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,z_=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,ht({},r,{headers:i}))};class Jg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function eS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tS=["post","put","patch","delete"],Dk=new Set(tS),Lk=["get",...tS],Mk=new Set(Lk),Fk=new Set([301,302,303,307,308]),Vk=new Set([307,308]),Pd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ea={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$k=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rS="remix-router-transitions";function Uk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=G=>({hasErrorBoundary:z(G)})}else i=$k;let o={},s=rm(t.routes,i,void 0,o),a,l=t.basename||"/",u=ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,d=null,E=null,y=t.hydrationData!=null,_=es(s,t.history.location,l),m=null;if(_==null){let z=$n(404,{pathname:t.history.location.pathname}),{matches:G,route:Y}=J_(s);_=G,m={[Y.id]:z}}let p,v=_.some(z=>z.route.lazy),g=_.some(z=>z.route.loader);if(v)p=!1;else if(!g)p=!0;else if(u.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,G=t.hydrationData?t.hydrationData.errors:null;p=_.every(Y=>Y.route.loader&&Y.route.loader.hydrate!==!0&&(z&&z[Y.route.id]!==void 0||G&&G[Y.route.id]!==void 0))}else p=t.hydrationData!=null;let w,T={historyAction:t.history.action,location:t.history.location,matches:_,initialized:p,navigation:Pd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},S=bt.Pop,b=!1,O,I=!1,A=new Map,R=null,k=!1,x=!1,F=[],q=[],j=new Map,H=0,M=-1,D=new Map,P=new Set,N=new Map,L=new Map,U=new Set,$=new Map,C=new Map,V=!1;function K(){if(c=t.history.listen(z=>{let{action:G,location:Y,delta:ue}=z;if(V){V=!1;return}Ss(C.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=ri({currentLocation:T.location,nextLocation:Y,historyAction:G});if(ye&&ue!=null){V=!0,t.history.go(ue*-1),Do(ye,{state:"blocked",location:Y,proceed(){Do(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),t.history.go(ue)},reset(){let Le=new Map(T.blockers);Le.set(ye,Ea),oe({blockers:Le})}});return}return Ce(G,Y)}),n){Jk(e,A);let z=()=>Zk(e,A);e.addEventListener("pagehide",z),R=()=>e.removeEventListener("pagehide",z)}return T.initialized||Ce(bt.Pop,T.location,{initialHydration:!0}),w}function W(){c&&c(),R&&R(),h.clear(),O&&O.abort(),T.fetchers.forEach((z,G)=>jt(G)),T.blockers.forEach((z,G)=>xo(G))}function Z(z){return h.add(z),()=>h.delete(z)}function oe(z,G){G===void 0&&(G={}),T=ht({},T,z);let Y=[],ue=[];u.v7_fetcherPersist&&T.fetchers.forEach((ye,Le)=>{ye.state==="idle"&&(U.has(Le)?ue.push(Le):Y.push(Le))}),[...h].forEach(ye=>ye(T,{deletedFetchers:ue,unstable_viewTransitionOpts:G.viewTransitionOpts,unstable_flushSync:G.flushSync===!0})),u.v7_fetcherPersist&&(Y.forEach(ye=>T.fetchers.delete(ye)),ue.forEach(ye=>jt(ye)))}function me(z,G,Y){var ue,ye;let{flushSync:Le}=Y===void 0?{}:Y,Ae=T.actionData!=null&&T.navigation.formMethod!=null&&tr(T.navigation.formMethod)&&T.navigation.state==="loading"&&((ue=z.state)==null?void 0:ue._isRedirect)!==!0,_e;G.actionData?Object.keys(G.actionData).length>0?_e=G.actionData:_e=null:Ae?_e=T.actionData:_e=null;let ve=G.loaderData?X_(T.loaderData,G.loaderData,G.matches||[],G.errors):T.loaderData,Ve=T.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Qe,et)=>Ve.set(et,Ea)));let St=b===!0||T.navigation.formMethod!=null&&tr(T.navigation.formMethod)&&((ye=z.state)==null?void 0:ye._isRedirect)!==!0;a&&(s=a,a=void 0),k||S===bt.Pop||(S===bt.Push?t.history.push(z,z.state):S===bt.Replace&&t.history.replace(z,z.state));let Ne;if(S===bt.Pop){let Qe=A.get(T.location.pathname);Qe&&Qe.has(z.pathname)?Ne={currentLocation:T.location,nextLocation:z}:A.has(z.pathname)&&(Ne={currentLocation:z,nextLocation:T.location})}else if(I){let Qe=A.get(T.location.pathname);Qe?Qe.add(z.pathname):(Qe=new Set([z.pathname]),A.set(T.location.pathname,Qe)),Ne={currentLocation:T.location,nextLocation:z}}oe(ht({},G,{actionData:_e,loaderData:ve,historyAction:S,location:z,initialized:!0,navigation:Pd,revalidation:"idle",restoreScrollPosition:Ou(z,G.matches||T.matches),preventScrollReset:St,blockers:Ve}),{viewTransitionOpts:Ne,flushSync:Le===!0}),S=bt.Pop,b=!1,I=!1,k=!1,x=!1,F=[],q=[]}async function Te(z,G){if(typeof z=="number"){t.history.go(z);return}let Y=om(T.location,T.matches,l,u.v7_prependBasename,z,u.v7_relativeSplatPath,G?.fromRouteId,G?.relative),{path:ue,submission:ye,error:Le}=H_(u.v7_normalizeFormMethod,!1,Y,G),Ae=T.location,_e=Pl(T.location,ue,G&&G.state);_e=ht({},_e,t.history.encodeLocation(_e));let ve=G&&G.replace!=null?G.replace:void 0,Ve=bt.Push;ve===!0?Ve=bt.Replace:ve===!1||ye!=null&&tr(ye.formMethod)&&ye.formAction===T.location.pathname+T.location.search&&(Ve=bt.Replace);let St=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,Ne=(G&&G.unstable_flushSync)===!0,Qe=ri({currentLocation:Ae,nextLocation:_e,historyAction:Ve});if(Qe){Do(Qe,{state:"blocked",location:_e,proceed(){Do(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Te(z,G)},reset(){let et=new Map(T.blockers);et.set(Qe,Ea),oe({blockers:et})}});return}return await Ce(Ve,_e,{submission:ye,pendingError:Le,preventScrollReset:St,replace:G&&G.replace,enableViewTransition:G&&G.unstable_viewTransition,flushSync:Ne})}function Oe(){if(Se(),oe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Ce(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Ce(S||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function Ce(z,G,Y){O&&O.abort(),O=null,S=z,k=(Y&&Y.startUninterruptedRevalidation)===!0,ii(T.location,T.matches),b=(Y&&Y.preventScrollReset)===!0,I=(Y&&Y.enableViewTransition)===!0;let ue=a||s,ye=Y&&Y.overrideNavigation,Le=es(ue,G,l),Ae=(Y&&Y.flushSync)===!0;if(!Le){let et=$n(404,{pathname:G.pathname}),{matches:pn,route:At}=J_(ue);fa(),me(G,{matches:pn,loaderData:{},errors:{[At.id]:et}},{flushSync:Ae});return}if(T.initialized&&!x&&Wk(T.location,G)&&!(Y&&Y.submission&&tr(Y.submission.formMethod))){me(G,{matches:Le},{flushSync:Ae});return}O=new AbortController;let _e=Ta(t.history,G,O.signal,Y&&Y.submission),ve,Ve;if(Y&&Y.pendingError)Ve={[nl(Le).route.id]:Y.pendingError};else if(Y&&Y.submission&&tr(Y.submission.formMethod)){let et=await Et(_e,G,Y.submission,Le,{replace:Y.replace,flushSync:Ae});if(et.shortCircuited)return;ve=et.pendingActionData,Ve=et.pendingActionError,ye=Od(G,Y.submission),Ae=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:St,loaderData:Ne,errors:Qe}=await ut(_e,G,Le,ye,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ae,ve,Ve);St||(O=null,me(G,ht({matches:Le},ve?{actionData:ve}:{},{loaderData:Ne,errors:Qe})))}async function Et(z,G,Y,ue,ye){ye===void 0&&(ye={}),Se();let Le=Yk(G,Y);oe({navigation:Le},{flushSync:ye.flushSync===!0});let Ae,_e=am(ue,G);if(!_e.route.action&&!_e.route.lazy)Ae={type:yt.error,error:$n(405,{method:z.method,pathname:G.pathname,routeId:_e.route.id})};else if(Ae=await wa("action",z,_e,ue,o,i,l,u.v7_relativeSplatPath),z.signal.aborted)return{shortCircuited:!0};if(no(Ae)){let ve;return ye&&ye.replace!=null?ve=ye.replace:ve=Ae.location===T.location.pathname+T.location.search,await le(T,Ae,{submission:Y,replace:ve}),{shortCircuited:!0}}if(ts(Ae)){let ve=nl(ue,_e.route.id);return(ye&&ye.replace)!==!0&&(S=bt.Push),{pendingActionData:{},pendingActionError:{[ve.route.id]:Ae.error}}}if(to(Ae))throw $n(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Ae.data}}}async function ut(z,G,Y,ue,ye,Le,Ae,_e,ve,Ve,St){let Ne=ue||Od(G,ye),Qe=ye||Le||t0(Ne),et=a||s,[pn,At]=W_(t.history,T,Y,Qe,G,u.v7_partialHydration&&_e===!0,x,F,q,U,N,P,et,l,Ve,St);if(fa(xe=>!(Y&&Y.some(He=>He.route.id===xe))||pn&&pn.some(He=>He.route.id===xe)),M=++H,pn.length===0&&At.length===0){let xe=wt();return me(G,ht({matches:Y,loaderData:{},errors:St||null},Ve?{actionData:Ve}:{},xe?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(!k&&(!u.v7_partialHydration||!_e)){At.forEach(He=>{let en=T.fetchers.get(He.key),Dt=Sa(void 0,en?en.data:void 0);T.fetchers.set(He.key,Dt)});let xe=Ve||T.actionData;oe(ht({navigation:Ne},xe?Object.keys(xe).length===0?{actionData:null}:{actionData:xe}:{},At.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ve})}At.forEach(xe=>{j.has(xe.key)&&dn(xe.key),xe.controller&&j.set(xe.key,xe.controller)});let Cr=()=>At.forEach(xe=>dn(xe.key));O&&O.signal.addEventListener("abort",Cr);let{results:Lo,loaderResults:oi,fetcherResults:pe}=await ne(T.matches,Y,pn,At,z);if(z.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Cr),At.forEach(xe=>j.delete(xe.key));let B=Z_(Lo);if(B){if(B.idx>=pn.length){let xe=At[B.idx-pn.length].key;P.add(xe)}return await le(T,B.result,{replace:Ae}),{shortCircuited:!0}}let{loaderData:se,errors:ge}=Y_(T,Y,pn,oi,St,At,pe,$);$.forEach((xe,He)=>{xe.subscribe(en=>{(en||xe.done)&&$.delete(He)})});let Ke=wt(),ft=kr(M),It=Ke||ft||At.length>0;return ht({loaderData:se,errors:ge},It?{fetchers:new Map(T.fetchers)}:{})}function Q(z,G,Y,ue){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(z)&&dn(z);let ye=(ue&&ue.unstable_flushSync)===!0,Le=a||s,Ae=om(T.location,T.matches,l,u.v7_prependBasename,Y,u.v7_relativeSplatPath,G,ue?.relative),_e=es(Le,Ae,l);if(!_e){Ie(z,G,$n(404,{pathname:Ae}),{flushSync:ye});return}let{path:ve,submission:Ve,error:St}=H_(u.v7_normalizeFormMethod,!0,Ae,ue);if(St){Ie(z,G,St,{flushSync:ye});return}let Ne=am(_e,ve);if(b=(ue&&ue.preventScrollReset)===!0,Ve&&tr(Ve.formMethod)){J(z,G,ve,Ne,_e,ye,Ve);return}N.set(z,{routeId:G,path:ve}),ae(z,G,ve,Ne,_e,ye,Ve)}async function J(z,G,Y,ue,ye,Le,Ae){if(Se(),N.delete(z),!ue.route.action&&!ue.route.lazy){let He=$n(405,{method:Ae.formMethod,pathname:Y,routeId:G});Ie(z,G,He,{flushSync:Le});return}let _e=T.fetchers.get(z);we(z,Xk(Ae,_e),{flushSync:Le});let ve=new AbortController,Ve=Ta(t.history,Y,ve.signal,Ae);j.set(z,ve);let St=H,Ne=await wa("action",Ve,ue,ye,o,i,l,u.v7_relativeSplatPath);if(Ve.signal.aborted){j.get(z)===ve&&j.delete(z);return}if(u.v7_fetcherPersist&&U.has(z)){if(no(Ne)||ts(Ne)){we(z,li(void 0));return}}else{if(no(Ne))if(j.delete(z),M>St){we(z,li(void 0));return}else return P.add(z),we(z,Sa(Ae)),le(T,Ne,{fetcherSubmission:Ae});if(ts(Ne)){Ie(z,G,Ne.error);return}}if(to(Ne))throw $n(400,{type:"defer-action"});let Qe=T.navigation.location||T.location,et=Ta(t.history,Qe,ve.signal),pn=a||s,At=T.navigation.state!=="idle"?es(pn,T.navigation.location,l):T.matches;Fe(At,"Didn't find any matches after fetcher action");let Cr=++H;D.set(z,Cr);let Lo=Sa(Ae,Ne.data);T.fetchers.set(z,Lo);let[oi,pe]=W_(t.history,T,At,Ae,Qe,!1,x,F,q,U,N,P,pn,l,{[ue.route.id]:Ne.data},void 0);pe.filter(He=>He.key!==z).forEach(He=>{let en=He.key,Dt=T.fetchers.get(en),Cu=Sa(void 0,Dt?Dt.data:void 0);T.fetchers.set(en,Cu),j.has(en)&&dn(en),He.controller&&j.set(en,He.controller)}),oe({fetchers:new Map(T.fetchers)});let B=()=>pe.forEach(He=>dn(He.key));ve.signal.addEventListener("abort",B);let{results:se,loaderResults:ge,fetcherResults:Ke}=await ne(T.matches,At,oi,pe,et);if(ve.signal.aborted)return;ve.signal.removeEventListener("abort",B),D.delete(z),j.delete(z),pe.forEach(He=>j.delete(He.key));let ft=Z_(se);if(ft){if(ft.idx>=oi.length){let He=pe[ft.idx-oi.length].key;P.add(He)}return le(T,ft.result)}let{loaderData:It,errors:xe}=Y_(T,T.matches,oi,ge,void 0,pe,Ke,$);if(T.fetchers.has(z)){let He=li(Ne.data);T.fetchers.set(z,He)}kr(Cr),T.navigation.state==="loading"&&Cr>M?(Fe(S,"Expected pending action"),O&&O.abort(),me(T.navigation.location,{matches:At,loaderData:It,errors:xe,fetchers:new Map(T.fetchers)})):(oe({errors:xe,loaderData:X_(T.loaderData,It,At,xe),fetchers:new Map(T.fetchers)}),x=!1)}async function ae(z,G,Y,ue,ye,Le,Ae){let _e=T.fetchers.get(z);we(z,Sa(Ae,_e?_e.data:void 0),{flushSync:Le});let ve=new AbortController,Ve=Ta(t.history,Y,ve.signal);j.set(z,ve);let St=H,Ne=await wa("loader",Ve,ue,ye,o,i,l,u.v7_relativeSplatPath);if(to(Ne)&&(Ne=await sS(Ne,Ve.signal,!0)||Ne),j.get(z)===ve&&j.delete(z),!Ve.signal.aborted){if(U.has(z)){we(z,li(void 0));return}if(no(Ne))if(M>St){we(z,li(void 0));return}else{P.add(z),await le(T,Ne);return}if(ts(Ne)){Ie(z,G,Ne.error);return}Fe(!to(Ne),"Unhandled fetcher deferred data"),we(z,li(Ne.data))}}async function le(z,G,Y){let{submission:ue,fetcherSubmission:ye,replace:Le}=Y===void 0?{}:Y;G.revalidate&&(x=!0);let Ae=Pl(z.location,G.location,{_isRedirect:!0});if(Fe(Ae,"Expected a location on the redirect navigation"),n){let Qe=!1;if(G.reloadDocument)Qe=!0;else if(nS.test(G.location)){const et=t.history.createURL(G.location);Qe=et.origin!==e.location.origin||Kr(et.pathname,l)==null}if(Qe){Le?e.location.replace(G.location):e.location.assign(G.location);return}}O=null;let _e=Le===!0?bt.Replace:bt.Push,{formMethod:ve,formAction:Ve,formEncType:St}=z.navigation;!ue&&!ye&&ve&&Ve&&St&&(ue=t0(z.navigation));let Ne=ue||ye;if(Vk.has(G.status)&&Ne&&tr(Ne.formMethod))await Ce(_e,Ae,{submission:ht({},Ne,{formAction:G.location}),preventScrollReset:b});else{let Qe=Od(Ae,ue);await Ce(_e,Ae,{overrideNavigation:Qe,fetcherSubmission:ye,preventScrollReset:b})}}async function ne(z,G,Y,ue,ye){let Le=await Promise.all([...Y.map(ve=>wa("loader",ye,ve,G,o,i,l,u.v7_relativeSplatPath)),...ue.map(ve=>ve.matches&&ve.match&&ve.controller?wa("loader",Ta(t.history,ve.path,ve.controller.signal),ve.match,ve.matches,o,i,l,u.v7_relativeSplatPath):{type:yt.error,error:$n(404,{pathname:ve.path})})]),Ae=Le.slice(0,Y.length),_e=Le.slice(Y.length);return await Promise.all([e0(z,Y,Ae,Ae.map(()=>ye.signal),!1,T.loaderData),e0(z,ue.map(ve=>ve.match),_e,ue.map(ve=>ve.controller?ve.controller.signal:null),!0)]),{results:Le,loaderResults:Ae,fetcherResults:_e}}function Se(){x=!0,F.push(...fa()),N.forEach((z,G)=>{j.has(G)&&(q.push(G),dn(G))})}function we(z,G,Y){Y===void 0&&(Y={}),T.fetchers.set(z,G),oe({fetchers:new Map(T.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Ie(z,G,Y,ue){ue===void 0&&(ue={});let ye=nl(T.matches,G);jt(z),oe({errors:{[ye.route.id]:Y},fetchers:new Map(T.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Vt(z){return u.v7_fetcherPersist&&(L.set(z,(L.get(z)||0)+1),U.has(z)&&U.delete(z)),T.fetchers.get(z)||jk}function jt(z){let G=T.fetchers.get(z);j.has(z)&&!(G&&G.state==="loading"&&D.has(z))&&dn(z),N.delete(z),D.delete(z),P.delete(z),U.delete(z),T.fetchers.delete(z)}function Je(z){if(u.v7_fetcherPersist){let G=(L.get(z)||0)-1;G<=0?(L.delete(z),U.add(z)):L.set(z,G)}else jt(z);oe({fetchers:new Map(T.fetchers)})}function dn(z){let G=j.get(z);Fe(G,"Expected fetch controller: "+z),G.abort(),j.delete(z)}function Ze(z){for(let G of z){let Y=Vt(G),ue=li(Y.data);T.fetchers.set(G,ue)}}function wt(){let z=[],G=!1;for(let Y of P){let ue=T.fetchers.get(Y);Fe(ue,"Expected fetcher: "+Y),ue.state==="loading"&&(P.delete(Y),z.push(Y),G=!0)}return Ze(z),G}function kr(z){let G=[];for(let[Y,ue]of D)if(ue<z){let ye=T.fetchers.get(Y);Fe(ye,"Expected fetcher: "+Y),ye.state==="loading"&&(dn(Y),D.delete(Y),G.push(Y))}return Ze(G),G.length>0}function ca(z,G){let Y=T.blockers.get(z)||Ea;return C.get(z)!==G&&C.set(z,G),Y}function xo(z){T.blockers.delete(z),C.delete(z)}function Do(z,G){let Y=T.blockers.get(z)||Ea;Fe(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+G.state);let ue=new Map(T.blockers);ue.set(z,G),oe({blockers:ue})}function ri(z){let{currentLocation:G,nextLocation:Y,historyAction:ue}=z;if(C.size===0)return;C.size>1&&Ss(!1,"A router only supports one blocker at a time");let ye=Array.from(C.entries()),[Le,Ae]=ye[ye.length-1],_e=T.blockers.get(Le);if(!(_e&&_e.state==="proceeding")&&Ae({currentLocation:G,nextLocation:Y,historyAction:ue}))return Le}function fa(z){let G=[];return $.forEach((Y,ue)=>{(!z||z(ue))&&(Y.cancel(),G.push(ue),$.delete(ue))}),G}function ed(z,G,Y){if(f=z,E=G,d=Y||null,!y&&T.navigation===Pd){y=!0;let ue=Ou(T.location,T.matches);ue!=null&&oe({restoreScrollPosition:ue})}return()=>{f=null,E=null,d=null}}function Tt(z,G){return d&&d(z,G.map(ue=>gk(ue,T.loaderData)))||z.key}function ii(z,G){if(f&&E){let Y=Tt(z,G);f[Y]=E()}}function Ou(z,G){if(f){let Y=Tt(z,G),ue=f[Y];if(typeof ue=="number")return ue}return null}function ku(z){o={},a=rm(z,i,void 0,o)}return w={get basename(){return l},get future(){return u},get state(){return T},get routes(){return s},get window(){return e},initialize:K,subscribe:Z,enableScrollRestoration:ed,navigate:Te,fetch:Q,revalidate:Oe,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Vt,deleteFetcher:Je,dispose:W,getBlocker:ca,deleteBlocker:xo,_internalFetchControllers:j,_internalActiveDeferreds:$,_internalSetRoutes:ku},w}function Bk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function om(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=th(i||".",eh(l,o),Kr(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Zg(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ur([n,c.pathname])),Eo(c)}function H_(t,e,n,r){if(!r||!Bk(r))return{path:n};if(r.formMethod&&!Qk(r.formMethod))return{path:n,error:$n(405,{method:r.formMethod})};let i=()=>({path:n,error:$n(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=oS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!tr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,E)=>{let[y,_]=E;return""+d+y+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!tr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=sm(r.formData),u=r.formData;else if(r.body instanceof FormData)l=sm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Q_(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Q_(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(tr(c.formMethod))return{path:n,submission:c};let h=Jr(n);return e&&h.search&&Zg(h.search)&&l.append("index",""),h.search="?"+l,{path:Eo(h),submission:c}}function qk(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function W_(t,e,n,r,i,o,s,a,l,u,c,h,f,d,E,y){let _=y?Object.values(y)[0]:E?Object.values(E)[0]:void 0,m=t.createURL(e.location),p=t.createURL(i),v=y?Object.keys(y)[0]:void 0,w=qk(n,v).filter((S,b)=>{let{route:O}=S;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(zk(e.loaderData,e.matches[b],S)||a.some(R=>R===S.route.id))return!0;let I=e.matches[b],A=S;return K_(S,ht({currentUrl:m,currentParams:I.params,nextUrl:p,nextParams:A.params},r,{actionResult:_,defaultShouldRevalidate:s||m.pathname+m.search===p.pathname+p.search||m.search!==p.search||iS(I,A)}))}),T=[];return c.forEach((S,b)=>{if(o||!n.some(k=>k.route.id===S.routeId)||u.has(b))return;let O=es(f,S.path,d);if(!O){T.push({key:b,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(b),A=am(O,S.path),R=!1;h.has(b)?R=!1:l.includes(b)?R=!0:I&&I.state!=="idle"&&I.data===void 0?R=s:R=K_(A,ht({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})),R&&T.push({key:b,routeId:S.routeId,path:S.path,matches:O,match:A,controller:new AbortController})}),[w,T]}function zk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function iS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function K_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function G_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Fe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Ss(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!pk.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ht({},e(i),{lazy:void 0}))}async function wa(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,h,f=y=>{let _,m=new Promise((p,v)=>_=v);return h=()=>_(),e.signal.addEventListener("abort",h),Promise.race([y({request:e,params:n.params,context:l.requestContext}),m])};try{let y=n.route[t];if(n.route.lazy)if(y){let _,m=await Promise.all([f(y).catch(p=>{_=p}),G_(n.route,o,i)]);if(_)throw _;c=m[0]}else if(await G_(n.route,o,i),y=n.route[t],y)c=await f(y);else if(t==="action"){let _=new URL(e.url),m=_.pathname+_.search;throw $n(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:yt.data,data:void 0};else if(y)c=await f(y);else{let _=new URL(e.url),m=_.pathname+_.search;throw $n(404,{pathname:m})}Fe(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){u=yt.error,c=y}finally{h&&e.signal.removeEventListener("abort",h)}if(Gk(c)){let y=c.status;if(Fk.has(y)){let m=c.headers.get("Location");if(Fe(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!nS.test(m))m=om(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,m,a);else if(!l.isStaticRequest){let p=new URL(e.url),v=m.startsWith("//")?new URL(p.protocol+m):new URL(m),g=Kr(v.pathname,s)!=null;v.origin===p.origin&&g&&(m=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw c.headers.set("Location",m),c;return{type:yt.redirect,status:y,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===yt.error?yt.error:yt.data,response:c};let _;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(m){return{type:yt.error,error:m}}return u===yt.error?{type:u,error:new Jg(y,c.statusText,_),headers:c.headers}:{type:yt.data,data:_,statusCode:c.status,headers:c.headers}}if(u===yt.error)return{type:u,error:c};if(Kk(c)){var d,E;return{type:yt.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((E=c.init)==null?void 0:E.headers)&&new Headers(c.init.headers)}}return{type:yt.data,data:c}}function Ta(t,e,n,r){let i=t.createURL(oS(e)).toString(),o={signal:n};if(r&&tr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=sm(r.formData):o.body=r.formData}return new Request(i,o)}function sm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Q_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Hk(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=e[h].route.id;if(Fe(!no(c),"Cannot handle redirect results in processLoaderData"),ts(c)){let d=nl(t,f),E=c.error;r&&(E=Object.values(r)[0],r=void 0),s=s||{},s[d.route.id]==null&&(s[d.route.id]=E),o[f]=void 0,l||(l=!0,a=eS(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else to(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Y_(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=Hk(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:f,controller:d}=o[c];Fe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let E=s[c];if(!(d&&d.signal.aborted))if(ts(E)){let y=nl(t.matches,f?.route.id);u&&u[y.route.id]||(u=ht({},u,{[y.route.id]:E.error})),t.fetchers.delete(h)}else if(no(E))Fe(!1,"Unhandled fetcher revalidation redirect");else if(to(E))Fe(!1,"Unhandled fetcher deferred data");else{let y=li(E.data);t.fetchers.set(h,y)}}return{loaderData:l,errors:u}}function X_(t,e,n,r){let i=ht({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function nl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function J_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $n(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Jg(t||500,s,new Error(a),!0)}function Z_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(no(n))return{result:n,idx:e}}}function oS(t){let e=typeof t=="string"?Jr(t):t;return Eo(ht({},e,{hash:""}))}function Wk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function to(t){return t.type===yt.deferred}function ts(t){return t.type===yt.error}function no(t){return(t&&t.type)===yt.redirect}function Kk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Qk(t){return Mk.has(t.toLowerCase())}function tr(t){return Dk.has(t.toLowerCase())}async function e0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!iS(u,l)&&(o&&o[l.route.id])!==void 0;if(to(a)&&(i||c)){let h=r[s];Fe(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await sS(a,h,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function sS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:yt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:yt.error,error:i}}return{type:yt.data,data:t.deferredData.data}}}function Zg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function am(t,e){let n=typeof e=="string"?Jr(e).search:e.search;if(t[t.length-1].route.index&&Zg(n||""))return t[t.length-1];let r=ZT(t);return r[r.length-1]}function t0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Od(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Yk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Sa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Xk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function li(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Jk(t,e){try{let n=t.sessionStorage.getItem(rS);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Zk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(rS,JSON.stringify(n))}catch(r){Ss(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const su=X.createContext(null),ey=X.createContext(null),Zr=X.createContext(null),nh=X.createContext(null),ei=X.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=X.createContext(null);function eC(t,e){let{relative:n}=e===void 0?{}:e;Hs()||Fe(!1);let{basename:r,navigator:i}=X.useContext(Zr),{hash:o,pathname:s,search:a}=rh(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ur([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Hs(){return X.useContext(nh)!=null}function Ws(){return Hs()||Fe(!1),X.useContext(nh).location}function lS(t){X.useContext(Zr).static||X.useLayoutEffect(t)}function au(){let{isDataRoute:t}=X.useContext(ei);return t?pC():tC()}function tC(){Hs()||Fe(!1);let t=X.useContext(su),{basename:e,future:n,navigator:r}=X.useContext(Zr),{matches:i}=X.useContext(ei),{pathname:o}=Ws(),s=JSON.stringify(eh(i,n.v7_relativeSplatPath)),a=X.useRef(!1);return lS(()=>{a.current=!0}),X.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=th(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ur([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}const nC=X.createContext(null);function rC(t){let e=X.useContext(ei).outlet;return e&&X.createElement(nC.Provider,{value:t},e)}function rh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=X.useContext(Zr),{matches:i}=X.useContext(ei),{pathname:o}=Ws(),s=JSON.stringify(eh(i,r.v7_relativeSplatPath));return X.useMemo(()=>th(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function iC(t,e,n,r){Hs()||Fe(!1);let{navigator:i}=X.useContext(Zr),{matches:o}=X.useContext(ei),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ws(),c;if(e){var h;let _=typeof e=="string"?Jr(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Fe(!1),c=_}else c=u;let f=c.pathname||"/",d=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=es(t,{pathname:d}),y=uC(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ur([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ur([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?X.createElement(nh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:bt.Pop}},y):y}function oC(){let t=dC(),e=eS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,null)}const sC=X.createElement(oC,null);class aC extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(ei.Provider,{value:this.props.routeContext},X.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lC(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(su);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(ei.Provider,{value:e},r)}function uC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&a?.[h.route.id]);c>=0||Fe(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:d}=n,E=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let d,E=!1,y=null,_=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||sC,l&&(u<0&&f===0?(mC("route-fallback",!1),E=!0,_=null):u===f&&(E=!0,_=h.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,f+1)),p=()=>{let v;return d?v=y:E?v=_:h.route.Component?v=X.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,X.createElement(lC,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?X.createElement(aC,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kl||{});function cC(t){let e=X.useContext(su);return e||Fe(!1),e}function cS(t){let e=X.useContext(ey);return e||Fe(!1),e}function fC(t){let e=X.useContext(ei);return e||Fe(!1),e}function fS(t){let e=fC(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function hC(){return cS(kl.UseNavigation).navigation}function dC(){var t;let e=X.useContext(aS),n=cS(kl.UseRouteError),r=fS(kl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pC(){let{router:t}=cC(uS.UseNavigateStable),e=fS(kl.UseNavigateStable),n=X.useRef(!1);return lS(()=>{n.current=!0}),X.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ol({fromRouteId:e},o)))},[t,e])}const n0={};function mC(t,e,n){!e&&!n0[t]&&(n0[t]=!0)}function ty(t){let{to:e,replace:n,state:r,relative:i}=t;Hs()||Fe(!1);let{future:o,static:s}=X.useContext(Zr),{matches:a}=X.useContext(ei),{pathname:l}=Ws(),u=au(),c=th(e,eh(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return X.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function ny(t){return rC(t.context)}function gC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bt.Pop,navigator:o,static:s=!1,future:a}=t;Hs()&&Fe(!1);let l=e.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:o,static:s,future:Ol({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Jr(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:E="default"}=r,y=X.useMemo(()=>{let _=Kr(c,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:d,key:E},navigationType:i}},[l,c,h,f,d,E,i]);return y==null?null:X.createElement(Zr.Provider,{value:u},X.createElement(nh.Provider,{children:n,value:y}))}new Promise(()=>{});function yC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:X.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:X.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:X.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}function hS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _C(t,e){return t.button===0&&(!e||e==="_self")&&!vC(t)}const EC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],wC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],TC="6";try{window.__reactRouterVersion=TC}catch{}function SC(t,e){return Uk({basename:e?.basename,future:As({},e?.future,{v7_prependBasename:!0}),history:fk({window:e?.window}),hydrationData:e?.hydrationData||AC(),routes:t,mapRouteProperties:yC,window:e?.window}).initialize()}function AC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=As({},e,{errors:IC(e.errors)})),e}function IC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Jg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const dS=X.createContext({isTransitioning:!1}),bC=X.createContext(new Map),RC="startTransition",r0=ZR[RC],PC="flushSync",i0=ck[PC];function OC(t){r0?r0(t):t()}function Aa(t){i0?i0(t):t()}let kC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function CC(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=X.useState(n.state),[s,a]=X.useState(),[l,u]=X.useState({isTransitioning:!1}),[c,h]=X.useState(),[f,d]=X.useState(),[E,y]=X.useState(),_=X.useRef(new Map),{v7_startTransition:m}=r||{},p=X.useCallback(S=>{m?OC(S):S()},[m]),v=X.useCallback((S,b)=>{let{deletedFetchers:O,unstable_flushSync:I,unstable_viewTransitionOpts:A}=b;O.forEach(k=>_.current.delete(k)),S.fetchers.forEach((k,x)=>{k.data!==void 0&&_.current.set(x,k.data)});let R=n.window==null||typeof n.window.document.startViewTransition!="function";if(!A||R){I?Aa(()=>o(S)):p(()=>o(S));return}if(I){Aa(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let k=n.window.document.startViewTransition(()=>{Aa(()=>o(S))});k.finished.finally(()=>{Aa(()=>{h(void 0),d(void 0),a(void 0),u({isTransitioning:!1})})}),Aa(()=>d(k));return}f?(c&&c.resolve(),f.skipTransition(),y({state:S,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(S),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,f,c,_,p]);X.useLayoutEffect(()=>n.subscribe(v),[n,v]),X.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new kC)},[l]),X.useEffect(()=>{if(c&&s&&n.window){let S=s,b=c.promise,O=n.window.document.startViewTransition(async()=>{p(()=>o(S)),await b});O.finished.finally(()=>{h(void 0),d(void 0),a(void 0),u({isTransitioning:!1})}),d(O)}},[p,s,c,n.window]),X.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),X.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),y(void 0))},[l.isTransitioning,E]),X.useEffect(()=>{},[]);let g=X.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,b,O)=>n.navigate(S,{state:b,preventScrollReset:O?.preventScrollReset}),replace:(S,b,O)=>n.navigate(S,{replace:!0,state:b,preventScrollReset:O?.preventScrollReset})}),[n]),w=n.basename||"/",T=X.useMemo(()=>({router:n,navigator:g,static:!1,basename:w}),[n,g,w]);return X.createElement(X.Fragment,null,X.createElement(su.Provider,{value:T},X.createElement(ey.Provider,{value:i},X.createElement(bC.Provider,{value:_.current},X.createElement(dS.Provider,{value:l},X.createElement(gC,{basename:w,location:i.location,navigationType:i.historyAction,navigator:g,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?X.createElement(NC,{routes:n.routes,future:n.future,state:i}):e))))),null)}function NC(t){let{routes:e,future:n,state:r}=t;return iC(e,void 0,r,n)}const xC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tc=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=hS(e,EC),{basename:d}=X.useContext(Zr),E,y=!1;if(typeof u=="string"&&DC.test(u)&&(E=u,xC))try{let v=new URL(window.location.href),g=u.startsWith("//")?new URL(v.protocol+u):new URL(u),w=Kr(g.pathname,d);g.origin===v.origin&&w!=null?u=w+g.search+g.hash:y=!0}catch{}let _=eC(u,{relative:i}),m=MC(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function p(v){r&&r(v),v.defaultPrevented||m(v)}return X.createElement("a",As({},f,{href:E||_,onClick:y||o?r:p,ref:n,target:l}))}),Ia=X.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=hS(e,wC),f=rh(l,{relative:h.relative}),d=Ws(),E=X.useContext(ey),{navigator:y,basename:_}=X.useContext(Zr),m=E!=null&&FC(f)&&u===!0,p=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=d.pathname,g=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(v=v.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&_&&(g=Kr(g,_)||g);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let T=v===p||!s&&v.startsWith(p)&&v.charAt(w)==="/",S=g!=null&&(g===p||!s&&g.startsWith(p)&&g.charAt(p.length)==="/"),b={isActive:T,isPending:S,isTransitioning:m},O=T?r:void 0,I;typeof o=="function"?I=o(b):I=[o,T?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(b):a;return X.createElement(Tc,As({},h,{"aria-current":O,className:I,ref:n,style:A,to:l,unstable_viewTransition:u}),typeof c=="function"?c(b):c)});var lm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lm||(lm={}));var o0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o0||(o0={}));function LC(t){let e=X.useContext(su);return e||Fe(!1),e}function MC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=au(),u=Ws(),c=rh(t,{relative:s});return X.useCallback(h=>{if(_C(h,n)){h.preventDefault();let f=r!==void 0?r:Eo(u)===Eo(c);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}function FC(t,e){e===void 0&&(e={});let n=X.useContext(dS);n==null&&Fe(!1);let{basename:r}=LC(lm.useViewTransitionState),i=rh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return im(i.pathname,s)!=null||im(i.pathname,o)!=null}const VC="_lnb_1dxlw_1",jC="_content_1dxlw_1",kd={lnb:VC,content:jC,"is-loading":"_is-loading_1dxlw_12"};var $C={VITE_FB_APIKEY:"AIzaSyAb9GZwDqc8l223apBHfhOvB2XG_qSVbZM",VITE_FB_AUTHDOMAIN:"guni-board.firebaseapp.com",VITE_FB_PROJECTID:"guni-board",VITE_FB_STORAGEBUCKET:"guni-board.appspot.com",VITE_FB_MESSAGINGSENDERID:"905007936642",VITE_FB_APPID:"1:905007936642:web:a5f27e8288d86a6060b09b",VITE_FB_MEASUREMENTID:"G-5VZTZGDDXK",BASE_URL:"/vite-react-ts/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const s0=t=>{let e;const n=new Set,r=(c,h)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const d=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(E=>E(e,d))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($C?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},UC=t=>t?s0(t):s0;var pS={exports:{}},mS={},gS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=X;function BC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qC=typeof Object.is=="function"?Object.is:BC,zC=Is.useState,HC=Is.useEffect,WC=Is.useLayoutEffect,KC=Is.useDebugValue;function GC(t,e){var n=e(),r=zC({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return WC(function(){i.value=n,i.getSnapshot=e,Cd(i)&&o({inst:i})},[t,n,e]),HC(function(){return Cd(i)&&o({inst:i}),t(function(){Cd(i)&&o({inst:i})})},[t]),KC(n),n}function Cd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qC(t,n)}catch{return!0}}function QC(t,e){return e()}var YC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QC:GC;yS.useSyncExternalStore=Is.useSyncExternalStore!==void 0?Is.useSyncExternalStore:YC;gS.exports=yS;var XC=gS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=X,JC=XC;function ZC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eN=typeof Object.is=="function"?Object.is:ZC,tN=JC.useSyncExternalStore,nN=ih.useRef,rN=ih.useEffect,iN=ih.useMemo,oN=ih.useDebugValue;mS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=nN(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=iN(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&s.hasValue){var E=s.value;if(i(E,d))return h=E}return h=d}if(E=h,eN(c,d))return E;var y=r(d);return i!==void 0&&i(E,y)?E:(c=d,h=y)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=tN(t,o[0],o[1]);return rN(function(){s.hasValue=!0,s.value=a},[a]),oN(a),a};pS.exports=mS;var sN=pS.exports;const aN=eu(sN);var vS={VITE_FB_APIKEY:"AIzaSyAb9GZwDqc8l223apBHfhOvB2XG_qSVbZM",VITE_FB_AUTHDOMAIN:"guni-board.firebaseapp.com",VITE_FB_PROJECTID:"guni-board",VITE_FB_STORAGEBUCKET:"guni-board.appspot.com",VITE_FB_MESSAGINGSENDERID:"905007936642",VITE_FB_APPID:"1:905007936642:web:a5f27e8288d86a6060b09b",VITE_FB_MEASUREMENTID:"G-5VZTZGDDXK",BASE_URL:"/vite-react-ts/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:lN}=rr,{useSyncExternalStoreWithSelector:uN}=aN;let a0=!1;const cN=t=>t;function fN(t,e=cN,n){(vS?"production":void 0)!=="production"&&n&&!a0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),a0=!0);const r=uN(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return lN(r),r}const l0=t=>{(vS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?UC(t):t,n=(r,i)=>fN(e,r,i);return Object.assign(n,e),n},hN=t=>t?l0(t):l0,Mi=hN((t,e)=>({name:null,token:null,setUser:({name:n,token:r})=>{t({name:n,token:r})},getUser:()=>{const{name:n}=e();return n!==null}}));var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ES={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new pN;const f=o<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(t){const e=_S(t);return ES.encodeByteArray(e,!0)},lf=function(t){return mN(t).replace(/\./g,"")},wS=function(t){try{return ES.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>gN().__FIREBASE_DEFAULTS__,vN=()=>{if(typeof process>"u"||typeof u0>"u")return;const t=u0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wS(t[1]);return e&&JSON.parse(e)},oh=()=>{try{return yN()||vN()||_N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TS=t=>{var e,n;return(n=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EN=t=>{const e=TS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SS=()=>{var t;return(t=oh())===null||t===void 0?void 0:t.config},AS=t=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lf(JSON.stringify(n)),lf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function AN(){var t;const e=(t=oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RN(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PN(){return!AN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kN,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ti(i,a,r)}}function CN(t,e){return t.replace(NN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NN=/\{\$([^}]+)}/g;function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(c0(o)&&c0(s)){if(!uf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DN(t,e){const n=new LN(t,e);return n.subscribe.bind(n)}class LN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nd),i.error===void 0&&(i.error=Nd),i.complete===void 0&&(i.complete=Nd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(t){return t===Gi?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const UN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},BN=Be.INFO,qN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},zN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=BN,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const HN=(t,e)=>e.some(n=>t instanceof n);let f0,h0;function WN(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KN(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bS=new WeakMap,um=new WeakMap,RS=new WeakMap,xd=new WeakMap,iy=new WeakMap;function GN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bS.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function QN(t){if(um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YN(t){cm=t(cm)}function XN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dd(this),e,...n);return RS.set(r,e.sort?e.sort():[e]),Oi(r)}:KN().includes(t)?function(...e){return t.apply(Dd(this),e),Oi(bS.get(this))}:function(...e){return Oi(t.apply(Dd(this),e))}}function JN(t){return typeof t=="function"?XN(t):(t instanceof IDBTransaction&&QN(t),HN(t,WN())?new Proxy(t,cm):t)}function Oi(t){if(t instanceof IDBRequest)return GN(t);if(xd.has(t))return xd.get(t);const e=JN(t);return e!==t&&(xd.set(t,e),iy.set(e,t)),e}const Dd=t=>iy.get(t);function ZN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Oi(s.result),l.oldVersion,l.newVersion,Oi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ex=["get","getKey","getAll","getAllKeys","count"],tx=["put","add","delete","clear"],Ld=new Map;function d0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ex.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ld.set(e,o),o}YN(t=>({...t,get:(e,n,r)=>d0(e,n)||t.get(e,n,r),has:(e,n)=>!!d0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rx(t){const e=t.getComponent();return e?.type==="VERSION"}const fm="@firebase/app",p0="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new ry("@firebase/app"),ix="@firebase/app-compat",ox="@firebase/analytics-compat",sx="@firebase/analytics",ax="@firebase/app-check-compat",lx="@firebase/app-check",ux="@firebase/auth",cx="@firebase/auth-compat",fx="@firebase/database",hx="@firebase/database-compat",dx="@firebase/functions",px="@firebase/functions-compat",mx="@firebase/installations",gx="@firebase/installations-compat",yx="@firebase/messaging",vx="@firebase/messaging-compat",_x="@firebase/performance",Ex="@firebase/performance-compat",wx="@firebase/remote-config",Tx="@firebase/remote-config-compat",Sx="@firebase/storage",Ax="@firebase/storage-compat",Ix="@firebase/firestore",bx="@firebase/firestore-compat",Rx="firebase",Px="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",Ox={[fm]:"fire-core",[ix]:"fire-core-compat",[sx]:"fire-analytics",[ox]:"fire-analytics-compat",[lx]:"fire-app-check",[ax]:"fire-app-check-compat",[ux]:"fire-auth",[cx]:"fire-auth-compat",[fx]:"fire-rtdb",[hx]:"fire-rtdb-compat",[dx]:"fire-fn",[px]:"fire-fn-compat",[mx]:"fire-iid",[gx]:"fire-iid-compat",[yx]:"fire-fcm",[vx]:"fire-fcm-compat",[_x]:"fire-perf",[Ex]:"fire-perf-compat",[wx]:"fire-rc",[Tx]:"fire-rc-compat",[Sx]:"fire-gcs",[Ax]:"fire-gcs-compat",[Ix]:"fire-fst",[bx]:"fire-fst-compat","fire-js":"fire-js",[Rx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Map,dm=new Map;function kx(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bs(t){const e=t.name;if(dm.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of cf.values())kx(n,t);return!0}function oy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ki=new lu("app","Firebase",Cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=Px;function PS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=SS()),!n)throw ki.create("no-options");const o=cf.get(i);if(o){if(uf(n,o.options)&&uf(r,o.config))return o;throw ki.create("duplicate-app",{appName:i})}const s=new $N(i);for(const l of dm.values())s.addComponent(l);const a=new Nx(n,r,s);return cf.set(i,a),a}function OS(t=hm){const e=cf.get(t);if(!e&&t===hm&&SS())return PS();if(!e)throw ki.create("no-app",{appName:t});return e}function Ci(t,e,n){var r;let i=(r=Ox[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}bs(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="firebase-heartbeat-database",Dx=1,Cl="firebase-heartbeat-store";let Md=null;function kS(){return Md||(Md=ZN(xx,Dx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Md}async function Lx(t){try{const n=(await kS()).transaction(Cl),r=await n.objectStore(Cl).get(CS(t));return await n.done,r}catch(e){if(e instanceof ti)To.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e?.message});To.warn(n.message)}}}async function m0(t,e){try{const r=(await kS()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,CS(t)),await r.done}catch(n){if(n instanceof ti)To.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n?.message});To.warn(r.message)}}}function CS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=1024,Fx=30*24*60*60*1e3;class Vx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $x(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Fx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g0(),{heartbeatsToSend:r,unsentEntries:i}=jx(this._heartbeatsCache.heartbeats),o=lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function g0(){return new Date().toISOString().substring(0,10)}function jx(t,e=Mx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),y0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y0(t){return lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){bs(new wo("platform-logger",e=>new nx(e),"PRIVATE")),bs(new wo("heartbeat",e=>new Vx(e),"PRIVATE")),Ci(fm,p0,t),Ci(fm,p0,"esm2017"),Ci("fire-js","")}Ux("");var Bx="firebase",qx="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(Bx,qx,"app");var ln=function(){return ln=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ln.apply(this,arguments)};function sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nl(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zx=NS,xS=new lu("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new ry("@firebase/auth");function Hx(t,...e){ff.logLevel<=Be.WARN&&ff.warn(`Auth (${Ks}): ${t}`,...e)}function Sc(t,...e){ff.logLevel<=Be.ERROR&&ff.error(`Auth (${Ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw ay(t,...e)}function Sr(t,...e){return ay(t,...e)}function Wx(t,e,n){const r=Object.assign(Object.assign({},zx()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xS.create(t,...e)}function be(t,e,...n){if(!t)throw ay(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sc(e),new Error(e)}function Gr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kx(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kx()||IN()||"connection"in navigator)?navigator.onLine:!0}function Qx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=SN()||bN()}get(){return Gx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new cu(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,i={}){return LS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),DS.fetch()(MS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function LS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yx),e);try{const i=new Zx(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Qu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Qu(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wx(t,c,u);ur(t,c)}}catch(i){if(i instanceof ti)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function sh(t,e,n,r,i={}){const o=await qi(t,e,n,r,i);return"mfaPendingCredential"in o&&ur(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ly(t.config,i):`${t.config.apiScheme}://${i}`}function Jx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),Xx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function _0(t){return t!==void 0&&t.enterprise!==void 0}class eD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tD(t,e){return qi(t,"GET","/v2/recaptchaConfig",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function rD(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iD(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=uy(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:rl(Fd(i.auth_time)),issuedAtTime:rl(Fd(i.iat)),expirationTime:rl(Fd(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Fd(t){return Number(t)*1e3}function uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const i=wS(n);return i?JSON.parse(i):(Sc("Failed to decode base64 JWT payload"),null)}catch(i){return Sc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oD(t){const e=uy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&sD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function sD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xl(t,rD(n,{idToken:r}));be(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cD(o.providerUserInfo):[],a=uD(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new FS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function lD(t){const e=_n(t);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cD(t){return t.map(e=>{var{providerId:n}=e,r=sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){const n=await LS(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MS(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hD(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return be(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await fD(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Dl;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class co{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new FS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xl(this,nD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:g,isAnonymous:w,providerData:T,stsTokenManager:S}=n;be(v&&S,e,"internal-error");const b=Dl.fromJSON(this.name,S);be(typeof v=="string",e,"internal-error"),ai(h,e.name),ai(f,e.name),be(typeof g=="boolean",e,"internal-error"),be(typeof w=="boolean",e,"internal-error"),ai(d,e.name),ai(E,e.name),ai(y,e.name),ai(_,e.name),ai(m,e.name),ai(p,e.name);const O=new co({uid:v,auth:e,email:f,emailVerified:g,displayName:h,isAnonymous:w,photoURL:E,phoneNumber:d,tenantId:y,stsTokenManager:b,createdAt:m,lastLoginAt:p});return T&&Array.isArray(T)&&(O.providerData=T.map(I=>Object.assign({},I))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const o=new co({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hf(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Vr(t){Gr(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VS.type="NONE";const w0=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e,n){return`firebase:${t}:${e}:${n}`}class fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ac(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ac("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?co._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fs(Vr(w0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Vr(w0);const s=Ac(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const h=co._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fs(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new fs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(US(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qS(e))return"Blackberry";if(zS(e))return"Webos";if(cy(e))return"Safari";if((e.includes("chrome/")||$S(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function jS(t=xt()){return/firefox\//i.test(t)}function cy(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $S(t=xt()){return/crios\//i.test(t)}function US(t=xt()){return/iemobile/i.test(t)}function BS(t=xt()){return/android/i.test(t)}function qS(t=xt()){return/blackberry/i.test(t)}function zS(t=xt()){return/webos/i.test(t)}function ah(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dD(t=xt()){var e;return ah(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pD(){return RN()&&document.documentMode===10}function HS(t=xt()){return ah(t)||BS(t)||zS(t)||qS(t)||/windows phone/i.test(t)||US(t)}function mD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e=[]){let n;switch(t){case"Browser":n=T0(xt());break;case"Worker":n=`${T0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class _D{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:vD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yD(this),n=new _D(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Hx(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Gs(t){return _n(t)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(t){lh=t}function KS(t){return lh.loadJS(t)}function TD(){return lh.recaptchaEnterpriseScript}function SD(){return lh.gapiScript}function AD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ID="recaptcha-enterprise",bD="NO_RECAPTCHA";class RD{constructor(e){this.type=ID,this.auth=Gs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{tD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new eD(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;_0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(bD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&_0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=TD();l.length!==0&&(l+=a),KS(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function A0(t,e,n,r=!1){const i=new RD(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function I0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await A0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await A0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){const n=oy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uf(o,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function OD(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kD(t,e,n){const r=Gs(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=GS(e),{host:s,port:a}=CD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ND()}function GS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CD(t){const e=GS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:b0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:b0(s)}}}function b0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ND(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function xD(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return sh(t,"POST","/v1/accounts:signInWithPassword",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}async function MD(t,e){return sh(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends fy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(e,n,"signInWithPassword",DD);case"emailLink":return LD(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(e,r,"signUpPassword",xD);case"emailLink":return MD(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t,e){return sh(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class So extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=sy(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new So(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hs(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jD(t){const e=ja($a(t)).link,n=e?ja($a(e)).deep_link_id:null,r=ja($a(t)).deep_link_id;return(r?ja($a(r)).link:null)||r||n||e||t}class hy{constructor(e){var n,r,i,o,s,a;const l=ja($a(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=VD((i=l.mode)!==null&&i!==void 0?i:null);be(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jD(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.providerId=Qs.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return be(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}Qs.PROVIDER_ID="password";Qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends QS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends fu{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends fu{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends fu{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await co._fromIdTokenResponse(e,r,i),s=R0(r);return new Rs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=R0(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function R0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends ti{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new df(e,n,r,i)}}function YS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,o,e,r):o})}async function $D(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await xl(t,YS(r,i,e,t),n);be(o.idToken,r,"internal-error");const s=uy(o.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t,e,n=!1){const r="signIn",i=await YS(t,r,e),o=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function BD(t,e){return XS(Gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t){const e=Gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zD(t,e,n){return BD(_n(t),Qs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qD(t),r})}function HD(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function WD(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function KD(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function GD(t){return _n(t).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){const t=xt();return cy(t)||ah(t)}const YD=1e3,XD=10;class ZS extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QD()&&mD(),this.fallbackToPolling=HS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);pD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZS.type="LOCAL";const JD=ZS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await ZD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=dy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function tL(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function nL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iL(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",oL=1,mf="firebaseLocalStorage",iA="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function sL(){const t=indexedDB.deleteDatabase(rA);return new hu(t).toPromise()}function mm(){const t=indexedDB.open(rA,oL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mf,{keyPath:iA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await sL(),e(await mm()))})})}async function P0(t,e,n){const r=ch(t,!0).put({[iA]:e,value:n});return new hu(r).toPromise()}async function aL(t,e){const n=ch(t,!1).get(e),r=await new hu(n).toPromise();return r===void 0?null:r.value}function O0(t,e){const n=ch(t,!0).delete(e);return new hu(n).toPromise()}const lL=800,uL=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(iL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nL(),!this.activeServiceWorker)return;this.sender=new eL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await P0(e,pf,"1"),await O0(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ch(i,!1).getAll();return new hu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const cL=oA;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e){return e?Vr(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hL(t){return XS(t.auth,new py(t),t.bypassAuthState)}function dL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),UD(n,new py(t),t.bypassAuthState)}async function pL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),$D(n,new py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hL;case"linkViaPopup":case"linkViaRedirect":return pL;case"reauthViaPopup":case"reauthViaRedirect":return dL;default:ur(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new cu(2e3,1e4);class ns extends sA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mL.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="pendingRedirect",Ic=new Map;class yL extends sA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await vL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vL(t,e){const n=wL(e),r=EL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _L(t,e){Ic.set(t._key(),e)}function EL(t){return Vr(t._redirectPersistence)}function wL(t){return Ac(gL,t.config.apiKey,t.name)}async function TL(t,e,n=!1){const r=Gs(t),i=fL(r,e),s=await new yL(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=10*60*1e3;class AL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SL&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PL=/^https?/;async function OL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bL(t);for(const n of e)try{if(kL(n))return}catch{}ur(t,"unauthorized-domain")}function kL(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!PL.test(n))return!1;if(RL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new cu(3e4,6e4);function C0(){const t=Ar().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NL(t){return new Promise((e,n)=>{var r,i,o;function s(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),n(Sr(t,"network-request-failed"))},timeout:CL.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{const a=AD("iframefcb");return Ar()[a]=()=>{gapi.load?s():n(Sr(t,"network-request-failed"))},KS(`${SD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bc=null,e})}let bc=null;function xL(t){return bc=bc||NL(t),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new cu(5e3,15e3),LL="__/auth/iframe",ML="emulator/auth/iframe",FL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jL(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,ML):`https://${t.config.authDomain}/${LL}`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=VL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uu(r).slice(1)}`}async function $L(t){const e=await xL(t),n=Ar().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:jL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Sr(t,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},DL.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BL=500,qL=600,zL="_blank",HL="http://localhost";class N0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WL(t,e,n,r=BL,i=qL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UL),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xt().toLowerCase();n&&(a=$S(u)?zL:n),jS(u)&&(e=e||HL,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,E])=>`${f}${d}=${E},`,"");if(dD(u)&&a!=="_self")return KL(e||"",a),new N0(null);const h=window.open(e||"",a,c);be(h,t,"popup-blocked");try{h.focus()}catch{}return new N0(h)}function KL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="__/auth/handler",QL="emulator/auth/handler",YL=encodeURIComponent("fac");async function x0(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof QS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",xN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))s[c]=h}if(e instanceof fu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${YL}=${encodeURIComponent(l)}`:"";return`${XL(t)}?${uu(a).slice(1)}${u}`}function XL({config:t}){return t.emulator?ly(t,QL):`https://${t.authDomain}/${GL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class JL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=TL,this._overrideRedirectResult=_L}async _openPopup(e,n,r,i){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await x0(e,n,r,pm(),i);return WL(e,s,dy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await x0(e,n,r,pm(),i);return tL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $L(e),r=new AL(e);return n.register("authEvent",i=>(be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vd,{type:Vd},i=>{var o;const s=(o=i?.[0])===null||o===void 0?void 0:o[Vd];s!==void 0&&n(!!s),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HS()||cy()||ah()}}const ZL=JL;var D0="@firebase/auth",L0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(t){bs(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(t)},u=new ED(r,i,o,l);return OD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bs(new wo("auth-internal",e=>{const n=Gs(e.getProvider("auth").getImmediate());return(r=>new e2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(D0,L0,t2(t)),Ci(D0,L0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=5*60,i2=AS("authIdTokenMaxAge")||r2;let M0=null;const o2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i2)return;const i=n?.token;M0!==i&&(M0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s2(t=OS()){const e=oy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PD(t,{popupRedirectResolver:ZL,persistence:[cL,JD,tA]}),r=AS("authTokenSyncURL");if(r){const o=o2(r);WD(n,o,()=>o(n.currentUser)),HD(n,s=>o(s))}const i=TS("auth");return i&&kD(n,`http://${i}`),n}function a2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Sr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",a2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");var l2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe,my=my||{},Pe=l2||self;function fh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function du(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function u2(t){return Object.prototype.hasOwnProperty.call(t,jd)&&t[jd]||(t[jd]=++c2)}var jd="closure_uid_"+(1e9*Math.random()>>>0),c2=0;function f2(t,e,n){return t.call.apply(t.bind,arguments)}function h2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=f2:un=h2,un.apply(null,arguments)}function Yu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function zi(){this.s=this.s,this.o=this.o}var d2=0;zi.prototype.s=!1;zi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),d2!=0)&&u2(this)};zi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function F0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var p2=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Pe.addEventListener("test",n,e),Pe.removeEventListener("test",n,e)}catch{}return t}();function Ml(t){return/^[\s\xa0]*$/.test(t)}function hh(){var t=Pe.navigator;return t&&(t=t.userAgent)?t:""}function vr(t){return hh().indexOf(t)!=-1}function yy(t){return yy[" "](t),t}yy[" "]=function(){};function m2(t,e){var n=aM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var g2=vr("Opera"),Ps=vr("Trident")||vr("MSIE"),uA=vr("Edge"),gm=uA||Ps,cA=vr("Gecko")&&!(hh().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge"))&&!(vr("Trident")||vr("MSIE"))&&!vr("Edge"),y2=hh().toLowerCase().indexOf("webkit")!=-1&&!vr("Edge");function fA(){var t=Pe.document;return t?t.documentMode:void 0}var ym;e:{var $d="",Ud=function(){var t=hh();if(cA)return/rv:([^\);]+)(\)|;)/.exec(t);if(uA)return/Edge\/([\d\.]+)/.exec(t);if(Ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(y2)return/WebKit\/(\S+)/.exec(t);if(g2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ud&&($d=Ud?Ud[1]:""),Ps){var Bd=fA();if(Bd!=null&&Bd>parseFloat($d)){ym=String(Bd);break e}}ym=$d}var vm;if(Pe.document&&Ps){var V0=fA();vm=V0||parseInt(ym,10)||void 0}else vm=void 0;var v2=vm;function Fl(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cA){e:{try{yy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fl.$.h.call(this)}}Ht(Fl,cn);var _2={2:"touch",3:"pen",4:"mouse"};Fl.prototype.h=function(){Fl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pu="closure_listenable_"+(1e6*Math.random()|0),E2=0;function w2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++E2,this.fa=this.ia=!1}function dh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function T2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hA(t){const e={};for(const n in t)e[n]=t[n];return e}const j0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<j0.length;o++)n=j0[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ph(t){this.src=t,this.g={},this.h=0}ph.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Em(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new w2(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function _m(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(dh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Em(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var _y="closure_lm_"+(1e6*Math.random()|0),qd={};function pA(t,e,n,r,i){if(r&&r.once)return gA(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pA(t,e[o],n,r,i);return null}return n=Ty(n),t&&t[pu]?t.O(e,n,du(r)?!!r.capture:!!r,i):mA(t,e,n,!1,r,i)}function mA(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=du(i)?!!i.capture:!!i,a=wy(t);if(a||(t[_y]=a=new ph(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=S2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)p2||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function S2(){function t(n){return e.call(t.src,t.listener,n)}const e=A2;return t}function gA(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gA(t,e[o],n,r,i);return null}return n=Ty(n),t&&t[pu]?t.P(e,n,du(r)?!!r.capture:!!r,i):mA(t,e,n,!0,r,i)}function yA(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yA(t,e[o],n,r,i);else r=du(r)?!!r.capture:!!r,n=Ty(n),t&&t[pu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Em(o,n,r,i),-1<n&&(dh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=wy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Em(e,n,r,i)),(n=-1<t?e[t]:null)&&Ey(n))}function Ey(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[pu])_m(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wy(e))?(_m(n,t),n.h==0&&(n.src=null,e[_y]=null)):dh(t)}}}function vA(t){return t in qd?qd[t]:qd[t]="on"+t}function A2(t,e){if(t.fa)t=!0;else{e=new Fl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ey(t),t=n.call(r,e)}return t}function wy(t){return t=t[_y],t instanceof ph?t:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ty(t){return typeof t=="function"?t:(t[zd]||(t[zd]=function(e){return t.handleEvent(e)}),t[zd])}function zt(){zi.call(this),this.i=new ph(this),this.S=this,this.J=null}Ht(zt,zi);zt.prototype[pu]=!0;zt.prototype.removeEventListener=function(t,e,n,r){yA(this,t,e,n,r)};function Xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var i=e;e=new cn(r,t),dA(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Xu(s,r,!0,e)&&i}if(s=e.g=t,i=Xu(s,r,!0,e)&&i,i=Xu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Xu(s,r,!1,e)&&i}zt.prototype.N=function(){if(zt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dh(n[r]);delete t.g[e],t.h--}}this.J=null};zt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};zt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&_m(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sy=Pe.JSON.stringify;class I2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function b2(){var t=Ay;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class R2{constructor(){this.h=this.g=null}add(e,n){const r=_A.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _A=new I2(()=>new P2,t=>t.reset());class P2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function O2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function k2(t){Pe.setTimeout(()=>{throw t},0)}let Vl,jl=!1,Ay=new R2,EA=()=>{const t=Pe.Promise.resolve(void 0);Vl=()=>{t.then(C2)}};var C2=()=>{for(var t;t=b2();){try{t.h.call(t.g)}catch(n){k2(n)}var e=_A;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jl=!1};function mh(t,e){zt.call(this),this.h=t||1,this.g=e||Pe,this.j=un(this.qb,this),this.l=Date.now()}Ht(mh,zt);fe=mh.prototype;fe.ga=!1;fe.T=null;fe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(Iy(this),this.start()))}};fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Iy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}fe.N=function(){mh.$.N.call(this),Iy(this),delete this.g};function by(t,e,n){if(typeof t=="function")n&&(t=un(t,n));else if(t&&typeof t.handleEvent=="function")t=un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pe.setTimeout(t,e||0)}function wA(t){t.g=by(()=>{t.g=null,t.i&&(t.i=!1,wA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class N2 extends zi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wA(this)}N(){super.N(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $l(t){zi.call(this),this.h=t,this.g={}}Ht($l,zi);var $0=[];function TA(t,e,n,r){Array.isArray(n)||(n&&($0[0]=n.toString()),n=$0);for(var i=0;i<n.length;i++){var o=pA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function SA(t){vy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ey(e)},t),t.g={}}$l.prototype.N=function(){$l.$.N.call(this),SA(this)};$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gh(){this.g=!0}gh.prototype.Ea=function(){this.g=!1};function x2(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function D2(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function rs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+M2(t,n)+(r?" "+r:"")})}function L2(t,e){t.info(function(){return"TIMEOUT: "+e})}gh.prototype.info=function(){};function M2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Sy(n)}catch{return e}}var ko={},U0=null;function yh(){return U0=U0||new zt}ko.Ta="serverreachability";function AA(t){cn.call(this,ko.Ta,t)}Ht(AA,cn);function Ul(t){const e=yh();Xt(e,new AA(e))}ko.STAT_EVENT="statevent";function IA(t,e){cn.call(this,ko.STAT_EVENT,t),this.stat=e}Ht(IA,cn);function yn(t){const e=yh();Xt(e,new IA(e,t))}ko.Ua="timingevent";function bA(t,e){cn.call(this,ko.Ua,t),this.size=e}Ht(bA,cn);function mu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){t()},e)}var vh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ry(){}Ry.prototype.h=null;function B0(t){return t.h||(t.h=t.i())}function PA(){}var gu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Py(){cn.call(this,"d")}Ht(Py,cn);function Oy(){cn.call(this,"c")}Ht(Oy,cn);var wm;function _h(){}Ht(_h,Ry);_h.prototype.g=function(){return new XMLHttpRequest};_h.prototype.i=function(){return{}};wm=new _h;function yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $l(this),this.P=F2,t=gm?125:void 0,this.V=new mh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OA}function OA(){this.i=null,this.g="",this.h=!1}var F2=45e3,kA={},Tm={};fe=yu.prototype;fe.setTimeout=function(t){this.P=t};function Sm(t,e,n){t.L=1,t.A=wh(Qr(e)),t.u=n,t.S=!0,CA(t,null)}function CA(t,e){t.G=Date.now(),vu(t),t.B=Qr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new OA,t.g=sI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new N2(un(t.Pa,t,t.g),t.O)),TA(t.U,t.g,"readystatechange",t.nb),e=t.I?hA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ul(),x2(t.j,t.v,t.B,t.m,t.W,t.u)}fe.nb=function(t){t=t.target;const e=this.M;e&&_r(t)==3?e.l():this.Pa(t)};fe.Pa=function(t){try{if(t==this.g)e:{const c=_r(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||gm||this.g&&(this.h.h||this.g.ja()||W0(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ul(3):Ul(2)),Eh(this);var n=this.g.da();this.ca=n;t:if(NA(this)){var r=W0(this.g);t="";var i=r.length,o=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),il(this);var s="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,D2(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ml(a)){var u=a;break t}}u=null}if(n=u)rs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Am(this,n);else{this.i=!1,this.s=3,yn(12),ro(this),il(this);break e}}this.S?(xA(this,c,s),gm&&this.i&&c==3&&(TA(this.U,this.V,"tick",this.mb),this.V.start())):(rs(this.j,this.m,s,null),Am(this,s)),c==4&&ro(this),this.i&&!this.J&&(c==4?nI(this.l,this):(this.i=!1,vu(this)))}else iM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),ro(this),il(this)}}}catch{}finally{}};function NA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function xA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=V2(t,n),i==Tm){e==4&&(t.s=4,yn(14),r=!1),rs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==kA){t.s=4,yn(15),rs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rs(t.j,t.m,i,null),Am(t,i);NA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ly(e),e.M=!0,yn(11))):(rs(t.j,t.m,n,"[Invalid Chunked Response]"),ro(t),il(t))}fe.mb=function(){if(this.g){var t=_r(this.g),e=this.g.ja();this.o<e.length&&(Eh(this),xA(this,t,e),this.i&&t!=4&&vu(this))}};function V2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tm:(n=Number(e.substring(n,r)),isNaN(n)?kA:(r+=1,r+n>e.length?Tm:(e=e.slice(r,r+n),t.o=r+n,e)))}fe.cancel=function(){this.J=!0,ro(this)};function vu(t){t.Y=Date.now()+t.P,DA(t,t.P)}function DA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=mu(un(t.lb,t),e)}function Eh(t){t.C&&(Pe.clearTimeout(t.C),t.C=null)}fe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(L2(this.j,this.B),this.L!=2&&(Ul(),yn(17)),ro(this),this.s=2,il(this)):DA(this,this.Y-t)};function il(t){t.l.H==0||t.J||nI(t.l,t)}function ro(t){Eh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Iy(t.V),SA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Am(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Im(n.i,t))){if(!t.K&&Im(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vf(n),Ih(n);else break e;Dy(n),yn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=mu(un(n.ib,n),6e3));if(1>=BA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else io(n,11)}else if((t.K||n.g==t)&&vf(n),!Ml(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const E=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(ky(o,o.h),o.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,st(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=oI(r,r.J?r.pa:null,r.Y),s.K){qA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Eh(a),vu(a)),r.g=s}else eI(r);0<n.j.length&&bh(n)}else u[0]!="stop"&&u[0]!="close"||io(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?io(n,7):xy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ul(4)}catch{}}function j2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function LA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$2(t),r=j2(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var MA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=t.h,gf(this,t.j),this.s=t.s,this.g=t.g,yf(this,t.m),this.l=t.l;var e=t.i,n=new Bl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),q0(this,n),this.o=t.o}else t&&(e=String(t).match(MA))?(this.h=!1,gf(this,e[1]||"",!0),this.s=Ua(e[2]||""),this.g=Ua(e[3]||"",!0),yf(this,e[4]),this.l=Ua(e[5]||"",!0),q0(this,e[6]||"",!0),this.o=Ua(e[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ba(e,z0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ba(e,z0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ba(n,n.charAt(0)=="/"?z2:q2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ba(n,W2)),t.join("")};function Qr(t){return new fo(t)}function gf(t,e,n){t.j=n?Ua(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function q0(t,e,n){e instanceof Bl?(t.i=e,K2(t.i,t.h)):(n||(e=Ba(e,H2)),t.i=new Bl(e,t.h))}function st(t,e,n){t.i.set(e,n)}function wh(t){return st(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ua(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ba(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,B2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function B2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var z0=/[#\/\?@]/g,q2=/[#\?:]/g,z2=/[#\?]/g,H2=/[#\?@]/g,W2=/#/g;function Bl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&U2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}fe=Bl.prototype;fe.add=function(t,e){Hi(this),this.i=null,t=Ys(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FA(t,e){Hi(t),e=Ys(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VA(t,e){return Hi(t),e=Ys(t,e),t.g.has(e)}fe.forEach=function(t,e){Hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};fe.ta=function(){Hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};fe.Z=function(t){Hi(this);let e=[];if(typeof t=="string")VA(this,t)&&(e=e.concat(this.g.get(Ys(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};fe.set=function(t,e){return Hi(this),this.i=null,t=Ys(this,t),VA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};fe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jA(t,e,n){FA(t,e),0<n.length&&(t.i=null,t.g.set(Ys(t,e),gy(n)),t.h+=n.length)}fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Ys(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function K2(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FA(this,r),jA(this,i,n))},t)),t.j=e}var G2=class{constructor(t,e){this.g=t,this.map=e}};function $A(t){this.l=t||Q2,Pe.PerformanceNavigationTiming?(t=Pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pe.g&&Pe.g.Ka&&Pe.g.Ka()&&Pe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Q2=10;function UA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BA(t){return t.h?1:t.g?t.g.size:0}function Im(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ky(t,e){t.g?t.g.add(e):t.h=e}function qA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$A.prototype.cancel=function(){if(this.i=zA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gy(t.i)}var Y2=class{stringify(t){return Pe.JSON.stringify(t,void 0)}parse(t){return Pe.JSON.parse(t,void 0)}};function X2(){this.g=new Y2}function J2(t,e,n){const r=n||"";try{LA(t,function(i,o){let s=i;du(i)&&(s=Sy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Z2(t,e){const n=new gh;if(Pe.Image){const r=new Image;r.onload=Yu(Ju,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yu(Ju,n,r,"TestLoadImage: error",!1,e),r.onabort=Yu(Ju,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yu(Ju,n,r,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ju(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Th(t){this.l=t.ec||null,this.j=t.ob||!1}Ht(Th,Ry);Th.prototype.g=function(){return new Sh(this.l,this.j)};Th.prototype.i=function(t){return function(){return t}}({});function Sh(t,e){zt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ht(Sh,zt);var Cy=0;fe=Sh.prototype;fe.open=function(t,e){if(this.readyState!=Cy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ql(this)};fe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=Cy};fe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}fe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_u(this):ql(this),this.readyState==3&&HA(this)}};fe.Za=function(t){this.g&&(this.response=this.responseText=t,_u(this))};fe.Ya=function(t){this.g&&(this.response=t,_u(this))};fe.ka=function(){this.g&&_u(this)};function _u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ql(t)}fe.setRequestHeader=function(t,e){this.v.append(t,e)};fe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};fe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ql(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eM=Pe.JSON.parse;function _t(t){zt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WA,this.L=this.M=!1}Ht(_t,zt);var WA="",tM=/^https?$/i,nM=["POST","PUT"];fe=_t.prototype;fe.Oa=function(t){this.M=t};fe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wm.g(),this.C=this.u?B0(this.u):B0(wm),this.g.onreadystatechange=un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){H0(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Pe.FormData&&t instanceof Pe.FormData,!(0<=lA(nM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QA(this),0<this.B&&((this.L=rM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.ua,this)):this.A=by(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){H0(this,o)}};function rM(t){return Ps&&typeof t.timeout=="number"&&t.ontimeout!==void 0}fe.ua=function(){typeof my<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))};function H0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KA(t),Ah(t)}function KA(t){t.F||(t.F=!0,Xt(t,"complete"),Xt(t,"error"))}fe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xt(this,"complete"),Xt(this,"abort"),Ah(this))};fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ah(this,!0)),_t.$.N.call(this)};fe.La=function(){this.s||(this.G||this.v||this.l?GA(this):this.kb())};fe.kb=function(){GA(this)};function GA(t){if(t.h&&typeof my<"u"&&(!t.C[1]||_r(t)!=4||t.da()!=2)){if(t.v&&_r(t)==4)by(t.La,0,t);else if(Xt(t,"readystatechange"),_r(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(MA)[1]||null;!i&&Pe.self&&Pe.self.location&&(i=Pe.self.location.protocol.slice(0,-1)),r=!tM.test(i?i.toLowerCase():"")}n=r}if(n)Xt(t,"complete"),Xt(t,"success");else{t.m=6;try{var o=2<_r(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",KA(t)}}finally{Ah(t)}}}}function Ah(t,e){if(t.g){QA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function QA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Pe.clearTimeout(t.A),t.A=null)}fe.isActive=function(){return!!this.g};function _r(t){return t.g?t.g.readyState:0}fe.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}};fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};fe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eM(e)}};function W0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iM(t){const e={};t=(t.g&&2<=_r(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ml(t[r]))continue;var n=O2(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}T2(e,function(r){return r.join(", ")})}fe.Ia=function(){return this.m};fe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YA(t){let e="";return vy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ny(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):st(t,e,n))}function ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XA(t){this.Ga=0,this.j=[],this.l=new gh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ba("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ba("baseRetryDelayMs",5e3,t),this.hb=ba("retryDelaySeedMs",1e4,t),this.eb=ba("forwardChannelMaxRetries",2,t),this.xa=ba("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $A(t&&t.concurrentRequestLimit),this.Ja=new X2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}fe=XA.prototype;fe.ra=8;fe.H=1;function xy(t){if(JA(t),t.H==3){var e=t.W++,n=Qr(t.I);if(st(n,"SID",t.K),st(n,"RID",e),st(n,"TYPE","terminate"),Eu(t,n),e=new yu(t,t.l,e),e.L=2,e.A=wh(Qr(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon)try{n=Pe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Pe.Image&&(new Image().src=e.A,n=!0),n||(e.g=sI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vu(e)}iI(t)}function Ih(t){t.g&&(Ly(t),t.g.cancel(),t.g=null)}function JA(t){Ih(t),t.u&&(Pe.clearTimeout(t.u),t.u=null),vf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pe.clearTimeout(t.m),t.m=null)}function bh(t){if(!UA(t.i)&&!t.m){t.m=!0;var e=t.Na;Vl||EA(),jl||(Vl(),jl=!0),Ay.add(e,t),t.C=0}}function oM(t,e){return BA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=mu(un(t.Na,t,e),rI(t,t.C)),t.C++,!0)}fe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yu(this,this.l,t);let o=this.s;if(this.U&&(o?(o=hA(o),dA(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZA(this,i,e),n=Qr(this.I),st(n,"RID",t),st(n,"CVER",22),this.F&&st(n,"X-HTTP-Session-Id",this.F),Eu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(YA(o)))+"&"+e:this.o&&Ny(n,this.o,o)),ky(this.i,i),this.bb&&st(n,"TYPE","init"),this.P?(st(n,"$req",e),st(n,"SID","null"),i.aa=!0,Sm(i,n,null)):Sm(i,n,e),this.H=2}}else this.H==3&&(t?K0(this,t):this.j.length==0||UA(this.i)||K0(this))};function K0(t,e){var n;e?n=e.m:n=t.W++;const r=Qr(t.I);st(r,"SID",t.K),st(r,"RID",n),st(r,"AID",t.V),Eu(t,r),t.o&&t.s&&Ny(r,t.o,t.s),n=new yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ky(t.i,n),Sm(n,r,e)}function Eu(t,e){t.na&&vy(t.na,function(n,r){st(e,r,n)}),t.h&&LA({},function(n,r){st(e,r,n)})}function ZA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?un(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{J2(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vl||EA(),jl||(Vl(),jl=!0),Ay.add(e,t),t.A=0}}function Dy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=mu(un(t.Ma,t),rI(t,t.A)),t.A++,!0)}fe.Ma=function(){if(this.u=null,tI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=mu(un(this.jb,this),t)}};fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yn(10),Ih(this),tI(this))};function Ly(t){t.B!=null&&(Pe.clearTimeout(t.B),t.B=null)}function tI(t){t.g=new yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);st(e,"RID","rpc"),st(e,"SID",t.K),st(e,"AID",t.V),st(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&st(e,"TO",t.qa),st(e,"TYPE","xmlhttp"),Eu(t,e),t.o&&t.s&&Ny(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wh(Qr(e)),n.u=null,n.S=!0,CA(n,t)}fe.ib=function(){this.v!=null&&(this.v=null,Ih(this),Dy(this),yn(19))};function vf(t){t.v!=null&&(Pe.clearTimeout(t.v),t.v=null)}function nI(t,e){var n=null;if(t.g==e){vf(t),Ly(t),t.g=null;var r=2}else if(Im(t.i,e))n=e.F,qA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=yh(),Xt(r,new bA(r,n)),bh(t)}else eI(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&oM(t,e)||r==2&&Dy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:io(t,5);break;case 4:io(t,10);break;case 3:io(t,6);break;default:io(t,2)}}}function rI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function io(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=un(t.pb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||gf(n,"https"),wh(n)),Z2(n.toString(),r)}else yn(2);t.H=0,t.h&&t.h.za(e),iI(t),JA(t)}fe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yn(2)):(this.l.info("Failed to ping google.com"),yn(1))};function iI(t){if(t.H=0,t.ma=[],t.h){const e=zA(t.i);(e.length!=0||t.j.length!=0)&&(F0(t.ma,e),F0(t.ma,t.j),t.i.i.length=0,gy(t.j),t.j.length=0),t.h.ya()}}function oI(t,e,n){var r=n instanceof fo?Qr(n):new fo(n);if(r.g!="")e&&(r.g=e+"."+r.g),yf(r,r.m);else{var i=Pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fo(null);r&&gf(o,r),e&&(o.g=e),i&&yf(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&st(r,n,e),st(r,"VER",t.ra),Eu(t,r),r}function sI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new _t(new Th({ob:n})):new _t(t.va),e.Oa(t.J),e}fe.isActive=function(){return!!this.h&&this.h.isActive(this)};function aI(){}fe=aI.prototype;fe.Ba=function(){};fe.Aa=function(){};fe.za=function(){};fe.ya=function(){};fe.isActive=function(){return!0};fe.Va=function(){};function _f(){if(Ps&&!(10<=Number(v2)))throw Error("Environmental error: no available transport.")}_f.prototype.g=function(t,e){return new Mn(t,e)};function Mn(t,e){zt.call(this),this.g=new XA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ml(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ml(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xs(this)}Ht(Mn,zt);Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oI(t,null,t.Y),bh(t)};Mn.prototype.close=function(){xy(this.g)};Mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sy(t),t=n);e.j.push(new G2(e.fb++,t)),e.H==3&&bh(e)};Mn.prototype.N=function(){this.g.h=null,delete this.j,xy(this.g),delete this.g,Mn.$.N.call(this)};function lI(t){Py.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ht(lI,Py);function uI(){Oy.call(this),this.status=1}Ht(uI,Oy);function Xs(t){this.g=t}Ht(Xs,aI);Xs.prototype.Ba=function(){Xt(this.g,"a")};Xs.prototype.Aa=function(t){Xt(this.g,new lI(t))};Xs.prototype.za=function(t){Xt(this.g,new uI)};Xs.prototype.ya=function(){Xt(this.g,"b")};function sM(){this.blockSize=-1}function cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ht(cr,sM);cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}cr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Hd(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Hd(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Hd(this,r),i=0;break}}this.h=i,this.i+=e};cr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var aM={};function My(t){return-128<=t&&128>t?m2(t,function(e){return new Xe([e|0],0>e?-1:0)}):new Xe([t|0],0>t?-1:0)}function Er(t){if(isNaN(t)||!isFinite(t))return ds;if(0>t)return Gt(Er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=bm;return new Xe(e,0)}function cI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Gt(cI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(e,8)),r=ds,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Er(Math.pow(e,o)),r=r.R(o).add(Er(s))):(r=r.R(n),r=r.add(Er(s)))}return r}var bm=4294967296,ds=My(0),Rm=My(1),G0=My(16777216);fe=Xe.prototype;fe.ea=function(){if(qn(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:bm+r)*e,e*=bm}return t};fe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jr(this))return"0";if(qn(this))return"-"+Gt(this).toString(t);for(var e=Er(Math.pow(t,6)),n=this,r="";;){var i=wf(n,e).g;n=Ef(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,jr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};fe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qn(t){return t.h==-1}fe.X=function(t){return t=Ef(this,t),qn(t)?-1:jr(t)?0:1};function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Xe(n,~t.h).add(Rm)}fe.abs=function(){return qn(this)?Gt(this):this};fe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xe(n,n[n.length-1]&-2147483648?-1:0)};function Ef(t,e){return t.add(Gt(e))}fe.R=function(t){if(jr(this)||jr(t))return ds;if(qn(this))return qn(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(qn(t))return Gt(this.R(Gt(t)));if(0>this.X(G0)&&0>t.X(G0))return Er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Zu(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Zu(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Zu(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Zu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Xe(n,0)};function Zu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ra(t,e){this.g=t,this.h=e}function wf(t,e){if(jr(e))throw Error("division by zero");if(jr(t))return new Ra(ds,ds);if(qn(t))return e=wf(Gt(t),e),new Ra(Gt(e.g),Gt(e.h));if(qn(e))return e=wf(t,Gt(e)),new Ra(Gt(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Rm,r=e;0>=r.X(t);)n=Q0(n),r=Q0(r);var i=Fo(n,1),o=Fo(r,1);for(r=Fo(r,2),n=Fo(n,2);!jr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Fo(r,1),n=Fo(n,1)}return e=Ef(t,i.R(e)),new Ra(i,e)}for(i=ds;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Er(n),s=o.R(e);qn(s)||0<s.X(t);)n-=r,o=Er(n),s=o.R(e);jr(o)&&(o=Rm),i=i.add(o),t=Ef(t,s)}return new Ra(i,t)}fe.gb=function(t){return wf(this,t).h};fe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Xe(n,this.h&t.h)};fe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Xe(n,this.h|t.h)};fe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Xe(n,this.h^t.h)};function Q0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Xe(n,t.h)}function Fo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Xe(i,t.h)}_f.prototype.createWebChannel=_f.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;vh.NO_ERROR=0;vh.TIMEOUT=8;vh.HTTP_ERROR=6;RA.COMPLETE="complete";PA.EventType=gu;gu.OPEN="a";gu.CLOSE="b";gu.ERROR="c";gu.MESSAGE="d";zt.prototype.listen=zt.prototype.O;_t.prototype.listenOnce=_t.prototype.P;_t.prototype.getLastError=_t.prototype.Sa;_t.prototype.getLastErrorCode=_t.prototype.Ia;_t.prototype.getStatus=_t.prototype.da;_t.prototype.getResponseJson=_t.prototype.Wa;_t.prototype.getResponseText=_t.prototype.ja;_t.prototype.send=_t.prototype.ha;_t.prototype.setWithCredentials=_t.prototype.Oa;cr.prototype.digest=cr.prototype.l;cr.prototype.reset=cr.prototype.reset;cr.prototype.update=cr.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=Er;Xe.fromString=cI;var lM=function(){return new _f},uM=function(){return yh()},Wd=vh,cM=RA,fM=ko,Y0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ec=PA,hM=_t,dM=cr,ps=Xe;const X0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new ry("@firebase/firestore");function Pa(){return Ao.logLevel}function ce(t,...e){if(Ao.logLevel<=Be.DEBUG){const n=e.map(Fy);Ao.debug(`Firestore (${Js}): ${t}`,...n)}}function Pr(t,...e){if(Ao.logLevel<=Be.ERROR){const n=e.map(Fy);Ao.error(`Firestore (${Js}): ${t}`,...n)}}function Os(t,...e){if(Ao.logLevel<=Be.WARN){const n=e.map(Fy);Ao.warn(`Firestore (${Js}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function nt(t,e){t||Re()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class mM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gM{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ir)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new fI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new on(e)}}class yM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _M{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new _M(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ft(0,0))}static max(){return new ke(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends zl{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new at(n)}static emptyPath(){return new at([])}}const TM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends zl{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return TM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(at.fromString(e))}static fromName(e){return new Ee(at.fromString(e).popFirst(5))}static empty(){return new Ee(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new at(e.slice()))}}function SM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new Fi(i,Ee.empty(),e)}function AM(t){return new Fi(t.readTime,t.key,-1)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(ke.min(),Ee.empty(),-1)}static max(){return new Fi(ke.max(),Ee.empty(),-1)}}function IM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==bM)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ir,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ol(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=jy(r.target.error);this.V.reject(new ol(e,i))}}static open(e,n,r,i){try{return new Vy(n,e.transaction(i,r))}catch(o){throw new ol(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new OM(n)}}class oo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,oo.S(xt())===12.2&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ce("SimpleDb","Removing database:",e),Xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!IS())return!1;if(oo.C())return!0;const e=xt(),n=oo.S(e),r=0<n&&n<10,i=oo.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ce("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new he(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new he(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ol(e,s))},i.onupgradeneeded=o=>{ce("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{ce("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Vy.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),re.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(ce("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class PM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xi(this.k.delete())}}class ol extends he{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Tu(t){return t.name==="IndexedDbTransactionError"}class OM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ce("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xi(r)}add(e){return ce("SimpleDb","ADD",this.store.name,e,e),Xi(this.store.add(e))}get(e){return Xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),ce("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ce("SimpleDb","DELETE",this.store.name,e),Xi(this.store.delete(e))}count(){return ce("SimpleDb","COUNT",this.store.name),Xi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new re((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new re((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){ce("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new re((r,i)=>{n.onerror=o=>{const s=jy(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new re((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new PM(a),u=n(a.primaryKey,a.value,l);if(u instanceof re){const c=u.catch(h=>(l.done(),re.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>re.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xi(t){return new re((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jy(r.target.error);n(i)}})}let J0=!1;function jy(t){const e=oo.S(xt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J0||(J0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}$y._e=-1;function Rh(t){return t==null}function Tf(t){return t===0&&1/t==-1/0}function kM(t){return typeof t=="number"&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=o??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e1(this.data.getIterator())}getIteratorFrom(e){return new e1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class e1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ir([])}unionWith(e){let n=new Jt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pI("Invalid base64 string: "+o):o}}(e);return new hn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(nt(!!t),typeof t=="string"){let e=0;const n=CM.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function By(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?By(e):e}function Hl(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:xM(t)?9007199254740991:10:Re()}function Or(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Vi(i.timestampValue),a=Vi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ot(i.geoPointValue.latitude)===Ot(o.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ot(i.integerValue)===Ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ot(i.doubleValue),a=Ot(o.doubleValue);return s===a?Tf(s)===Tf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Z0(s)!==Z0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Or(s[l],a[l])))return!1;return!0}(t,e);default:return Re()}}function Kl(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Cs(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ot(o.integerValue||o.doubleValue),l=Ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return t1(t.timestampValue,e.timestampValue);case 4:return t1(Hl(t),Hl(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Io(o),l=Io(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(Ot(o.latitude),Ot(s.latitude));return a!==0?a:We(Ot(o.longitude),Ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Cs(a[u],l[u]);if(c)return c}return We(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===nc.mapValue&&s===nc.mapValue)return 0;if(o===nc.mapValue)return 1;if(s===nc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=We(l[h],c[h]);if(f!==0)return f;const d=Cs(a[l[h]],u[c[h]]);if(d!==0)return d}return We(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Re()}}function t1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Vi(t),r=Vi(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Ns(t){return Pm(t)}function Pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Pm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Pm(n.fields[s])}`;return i+"}"}(t.mapValue):Re()}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Om(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function i1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=sl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zn(sl(this.value))}}function mI(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new Qt([n]);if(Rc(r)){const o=mI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new an(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function o1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(s.referenceValue),n.key):r=Cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function DM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class Nt extends gI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MM(e,n,r):n==="array-contains"?new jM(e,r):n==="in"?new $M(e,r):n==="not-in"?new UM(e,r):n==="array-contains-any"?new BM(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FM(e,r):new VM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cs(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends gI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new fr(e,n)}matches(e){return yI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yI(t){return t.op==="and"}function vI(t){return LM(t)&&yI(t)}function LM(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function km(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ns(t.value);if(vI(t))return t.filters.map(e=>km(e)).join(",");{const e=t.filters.map(n=>km(n)).join(",");return`${t.op}(${e})`}}function _I(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Or(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_I(s,i.filters[a]),!0):!1}(t,e):void Re()}function EI(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ns(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(EI).join(" ,")+"}"}(t):"Filter"}class MM extends Nt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class FM extends Nt{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VM extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class jM extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&Kl(n.arrayValue,this.value)}}class $M extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class UM extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class BM extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function a1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qM(t,e,n,r,i,o,s)}function zy(t){const e=De(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ns(r)).join(",")),e.ce=n}return e.ce}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_I(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function Cm(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zM(t,e,n,r,i,o,s,a){return new ea(t,e,n,r,i,o,s,a)}function Wy(t){return new ea(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TI(t){return t.collectionGroup!==null}function al(t){const e=De(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Gl(o,r))}),n.has(Qt.keyField().canonicalString())||e.le.push(new Gl(Qt.keyField(),r))}return e.le}function br(t){const e=De(t);return e.he||(e.he=HM(e,al(t))),e.he}function HM(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gl(i.field,o)});const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nm(t,e){const n=t.filters.concat([e]);return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xm(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return Hy(br(t),br(e))&&t.limitType===e.limitType}function SI(t){return`${zy(br(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>EI(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ns(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Oh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of al(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=o1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,al(r),i)||r.endAt&&!function(s,a,l){const u=o1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,al(r),i))}(t,e)}function WM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AI(t){return(e,n)=>{let r=!1;for(const i of al(t)){const o=KM(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function KM(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Cs(l,u):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new gt(Ee.comparator);function Yr(){return GM}const II=new gt(Ee.comparator);function qa(...t){let e=II;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=II;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function so(){return ll()}function RI(){return ll()}function ll(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const QM=new gt(Ee.comparator),YM=new Jt(Ee.comparator);function $e(...t){let e=YM;for(const n of t)e=e.add(n);return e}const XM=new Jt(We);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function OI(t){return{integerValue:""+t}}function ZM(t,e){return kM(e)?OI(e):PI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function e4(t,e,n){return t instanceof Af?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Uy(o)&&(o=By(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ql?CI(t,e):t instanceof Yl?NI(t,e):function(i,o){const s=kI(i,o),a=u1(s)+u1(i.Ie);return Om(s)&&Om(i.Ie)?OI(a):PI(i.serializer,a)}(t,e)}function t4(t,e,n){return t instanceof Ql?CI(t,e):t instanceof Yl?NI(t,e):n}function kI(t,e){return t instanceof If?function(r){return Om(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Af extends kh{}class Ql extends kh{constructor(e){super(),this.elements=e}}function CI(t,e){const n=xI(e);for(const r of t.elements)n.some(i=>Or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yl extends kh{constructor(e){super(),this.elements=e}}function NI(t,e){let n=xI(e);for(const r of t.elements)n=n.filter(i=>!Or(i,r));return{arrayValue:{values:n}}}class If extends kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u1(t){return Ot(t.integerValue||t.doubleValue)}function xI(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function n4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Yl&&i instanceof Yl?ks(r.elements,i.elements,Or):r instanceof If&&i instanceof If?Or(r.Ie,i.Ie):r instanceof Af&&i instanceof Af}(t.transform,e.transform)}class r4{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Ch=class{};function DI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MI(t.key,Br.none()):new Su(t.key,t.data,Br.none());{const n=t.data,r=zn.empty();let i=new Jt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Co(t.key,r,new ir(i.toArray()),Br.none())}}function i4(t,e,n){t instanceof Su?function(i,o,s){const a=i.value.clone(),l=f1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(i,o,s){if(!Pc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=f1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(LI(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n,r){return t instanceof Su?function(o,s,a,l){if(!Pc(o.precondition,s))return a;const u=o.value.clone(),c=h1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Co?function(o,s,a,l){if(!Pc(o.precondition,s))return a;const u=h1(o.fieldTransforms,l,s),c=s.data;return c.setAll(LI(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Pc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function o4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=kI(r.transform,i||null);o!=null&&(n===null&&(n=zn.empty()),n.set(r.field,o))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(o,s)=>n4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends Ch{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends Ch{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f1(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,t4(s,a,n[i]))}return r}function h1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,e4(o,s,e))}return r}class MI extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s4 extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&i4(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RI();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=DI(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>c1(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class Ky{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return QM}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ky(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,qe;function c4(t){switch(t){default:return Re();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function FI(t){if(t===void 0)return Pr("GRPC error has no .code"),te.UNKNOWN;switch(t){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return Re()}}(qe=Pt||(Pt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new ps([4294967295,4294967295],0);function d1(t){const e=f4().encode(t),n=new dM;return n.update(e),new Uint8Array(n.digest())}function p1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,o],0)]}class Gy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ps.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(h4)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=d1(e),[r,i]=p1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gy(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=d1(e),[r,i]=p1(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nh(ke.min(),i,new gt(We),Yr(),$e())}}class Au{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Au(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class VI{constructor(e,n){this.targetId=e,this.fe=n}}class jI{constructor(e,n,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m1{constructor(){this.ge=0,this.pe=y1(),this.ye=hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$e(),n=$e(),r=$e();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new Au(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=y1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,nt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class d4{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yr(),this.Qe=g1(),this.Ke=new gt(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Cm(o))if(r===0){const s=new Ee(o.path);this.We(n,s,an.newNoDocument(s,ke.min()))}else nt(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Io(r).toUint8Array()}catch(l){if(l instanceof pI)return Os("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gy(s,i,o)}catch(l){return Os(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Cm(a.target)){const l=new Ee(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,an.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=$e();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Nh(e,n,this.Ke,this.qe,r);return this.qe=Yr(),this.Qe=g1(),this.Ke=new gt(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new m1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Jt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new m1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function g1(){return new gt(Ee.comparator)}function y1(){return new gt(Ee.comparator)}const p4={asc:"ASCENDING",desc:"DESCENDING"},m4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g4={and:"AND",or:"OR"};class y4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v4(t,e){return bf(t,e.toTimestamp())}function Rr(t){return nt(!!t),ke.fromTimestamp(function(n){const r=Vi(n);return new Ft(r.seconds,r.nanos)}(t))}function Qy(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){const n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UI(t){const e=at.fromString(t);return nt(WI(e)),e}function Mm(t,e){return Qy(t.databaseId,e.path)}function Kd(t,e){const n=UI(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(qI(n))}function BI(t,e){return Qy(t.databaseId,e)}function _4(t){const e=UI(t);return e.length===4?at.emptyPath():qI(e)}function Fm(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qI(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v1(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function E4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(nt(c===void 0||typeof c=="string"),hn.fromBase64String(c||"")):(nt(c===void 0||c instanceof Uint8Array),hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?te.UNKNOWN:FI(u.code);return new he(c,u.message||"")}(s);n=new jI(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kd(t,r.document.name),o=Rr(r.document.updateTime),s=r.document.createTime?Rr(r.document.createTime):ke.min(),a=new zn({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Oc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kd(t,r.document),o=r.readTime?Rr(r.readTime):ke.min(),s=an.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Oc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kd(t,r.document),o=r.removedTargetIds||[];n=new Oc([],o,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new u4(i,o),a=r.targetId;n=new VI(a,s)}}return n}function w4(t,e){let n;if(e instanceof Su)n={update:v1(t,e.key,e.value)};else if(e instanceof MI)n={delete:Mm(t,e.key)};else if(e instanceof Co)n={update:v1(t,e.key,e.data),updateMask:k4(e.fieldMask)};else{if(!(e instanceof s4))return Re();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Af)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ql)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof If)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:v4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function T4(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(ke.min())&&(s=Rr(o)),new r4(s,i.transformResults||[])}(n,e))):[]}function S4(t,e){return{documents:[BI(t,e.path)]}}function A4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BI(t,i);const o=function(u){if(u.length!==0)return HI(fr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:$o(f.field),direction:R4(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Dm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function I4(t){let e=_4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const f=zI(h);return f instanceof fr&&vI(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(E){return new Gl(Uo(E.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Rh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Sf(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,d=h.values||[];return new Sf(d,f)}(n.endAt)),zM(e,i,s,o,a,"F",l,u)}function b4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uo(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Uo(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uo(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uo(n.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>zI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function R4(t){return p4[t]}function P4(t){return m4[t]}function O4(t){return g4[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Uo(t){return Qt.fromServerFormat(t.fieldPath)}function HI(t){return t instanceof Nt?function(n){if(n.op==="=="){if(i1(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i1(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:P4(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>HI(i));return r.length===1?r[0]:{compositeFilter:{op:O4(n.op),filters:r}}}(t):Re()}function k4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.ct=e}}function N4(t){const e=I4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._n=new D4}addToCollectionParentIndex(e,n){return this._n.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Fi.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class D4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xs(0)}static Bn(){return new xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ul(r.mutation,i,ir.empty(),Ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=so();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qa();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=so();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yr();const s=ll(),a=function(){return ll()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Co)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ul(c.mutation,u,c.mutation.getFieldMask(),Ft.now())):s.set(u.key,ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new M4(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ll();let i=new gt((s,a)=>s-a),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ir.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=RI();c.forEach(f=>{if(!o.has(f)){const d=DI(n.get(f),r.get(f));d!==null&&h.set(f,d),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(so());let a=-1,l=o;return s.next(u=>re.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?re.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,$e())).next(c=>({batchId:a,changes:bI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qa();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,l=>{const u=function(h,f){return new ea(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,an.newInvalidDocument(c)))});let a=qa();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ul(c.mutation,u,ir.empty(),Ft.now()),Oh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return re.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:N4(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.overlays=new gt(Ee.comparator),this.hr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=so();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=so(),o=n.length+1,s=new Ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=so(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=so(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return re.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new l4(n,r));let o=this.hr.get(n);o===void 0&&(o=$e(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Pr=new Jt($t.Ir),this.Tr=new Jt($t.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new $t(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Ee(new at([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ee(new at([])),r=new $t(n,e),i=new $t(n,e+1);let o=$e();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ee.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Jt($t.Ir)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new a4(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,n){return re.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(We);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),re.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const s=new $t(new Ee(o),0);let a=new Jt(We);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),re.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return re.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new $t(n,0),i=this.wr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.vr=e,this.docs=function(){return new gt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():an.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yr();const s=n.path,a=new Ee(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||IM(AM(c),r)<=0||(i.has(c.key)||Oh(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Re()}Fr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new B4(this)}getSize(e){return re.resolve(this.size)}}class B4 extends L4{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.persistence=e,this.Mr=new ta(n=>zy(n),Hy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Yy,this.targetCount=0,this.Br=xs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),re.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new xs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.qn(n),re.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.Lr={},this.overlays={},this.kr=new $y(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new q4(this),this.indexManager=new x4,this.remoteDocumentCache=function(i){return new U4(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new C4(n),this.$r=new V4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new $4(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new H4(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return re.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class H4 extends RM{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.zr=new Yy,this.jr=null}static Hr(e){return new Xy(e)}get Jr(){if(this.jr)return this.jr;throw Re()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),re.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Jr,r=>{const i=Ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return re.or([()=>re.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=$e(),i=$e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return PN()?8:oo.v(xt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new W4;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Pa()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),re.resolve()):(Pa()<=Be.DEBUG&&ce("QueryEngine","Query:",jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Pa()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):re.resolve())}ji(e,n){if(l1(n))return re.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xm(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=$e(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,xm(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return l1(n)||i.isEqual(ke.min())?re.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?re.resolve(null):(Pa()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jo(n)),this.es(e,s,n,SM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Jt(AI(e));return n.forEach((i,o)=>{Oh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Pa()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",jo(n)),this.zi.getDocumentsMatchingQuery(e,n,Fi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new gt(We),this.rs=new ta(o=>zy(o),Hy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Q4(t,e,n,r){return new G4(t,e,n,r)}async function KI(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=$e();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function Y4(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let d=re.resolve();return f.forEach(E=>{d=d.next(()=>c.getEntry(l,E)).next(y=>{const _=u.docVersions.get(E);nt(_!==null),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GI(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function X4(t,e){const n=De(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let d=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(y,_,m){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,d,c)&&a.push(n.Qr.updateTargetData(o,d))});let l=Yr(),u=$e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(J4(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function J4(t,e,n){let r=$e(),i=$e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Z4(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eF(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Ei(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Vm(t,e,n){const r=De(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Tu(s))throw s;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function _1(t,e,n){const r=De(t);let i=ke.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=De(l),f=h.rs.get(c);return f!==void 0?re.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:$e())).next(a=>(tF(r,WM(e),a),{documents:a,hs:o})))}function tF(t,e,n){let r=t.ss.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class E1{constructor(){this.activeTargetIds=JM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.no=new E1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Gd(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class sF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Gd(),l=this.bo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Os("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=iF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Gd();return new Promise((s,a)=>{const l=new hM;l.setWithCredentials(!0),l.listenOnce(cM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wd.NO_ERROR:const c=l.getResponseJson();ce(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Wd.TIMEOUT:ce(rn,`RPC '${e}' ${o} timed out`),a(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const h=l.getStatus();if(ce(rn,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f?.error;if(d&&d.status&&d.message){const E=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(m)>=0?m:te.UNKNOWN}(d.status);a(new he(E,d.message))}else a(new he(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(te.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce(rn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ce(rn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Gd(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lM(),a=uM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ce(rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let f=!1,d=!1;const E=new oF({lo:_=>{d?ce(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(ce(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ce(rn,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),y=(_,m,p)=>{_.listen(m,v=>{try{p(v)}catch(g){setTimeout(()=>{throw g},0)}})};return y(h,ec.EventType.OPEN,()=>{d||ce(rn,`RPC '${e}' stream ${i} transport opened.`)}),y(h,ec.EventType.CLOSE,()=>{d||(d=!0,ce(rn,`RPC '${e}' stream ${i} transport closed`),E.Vo())}),y(h,ec.EventType.ERROR,_=>{d||(d=!0,Os(rn,`RPC '${e}' stream ${i} transport errored:`,_),E.Vo(new he(te.UNAVAILABLE,"The operation could not be completed")))}),y(h,ec.EventType.MESSAGE,_=>{var m;if(!d){const p=_.data[0];nt(!!p);const v=p,g=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(g){ce(rn,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let T=function(O){const I=Pt[O];if(I!==void 0)return FI(I)}(w),S=g.message;T===void 0&&(T=te.INTERNAL,S="Unknown error status: "+w+" with message "+g.message),d=!0,E.Vo(new he(T,S)),h.close()}else ce(rn,`RPC '${e}' stream ${i} received:`,p),E.mo(p)}}),y(a,fM.STAT_EVENT,_=>{_.stat===Y0.PROXY?ce(rn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Y0.NOPROXY&&ce(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new y4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new QI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends YI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=E4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?Rr(s.readTime):ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Cm(l)?{documents:S4(o,l)}:{query:A4(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$I(o,s.resumeToken);const u=Dm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());const u=Dm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=b4(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.t_(n)}}class lF extends YI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=T4(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.T_(r,n)}return nt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Fm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w4(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Lm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(te.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Lm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(te.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class cF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Pr(n),this.g_=!1):ce("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{No(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=De(l);u.v_.add(4),await Iu(u),u.x_.set("Unknown"),u.v_.delete(4),await Dh(u)}(this))})}),this.x_=new cF(r,i)}}async function Dh(t){if(No(t))for(const e of t.F_)await e(!0)}async function Iu(t){for(const e of t.F_)await e(!1)}function XI(t,e){const n=De(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),tv(n)?ev(n):na(n).Jo()&&Zy(n,e))}function JI(t,e){const n=De(t),r=na(n);n.C_.delete(e),r.Jo()&&ZI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():No(n)&&n.x_.set("Unknown"))}function Zy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).c_(e)}function ZI(t,e){t.O_.Oe(e),na(t).l_(e)}function ev(t){t.O_=new d4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.x_.p_()}function tv(t){return No(t)&&!na(t).Ho()&&t.C_.size>0}function No(t){return De(t).v_.size===0}function eb(t){t.O_=void 0}async function hF(t){t.C_.forEach((e,n)=>{Zy(t,e)})}async function dF(t,e){eb(t),tv(t)?(t.x_.S_(e),ev(t)):t.x_.set("Unknown")}async function pF(t,e,n){if(t.x_.set("Online"),e instanceof jI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(t,r)}else if(e instanceof Oc?t.O_.$e(e):e instanceof VI?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ke.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(hn.EMPTY_BYTE_STRING,c.snapshotVersion)),ZI(o,l);const h=new Ei(c.target,l,u,c.sequenceNumber);Zy(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Rf(t,r)}}async function Rf(t,e,n){if(!Tu(e))throw e;t.v_.add(1),await Iu(t),t.x_.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Dh(t)})}function tb(t,e){return e().catch(n=>Rf(t,n,e))}async function Lh(t){const e=De(t),n=ji(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;mF(e);)try{const i=await Z4(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,gF(e,i)}catch(i){await Rf(e,i)}nb(e)&&rb(e)}function mF(t){return No(t)&&t.D_.length<10}function gF(t,e){t.D_.push(e);const n=ji(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function nb(t){return No(t)&&!ji(t).Ho()&&t.D_.length>0}function rb(t){ji(t).start()}async function yF(t){ji(t).d_()}async function vF(t){const e=ji(t);for(const n of t.D_)e.I_(n.mutations)}async function _F(t,e,n){const r=t.D_.shift(),i=Ky.from(r,e,n);await tb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lh(t)}async function EF(t,e){e&&ji(t).P_&&await async function(r,i){if(function(s){return c4(s)&&s!==te.ABORTED}(i.code)){const o=r.D_.shift();ji(r).Zo(),await tb(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Lh(r)}}(t,e),nb(t)&&rb(t)}async function T1(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=No(n);n.v_.add(3),await Iu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Dh(n)}async function wF(t,e){const n=De(t);e?(n.v_.delete(2),await Dh(n)):e||(n.v_.add(2),await Iu(n),n.x_.set("Unknown"))}function na(t){return t.N_||(t.N_=function(n,r,i){const o=De(n);return o.R_(),new aF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:hF.bind(null,t),To:dF.bind(null,t),u_:pF.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),tv(t)?ev(t):t.x_.set("Unknown")):(await t.N_.stop(),eb(t))})),t.N_}function ji(t){return t.B_||(t.B_=function(n,r,i){const o=De(n);return o.R_(),new lF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:yF.bind(null,t),To:EF.bind(null,t),E_:vF.bind(null,t),T_:_F.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Lh(t)):(await t.B_.stop(),t.D_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new nv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rv(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Tu(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new ms(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.L_=new gt(Ee.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Re():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ds{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ds(e,n,ms.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.q_=void 0,this.Q_=[]}}class SF{constructor(){this.queries=new ta(e=>SI(e),Ph),this.onlineState="Unknown",this.K_=new Set}}async function ib(t,e){const n=De(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new TF),i)try{o.q_=await n.onListen(r)}catch(s){const a=rv(s,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&iv(n)}async function ob(t,e){const n=De(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function AF(t,e){const n=De(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&iv(n)}function IF(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function iv(t){t.K_.forEach(e=>{e.next()})}class sb{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.key=e}}class lb{constructor(e){this.key=e}}class bF{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=$e(),this.mutatedKeys=$e(),this.ua=AI(e),this.ca=new ms(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new S1,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Oh(this.query,h)?h:null,E=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?E!==y&&(r.track({type:3,doc:d}),_=!0):this.Ia(f,d)||(r.track({type:2,doc:d}),_=!0,(l&&this.ua(d,l)>0||u&&this.ua(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),_=!0):f&&!d&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(d?(s=s.add(d),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(d,E){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return y(d)-y(E)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Ds(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new S1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=$e(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new lb(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new ab(r))}),n}Ra(e){this.oa=e.hs,this.aa=$e();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ds.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class RF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PF{constructor(e){this.key=e,this.ma=!1}}class OF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ta(a=>SI(a),Ph),this.pa=new Map,this.ya=new Set,this.wa=new gt(Ee.comparator),this.Sa=new Map,this.ba=new Yy,this.Da={},this.Ca=new Map,this.va=xs.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function kF(t,e){const n=$F(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await eF(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await CF(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&XI(n.remoteStore,s)}return i}async function CF(t,e,n,r,i){t.Ma=(h,f,d)=>async function(y,_,m,p){let v=_.view.ha(m);v.Xi&&(v=await _1(y.localStore,_.query,!1).then(({documents:S})=>_.view.ha(S,v)));const g=p&&p.targetChanges.get(_.targetId),w=p&&p.targetMismatches.get(_.targetId)!=null,T=_.view.applyChanges(v,y.isPrimaryClient,g,w);return I1(y,_.targetId,T.da),T.snapshot}(t,h,f,d);const o=await _1(t.localStore,e,!0),s=new bF(e,o.hs),a=s.ha(o.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);I1(t,n,u.da);const c=new RF(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function NF(t,e){const n=De(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Ph(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),JI(n.remoteStore,r.targetId),jm(n,r.targetId)}).catch(wu)):(jm(n,r.targetId),await Vm(n.localStore,r.targetId,!0))}async function xF(t,e,n){const r=UF(t);try{const i=await function(s,a){const l=De(s),u=Ft.now(),c=a.reduce((d,E)=>d.add(E.key),$e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let E=Yr(),y=$e();return l.os.getEntries(d,c).next(_=>{E=_,E.forEach((m,p)=>{p.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,E)).next(_=>{h=_;const m=[];for(const p of a){const v=o4(p,h.get(p.key).overlayedDocument);v!=null&&m.push(new Co(p.key,v,mI(v.value.mapValue),Br.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(_=>{f=_;const m=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(d,_.batchId,m)})}).then(()=>({batchId:f.batchId,changes:bI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new gt(We)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await bu(r,i.changes),await Lh(r.remoteStore)}catch(i){const o=rv(i,"Failed to persist write");n.reject(o)}}async function ub(t,e){const n=De(t);try{const r=await X4(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?nt(s.ma):i.removedDocuments.size>0&&(nt(s.ma),s.ma=!1))}),await bu(n,r,e)}catch(r){await wu(r)}}function A1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=De(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(u=!0)}),u&&iv(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DF(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new gt(Ee.comparator);s=s.insert(o,an.newNoDocument(o,ke.min()));const a=$e().add(o),l=new Nh(ke.min(),new Map,new gt(We),s,a);await ub(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),ov(r)}else await Vm(r.localStore,e,!1).then(()=>jm(r,e,n)).catch(wu)}async function LF(t,e){const n=De(t),r=e.batch.batchId;try{const i=await Y4(n.localStore,e);fb(n,r,null),cb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,i)}catch(i){await wu(i)}}async function MF(t,e,n){const r=De(t);try{const i=await function(s,a){const l=De(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(nt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);fb(r,e,n),cb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,i)}catch(i){await wu(i)}}function cb(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function fb(t,e,n){const r=De(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||hb(t,r)})}function hb(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(JI(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),ov(t))}function I1(t,e,n){for(const r of n)r instanceof ab?(t.ba.addReference(r.key,e),FF(t,r)):r instanceof lb?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||hb(t,r.key)):Re()}function FF(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.ya.add(r),ov(t))}function ov(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new Ee(at.fromString(e)),r=t.va.next();t.Sa.set(r,new PF(n)),t.wa=t.wa.insert(n,r),XI(t.remoteStore,new Ei(br(Wy(n.path)),r,"TargetPurposeLimboResolution",$y._e))}}async function bu(t,e,n){const r=De(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const c=Jy.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=De(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(u,f=>re.forEach(f.qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>re.forEach(f.Qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Tu(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=c.ns.get(f),E=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(E);c.ns=c.ns.insert(f,y)}}}(r.localStore,o))}async function VF(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await KI(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new he(te.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.us)}}function jF(t,e){const n=De(t),r=n.Sa.get(e);if(r&&r.ma)return $e().add(r.key);{let i=$e();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function $F(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DF.bind(null,e),e.fa.u_=AF.bind(null,e.eventManager),e.fa.xa=IF.bind(null,e.eventManager),e}function UF(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MF.bind(null,e),e}class b1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Q4(this.persistence,new K4,e.initialUser,this.serializer)}createPersistence(e){return new z4(Xy.Hr,this.serializer)}createSharedClientState(e){return new nF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VF.bind(null,this.syncEngine),await wF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SF}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=function(o){return new sF(o)}(e.databaseInfo);return function(o,s,a,l){return new uF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new fF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>A1(this.syncEngine,n,0),function(){return w1.D()?new w1:new rF}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new OF(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=De(r);ce("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Iu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=hI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yd(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HF(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>T1(e.remoteStore,i)),t._onlineComponents=e}function zF(t){return t.name==="FirebaseError"?t.code===te.FAILED_PRECONDITION||t.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zF(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),await Yd(t,new b1)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Yd(t,new b1);return t._offlineComponents}async function pb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await R1(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await R1(t,new BF))),t._onlineComponents}function WF(t){return pb(t).then(e=>e.syncEngine)}async function mb(t){const e=await pb(t),n=e.eventManager;return n.onListen=kF.bind(null,e.syncEngine),n.onUnlisten=NF.bind(null,e.syncEngine),n}function KF(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new db({next:f=>{s.enqueueAndForget(()=>ob(o,h));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?u.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new sb(Wy(a.path),c,{includeMetadataChanges:!0,Z_:!0});return ib(o,h)}(await mb(t),t.asyncQueue,e,n,r)),r.promise}function GF(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new db({next:f=>{s.enqueueAndForget(()=>ob(o,h)),f.fromCache&&l.source==="server"?u.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new sb(a,c,{includeMetadataChanges:!0,Z_:!0});return ib(o,h)}(await mb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QF(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O1(t){if(!Ee.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k1(t){if(Ee.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pM;switch(r.type){case"firstParty":return new vM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P1.get(n);r&&(ce("ComponentProvider","Removing Datastore"),P1.delete(n),r.terminate())}(this),Promise.resolve()}}function YF(t,e,n,r={}){var i;const o=(t=Ls(t,Fh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=on.MOCK_USER;else{a=TN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new on(u)}t._authCredentials=new mM(new fI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=class vb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vb(this.firestore,e,this._query)}};class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Ni extends Ru{constructor(e,n,r){super(e,n,Wy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Ee(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function _b(t,e,...n){if(t=_n(t),yb("collection","path",e),t instanceof Fh){const r=at.fromString(e,...n);return k1(r),new Ni(t,null,r)}{if(!(t instanceof Dn||t instanceof Ni))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return k1(r),new Ni(t.firestore,null,r)}}function Eb(t,e,...n){if(t=_n(t),arguments.length===1&&(e=hI.newId()),yb("doc","path",e),t instanceof Fh){const r=at.fromString(e,...n);return O1(r),new Dn(t,null,new Ee(r))}{if(!(t instanceof Dn||t instanceof Ni))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return O1(r),new Dn(t.firestore,t instanceof Ni?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new QI(this,"async_queue_retry"),this._u=()=>{const n=Qd();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Qd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ir;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Tu(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=nv.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Re()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Vh extends Fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new XF}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wb(this),this._firestoreClient.terminate()}}function JF(t,e){const n=typeof t=="object"?t:OS(),r=typeof t=="string"?t:e||"(default)",i=oy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=EN("firestore");o&&YF(i,...o)}return i}function sv(t){return t._firestoreClient||wb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wb(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new NM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gb(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(hn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=/^__.*__$/;class eV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function Sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class uv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Pf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Sb(this.du)&&ZF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class tV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Su(e,n,r,i=!1){return new uv({du:e,methodName:n,wu:r,path:Qt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ab(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new tV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nV(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);Rb("Data must be an object, but it was:",s,r);const a=Ib(r,s);let l,u;if(o.merge)l=new ir(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=iV(e,h,n);if(!s.contains(f))throw new he(te.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);sV(c,f)||c.push(f)}l=new ir(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new eV(new zn(a),l,u)}function rV(t,e,n,r=!1){return cv(n,t.Su(r?4:3,e))}function cv(t,e){if(bb(t=_n(t)))return Rb("Unsupported field value:",e,t),Ib(t,e);if(t instanceof Tb)return function(r,i){if(!Sb(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=cv(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ft.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof Ft){const o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ms)return{bytesValue:$I(i.serializer,r._byteString)};if(r instanceof Dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Mh(r)}`)}(t,e)}function Ib(t,e){const n={};return dI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const o=cv(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof lv||t instanceof Ms||t instanceof Dn||t instanceof Tb)}function Rb(t,e,n){if(!bb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Mh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function iV(t,e,n){if((e=_n(e))instanceof av)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const oV=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,n){if(e.search(oV)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new av(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(te.INVALID_ARGUMENT,a+t+l)}function sV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aV extends Ob{data(){return super.data()}}function fv(t,e){return typeof e=="string"?Pb(t,e):e instanceof av?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class kb extends hv{}function uV(t,e,...n){let r=[];e instanceof hv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof pv).length,a=o.filter(l=>l instanceof dv).length;if(s>1||s>0&&a>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dv extends kb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dv(e,n,r)}_apply(e){const n=this._parse(e);return Cb(e._query,n),new Ru(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=Ab(e.firestore);return function(o,s,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){x1(h,c);const d=[];for(const E of h)d.push(N1(l,o,E));f={arrayValue:{values:d}}}else f=N1(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||x1(h,c),f=rV(a,s,h,c==="in"||c==="not-in");return Nt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pv extends hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Cb(s,l),s=Nm(s,l)}(e._query,n),new Ru(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends kb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mv(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(o,s)}(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ea(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function cV(t,e="asc"){const n=e,r=fv("orderBy",t);return mv._create(r,n)}function N1(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TI(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!Ee.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new Ee(r))}if(n instanceof Dn)return n1(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function x1(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cb(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fV{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new lv(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=By(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);nt(WI(r));const i=new Wl(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return i.isEqual(n)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nb extends Ob{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kc extends Nb{data(e={}){return super.data(e)}}class dV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kc(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new kc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:pV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){t=Ls(t,Dn);const e=Ls(t.firestore,Vh);return KF(sv(e),t._key).then(n=>_V(e,t,n))}class xb extends fV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function gV(t){t=Ls(t,Ru);const e=Ls(t.firestore,Vh),n=sv(e),r=new xb(e);return lV(t._query),GF(n,t._query).then(i=>new dV(e,r,t,i))}function yV(t,e){const n=Ls(t.firestore,Vh),r=Eb(t),i=hV(t.converter,e);return vV(n,[nV(Ab(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function vV(t,e){return function(r,i){const o=new Ir;return r.asyncQueue.enqueueAndForget(async()=>xF(await WF(r),i,o)),o.promise}(sv(t),e)}function _V(t,e,n){const r=n.docs.get(e._key),i=new xb(t);return new Nb(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Js=i})(Ks),bs(new wo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Vh(new gM(r.getProvider("auth-internal")),new EM(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ci(X0,"4.4.2",e),Ci(X0,"4.4.2","esm2017")})();const EV={apiKey:"AIzaSyAb9GZwDqc8l223apBHfhOvB2XG_qSVbZM",authDomain:"guni-board.firebaseapp.com",projectId:"guni-board",storageBucket:"guni-board.appspot.com",messagingSenderId:"905007936642",appId:"1:905007936642:web:a5f27e8288d86a6060b09b",measurementId:"G-5VZTZGDDXK"},Db=PS(EV),ho=s2(Db),gv=JF(Db),wV=()=>{const t=au(),{name:e,setUser:n}=Mi();return X.useEffect(()=>{KD(ho,r=>{if(r){const i={name:r.email,token:"accessToken"in r?String(r.accessToken):null};n(i)}else n({name:null,token:null})})},[]),ee.jsx(ee.Fragment,{children:e?ee.jsxs("span",{children:[e,ee.jsx("button",{onClick:()=>GD(ho),children:"로그아웃"})]}):ee.jsx("button",{onClick:()=>t("login"),children:"로그인"})})},TV="_wrapper_g6pzw_1",Oa={wrapper:TV},SV=()=>ee.jsxs("div",{className:Oa.wrapper,children:[ee.jsxs("h1",{children:[ee.jsx(Ia,{to:"/",children:ee.jsx("strong",{children:"GUNI"})}),ee.jsx("span",{children:"Vite+React+TS"}),ee.jsx(wV,{})]}),ee.jsx("nav",{children:ee.jsxs("ul",{children:[ee.jsx("li",{children:ee.jsx(Ia,{to:"/story",className:({isActive:t})=>t?Oa.activeItem:"",children:ee.jsx("span",{style:{"--navName":'"Story"'},children:"Story"})})}),ee.jsx("li",{children:ee.jsx(Ia,{to:"/board",className:({isActive:t})=>t?Oa.activeItem:"",children:ee.jsx("span",{style:{"--navName":'"Board"'},children:"Board"})})}),ee.jsxs("li",{children:[ee.jsx(Ia,{to:"/works",className:({isActive:t})=>t?Oa.activeItem:"",children:ee.jsx("span",{style:{"--navName":'"Works"'},children:"Works"})}),ee.jsx("ul",{children:ee.jsx("li",{children:ee.jsx(Ia,{to:"/works/authRouter",className:({isActive:t})=>t?Oa.activeItem:"",children:ee.jsx("span",{style:{"--navName":'"권한 라우팅"'},children:"권한 라우팅"})})})})]})]})})]});var jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$h=typeof window>"u"||"Deno"in window;function Zn(){}function AV(t,e){return typeof t=="function"?t(e):t}function IV(t){return typeof t=="number"&&t>=0&&t!==1/0}function bV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function D1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==yv(s,e.options))return!1}else if(!Jl(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function L1(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Xl(e.options.mutationKey)!==Xl(o))return!1}else if(!Jl(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yv(t,e){return(e?.queryKeyHashFn||Xl)(t)}function Xl(t){return JSON.stringify(t,(e,n)=>$m(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jl(t[n],e[n])):!1}function Lb(t,e){if(t===e)return t;const n=M1(t)&&M1(e);if(n||$m(t)&&$m(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u];!n&&t[c]===void 0&&e[c]===void 0&&r.includes(c)?(a[c]=void 0,l++):(a[c]=Lb(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function M1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $m(t){if(!F1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F1(n)||!n.hasOwnProperty("isPrototypeOf"))}function F1(t){return Object.prototype.toString.call(t)==="[object Object]"}function RV(t){return new Promise(e=>{setTimeout(e,t)})}function PV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Lb(t,e):e}function OV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vv=Symbol(),CV=class extends jh{#e;#n;#t;constructor(){super(),this.#t=t=>{if(!$h&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Um=new CV,NV=class extends jh{#e=!0;#n;#t;constructor(){super(),this.#t=t=>{if(!$h&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Of=new NV;function xV(t){return Math.min(1e3*2**t,3e4)}function _v(t){return(t??"online")==="online"?Of.isOnline():!0}var Mb=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function Xd(t){return t instanceof Mb}function Fb(t){let e=!1,n=0,r=!1,i,o,s;const a=new Promise((_,m)=>{o=_,s=m}),l=_=>{r||(d(new Mb(_)),t.abort?.())},u=()=>{e=!0},c=()=>{e=!1},h=()=>!Um.isFocused()||t.networkMode!=="always"&&!Of.isOnline(),f=_=>{r||(r=!0,t.onSuccess?.(_),i?.(),o(_))},d=_=>{r||(r=!0,t.onError?.(_),i?.(),s(_))},E=()=>new Promise(_=>{i=m=>{const p=r||!h();return p&&_(m),p},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),y=()=>{if(r)return;let _;try{_=t.fn()}catch(m){_=Promise.reject(m)}Promise.resolve(_).then(f).catch(m=>{if(r)return;const p=t.retry??($h?0:3),v=t.retryDelay??xV,g=typeof v=="function"?v(n,m):v,w=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,m);if(e||!w){d(m);return}n++,t.onFail?.(n,m),RV(g).then(()=>{if(h())return E()}).then(()=>{e?d(m):y()})})};return _v(t.networkMode)?y():E().then(y),{promise:a,cancel:l,continue:()=>i?.()?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function DV(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const o=f=>{i=f},s=f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},a=f=>{e?t.push(f):i(()=>{n(f)})},l=f=>(...d)=>{a(()=>{f(...d)})},u=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(d=>{n(d)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:o}}var gn=DV(),Vb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IV(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($h?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},LV=class extends Vb{#e;#n;#t;#o;#r;#i;#l;#s;constructor(t){super(),this.#s=!1,this.#l=t.defaultOptions,this.#u(t.options),this.#i=[],this.#t=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=t.state||MV(this.options),this.state=this.#e,this.scheduleGc()}get meta(){return this.options.meta}#u(t){this.options={...this.#l,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.#i.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(t,e){const n=PV(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#o;return this.#r?.cancel(t),e?e.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.#i.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||this.state.data===void 0||this.#i.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bV(this.state.dataUpdatedAt,t)}onFocus(){this.#i.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.#i.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.#i.includes(t)||(this.#i.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.#i.includes(t)&&(this.#i=this.#i.filter(e=>e!==t),this.#i.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.#i.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#r?.continueRetry(),this.#o}if(t&&this.#u(t),!this.options.queryFn){const l=this.#i.find(u=>u.options.queryFn);l&&this.#u(l.options)}const n=new AbortController,r={queryKey:this.queryKey,meta:this.meta},i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})};i(r);const o=()=>!this.options.queryFn||this.options.queryFn===vv?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(this.#s=!1,this.options.persister?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r)),s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),this.options.behavior?.onFetch(s,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{Xd(l)&&l.silent||this.#a({type:"error",error:l}),Xd(l)||(this.#t.config.onError?.(l,this),this.#t.config.onSettled?.(this.state.data,l,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#r=Fb({fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(l),this.#t.config.onSuccess?.(l,this),this.#t.config.onSettled?.(l,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(l,u)=>{this.#a({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode}),this.#o=this.#r.promise,this.#o}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:_v(this.options.networkMode)?"fetching":"paused",...n.data===void 0&&{error:null,status:"pending"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Xd(r)&&r.revert&&this.#n?{...this.#n,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),gn.batch(()=>{this.#i.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:t})})}};function MV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var FV=class extends jh{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??yv(r,e);let o=this.get(i);return o||(o=new LV({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>D1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>D1(t,n)):e}notify(t){gn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},VV=class extends Vb{#e;#n;#t;#o;constructor(t){super(),this.mutationId=t.mutationId,this.#n=t.defaultOptions,this.#t=t.mutationCache,this.#e=[],this.state=t.state||jV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.#n,...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>(this.#o=Fb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#o.promise),n=this.state.status==="pending";try{if(!n){this.#r({type:"pending",variables:t}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t})}const r=await e();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!_v(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),gn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function jV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $V=class extends jh{constructor(t={}){super(),this.config=t,this.#e=[],this.#n=0}#e;#n;#t;build(t,e,n){const r=new VV({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.push(t),this.notify({type:"added",mutation:t})}remove(t){this.#e=this.#e.filter(e=>e!==t),this.notify({type:"removed",mutation:t})}clear(){gn.batch(()=>{this.#e.forEach(t=>{this.remove(t)})})}getAll(){return this.#e}find(t){const e={exact:!0,...t};return this.#e.find(n=>L1(e,n))}findAll(t={}){return this.#e.filter(e=>L1(t,e))}notify(t){gn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){return this.#t=(this.#t??Promise.resolve()).then(()=>{const t=this.#e.filter(e=>e.state.isPaused);return gn.batch(()=>t.reduce((e,n)=>e.then(()=>n.continue().catch(Zn)),Promise.resolve()))}).then(()=>{this.#t=void 0}),this.#t}};function UV(t){return{onFetch:(e,n)=>{const r=async()=>{const i=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],l={pages:[],pageParams:[]};let u=!1;const c=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=e.options.queryFn&&e.options.queryFn!==vv?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),f=async(E,y,_)=>{if(u)return Promise.reject();if(y==null&&E.pages.length)return Promise.resolve(E);const m={queryKey:e.queryKey,pageParam:y,direction:_?"backward":"forward",meta:e.options.meta};c(m);const p=await h(m),{maxPages:v}=e.options,g=_?kV:OV;return{pages:g(E.pages,p,v),pageParams:g(E.pageParams,y,v)}};let d;if(o&&s.length){const E=o==="backward",y=E?BV:V1,_={pages:s,pageParams:a},m=y(i,_);d=await f(_,m,E)}else{d=await f(l,a[0]??i.initialPageParam);const E=t??s.length;for(let y=1;y<E;y++){const _=V1(i,d);d=await f(d,_)}}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}}function V1(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function BV(t,{pages:e,pageParams:n}){return t.getPreviousPageParam?.(e[0],e,n[0],n)}var qV=class{#e;#n;#t;#o;#r;#i;#l;#s;constructor(t={}){this.#e=t.queryCache||new FV,this.#n=t.mutationCache||new $V,this.#t=t.defaultOptions||{},this.#o=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Um.subscribe(()=>{Um.isFocused()&&(this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Of.subscribe(t=>{t&&(this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=AV(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return gn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=gn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t={},e={}){return gn.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=gn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=UV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}resumePausedMutations(){return Of.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#o.set(Xl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Jl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#r.set(Xl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()];let n={};return e.forEach(r=>{Jl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},zV=X.createContext(void 0),HV=({client:t,children:e})=>(X.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),ee.jsx(zV.Provider,{value:t,children:e})),WV=function(){return null};const KV=new qV,GV=()=>{const t=hC();return ee.jsx(ee.Fragment,{children:ee.jsxs(HV,{client:KV,children:[ee.jsx("div",{id:kd.lnb,children:ee.jsx(SV,{})}),ee.jsx("div",{id:kd.content,className:t.state==="loading"?kd["is-loading"]:"",children:ee.jsx(ny,{})}),ee.jsx(WV,{})]})})},QV=async()=>Mi.getState().getUser()?z_("/"):await ho.authStateReady().then(()=>ho.currentUser?(console.log("auth 있음  >>  ",ho.currentUser),z_("/")):null).catch(t=>(console.log("err",t),null)),YV="_wrapper_1eqde_1",XV="_inputs_1eqde_14",j1={wrapper:YV,inputs:XV},JV=()=>{const{setUser:t}=Mi(),[e,n]=X.useState({id:"",pw:""}),r=o=>{const s=o.target.value;n(a=>({...a,[o.target.name]:s}))},i=o=>{o.preventDefault(),zD(ho,e.id,e.pw).then(s=>{t({name:s.user.email,token:"accessToken"in s.user?s.user.accessToken:""}),alert("로그인 되었습니다."),history.back()}).catch(s=>{s.code==="auth/invalid-credential"&&alert("유효하지않은 계정 정보입니다.")})};return ee.jsxs("div",{className:j1.wrapper,children:[ee.jsx("h1",{children:"Login"}),ee.jsx("form",{onSubmit:i,children:ee.jsxs("div",{className:j1.inputs,children:[ee.jsxs("span",{children:[ee.jsx("input",{type:"text",name:"id",value:e.id,onChange:o=>r(o)}),e.id?"":ee.jsx("span",{children:"이메일을 입력하세요"})]}),ee.jsxs("span",{children:[ee.jsx("input",{type:"password",name:"pw",value:e.pw,onChange:o=>r(o)}),e.pw?"":ee.jsx("span",{children:"비밀번호를 입력하세요"})]}),ee.jsx("button",{type:"submit",children:"LOGIN"})]})})]})},ZV=()=>ee.jsx(ee.Fragment,{children:ee.jsx(JV,{})});/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */const{entries:jb,setPrototypeOf:$1,isFrozen:e3,getPrototypeOf:t3,getOwnPropertyDescriptor:n3}=Object;let{freeze:En,seal:hr,create:$b}=Object,{apply:Bm,construct:qm}=typeof Reflect<"u"&&Reflect;En||(En=function(e){return e});hr||(hr=function(e){return e});Bm||(Bm=function(e,n,r){return e.apply(n,r)});qm||(qm=function(e,n){return new e(...n)});const ic=Fn(Array.prototype.forEach),U1=Fn(Array.prototype.pop),ka=Fn(Array.prototype.push),Cc=Fn(String.prototype.toLowerCase),Jd=Fn(String.prototype.toString),r3=Fn(String.prototype.match),Ca=Fn(String.prototype.replace),i3=Fn(String.prototype.indexOf),o3=Fn(String.prototype.trim),Xn=Fn(Object.prototype.hasOwnProperty),Pn=Fn(RegExp.prototype.test),Na=s3(TypeError);function Fn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Bm(t,e,r)}}function s3(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return qm(t,n)}}function je(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cc;$1&&$1(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(e3(e)||(e[r]=o),i=o)}t[i]=!0}return t}function a3(t){for(let e=0;e<t.length;e++)Xn(t,e)||(t[e]=null);return t}function Qi(t){const e=$b(null);for(const[n,r]of jb(t))Xn(t,n)&&(Array.isArray(r)?e[n]=a3(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Qi(r):e[n]=r);return e}function oc(t,e){for(;t!==null;){const r=n3(t,e);if(r){if(r.get)return Fn(r.get);if(typeof r.value=="function")return Fn(r.value)}t=t3(t)}function n(){return null}return n}const B1=En(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zd=En(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ep=En(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),l3=En(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),tp=En(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),u3=En(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q1=En(["#text"]),z1=En(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),np=En(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H1=En(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sc=En(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),c3=hr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),f3=hr(/<%[\w\W]*|[\w\W]*%>/gm),h3=hr(/\${[\w\W]*}/gm),d3=hr(/^data-[\-\w.\u00B7-\uFFFF]/),p3=hr(/^aria-[\-\w]+$/),Ub=hr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),m3=hr(/^(?:\w+script|data):/i),g3=hr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bb=hr(/^html$/i);var W1=Object.freeze({__proto__:null,MUSTACHE_EXPR:c3,ERB_EXPR:f3,TMPLIT_EXPR:h3,DATA_ATTR:d3,ARIA_ATTR:p3,IS_ALLOWED_URI:Ub,IS_SCRIPT_OR_DATA:m3,ATTR_WHITESPACE:g3,DOCTYPE_NAME:Bb});const y3=function(){return typeof window>"u"?null:window},v3=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function qb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y3();const e=pe=>qb(pe);if(e.version="3.0.9",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=t,E=l.prototype,y=oc(E,"cloneNode"),_=oc(E,"nextSibling"),m=oc(E,"childNodes"),p=oc(E,"parentNode");if(typeof s=="function"){const pe=n.createElement("template");pe.content&&pe.content.ownerDocument&&(n=pe.content.ownerDocument)}let v,g="";const{implementation:w,createNodeIterator:T,createDocumentFragment:S,getElementsByTagName:b}=n,{importNode:O}=r;let I={};e.isSupported=typeof jb=="function"&&typeof p=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:R,TMPLIT_EXPR:k,DATA_ATTR:x,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:j}=W1;let{IS_ALLOWED_URI:H}=W1,M=null;const D=je({},[...B1,...Zd,...ep,...tp,...q1]);let P=null;const N=je({},[...z1,...np,...H1,...sc]);let L=Object.seal($b(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,$=null,C=!0,V=!0,K=!1,W=!0,Z=!1,oe=!1,me=!1,Te=!1,Oe=!1,Ce=!1,Et=!1,ut=!0,Q=!1;const J="user-content-";let ae=!0,le=!1,ne={},Se=null;const we=je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ie=null;const Vt=je({},["audio","video","img","source","image","track"]);let jt=null;const Je=je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dn="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",wt="http://www.w3.org/1999/xhtml";let kr=wt,ca=!1,xo=null;const Do=je({},[dn,Ze,wt],Jd);let ri=null;const fa=["application/xhtml+xml","text/html"],ed="text/html";let Tt=null,ii=null;const Ou=n.createElement("form"),ku=function(B){return B instanceof RegExp||B instanceof Function},z=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ii&&ii===B)){if((!B||typeof B!="object")&&(B={}),B=Qi(B),ri=fa.indexOf(B.PARSER_MEDIA_TYPE)===-1?ed:B.PARSER_MEDIA_TYPE,Tt=ri==="application/xhtml+xml"?Jd:Cc,M=Xn(B,"ALLOWED_TAGS")?je({},B.ALLOWED_TAGS,Tt):D,P=Xn(B,"ALLOWED_ATTR")?je({},B.ALLOWED_ATTR,Tt):N,xo=Xn(B,"ALLOWED_NAMESPACES")?je({},B.ALLOWED_NAMESPACES,Jd):Do,jt=Xn(B,"ADD_URI_SAFE_ATTR")?je(Qi(Je),B.ADD_URI_SAFE_ATTR,Tt):Je,Ie=Xn(B,"ADD_DATA_URI_TAGS")?je(Qi(Vt),B.ADD_DATA_URI_TAGS,Tt):Vt,Se=Xn(B,"FORBID_CONTENTS")?je({},B.FORBID_CONTENTS,Tt):we,U=Xn(B,"FORBID_TAGS")?je({},B.FORBID_TAGS,Tt):{},$=Xn(B,"FORBID_ATTR")?je({},B.FORBID_ATTR,Tt):{},ne=Xn(B,"USE_PROFILES")?B.USE_PROFILES:!1,C=B.ALLOW_ARIA_ATTR!==!1,V=B.ALLOW_DATA_ATTR!==!1,K=B.ALLOW_UNKNOWN_PROTOCOLS||!1,W=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Z=B.SAFE_FOR_TEMPLATES||!1,oe=B.WHOLE_DOCUMENT||!1,Oe=B.RETURN_DOM||!1,Ce=B.RETURN_DOM_FRAGMENT||!1,Et=B.RETURN_TRUSTED_TYPE||!1,Te=B.FORCE_BODY||!1,ut=B.SANITIZE_DOM!==!1,Q=B.SANITIZE_NAMED_PROPS||!1,ae=B.KEEP_CONTENT!==!1,le=B.IN_PLACE||!1,H=B.ALLOWED_URI_REGEXP||Ub,kr=B.NAMESPACE||wt,L=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&ku(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&ku(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&(V=!1),Ce&&(Oe=!0),ne&&(M=je({},q1),P=[],ne.html===!0&&(je(M,B1),je(P,z1)),ne.svg===!0&&(je(M,Zd),je(P,np),je(P,sc)),ne.svgFilters===!0&&(je(M,ep),je(P,np),je(P,sc)),ne.mathMl===!0&&(je(M,tp),je(P,H1),je(P,sc))),B.ADD_TAGS&&(M===D&&(M=Qi(M)),je(M,B.ADD_TAGS,Tt)),B.ADD_ATTR&&(P===N&&(P=Qi(P)),je(P,B.ADD_ATTR,Tt)),B.ADD_URI_SAFE_ATTR&&je(jt,B.ADD_URI_SAFE_ATTR,Tt),B.FORBID_CONTENTS&&(Se===we&&(Se=Qi(Se)),je(Se,B.FORBID_CONTENTS,Tt)),ae&&(M["#text"]=!0),oe&&je(M,["html","head","body"]),M.table&&(je(M,["tbody"]),delete U.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw Na('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Na('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=B.TRUSTED_TYPES_POLICY,g=v.createHTML("")}else v===void 0&&(v=v3(d,i)),v!==null&&typeof g=="string"&&(g=v.createHTML(""));En&&En(B),ii=B}},G=je({},["mi","mo","mn","ms","mtext"]),Y=je({},["foreignobject","desc","title","annotation-xml"]),ue=je({},["title","style","font","a","script"]),ye=je({},[...Zd,...ep,...l3]),Le=je({},[...tp,...u3]),Ae=function(B){let se=p(B);(!se||!se.tagName)&&(se={namespaceURI:kr,tagName:"template"});const ge=Cc(B.tagName),Ke=Cc(se.tagName);return xo[B.namespaceURI]?B.namespaceURI===Ze?se.namespaceURI===wt?ge==="svg":se.namespaceURI===dn?ge==="svg"&&(Ke==="annotation-xml"||G[Ke]):!!ye[ge]:B.namespaceURI===dn?se.namespaceURI===wt?ge==="math":se.namespaceURI===Ze?ge==="math"&&Y[Ke]:!!Le[ge]:B.namespaceURI===wt?se.namespaceURI===Ze&&!Y[Ke]||se.namespaceURI===dn&&!G[Ke]?!1:!Le[ge]&&(ue[ge]||!ye[ge]):!!(ri==="application/xhtml+xml"&&xo[B.namespaceURI]):!1},_e=function(B){ka(e.removed,{element:B});try{B.parentNode.removeChild(B)}catch{B.remove()}},ve=function(B,se){try{ka(e.removed,{attribute:se.getAttributeNode(B),from:se})}catch{ka(e.removed,{attribute:null,from:se})}if(se.removeAttribute(B),B==="is"&&!P[B])if(Oe||Ce)try{_e(se)}catch{}else try{se.setAttribute(B,"")}catch{}},Ve=function(B){let se=null,ge=null;if(Te)B="<remove></remove>"+B;else{const It=r3(B,/^[\r\n\t ]+/);ge=It&&It[0]}ri==="application/xhtml+xml"&&kr===wt&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const Ke=v?v.createHTML(B):B;if(kr===wt)try{se=new f().parseFromString(Ke,ri)}catch{}if(!se||!se.documentElement){se=w.createDocument(kr,"template",null);try{se.documentElement.innerHTML=ca?g:Ke}catch{}}const ft=se.body||se.documentElement;return B&&ge&&ft.insertBefore(n.createTextNode(ge),ft.childNodes[0]||null),kr===wt?b.call(se,oe?"html":"body")[0]:oe?se.documentElement:ft},St=function(B){return T.call(B.ownerDocument||B,B,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},Ne=function(B){return B instanceof h&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof c)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},Qe=function(B){return typeof a=="function"&&B instanceof a},et=function(B,se,ge){I[B]&&ic(I[B],Ke=>{Ke.call(e,se,ge,ii)})},pn=function(B){let se=null;if(et("beforeSanitizeElements",B,null),Ne(B))return _e(B),!0;const ge=Tt(B.nodeName);if(et("uponSanitizeElement",B,{tagName:ge,allowedTags:M}),B.hasChildNodes()&&!Qe(B.firstElementChild)&&Pn(/<[/\w]/g,B.innerHTML)&&Pn(/<[/\w]/g,B.textContent))return _e(B),!0;if(!M[ge]||U[ge]){if(!U[ge]&&Cr(ge)&&(L.tagNameCheck instanceof RegExp&&Pn(L.tagNameCheck,ge)||L.tagNameCheck instanceof Function&&L.tagNameCheck(ge)))return!1;if(ae&&!Se[ge]){const Ke=p(B)||B.parentNode,ft=m(B)||B.childNodes;if(ft&&Ke){const It=ft.length;for(let xe=It-1;xe>=0;--xe)Ke.insertBefore(y(ft[xe],!0),_(B))}}return _e(B),!0}return B instanceof l&&!Ae(B)||(ge==="noscript"||ge==="noembed"||ge==="noframes")&&Pn(/<\/no(script|embed|frames)/i,B.innerHTML)?(_e(B),!0):(Z&&B.nodeType===3&&(se=B.textContent,ic([A,R,k],Ke=>{se=Ca(se,Ke," ")}),B.textContent!==se&&(ka(e.removed,{element:B.cloneNode()}),B.textContent=se)),et("afterSanitizeElements",B,null),!1)},At=function(B,se,ge){if(ut&&(se==="id"||se==="name")&&(ge in n||ge in Ou))return!1;if(!(V&&!$[se]&&Pn(x,se))){if(!(C&&Pn(F,se))){if(!P[se]||$[se]){if(!(Cr(B)&&(L.tagNameCheck instanceof RegExp&&Pn(L.tagNameCheck,B)||L.tagNameCheck instanceof Function&&L.tagNameCheck(B))&&(L.attributeNameCheck instanceof RegExp&&Pn(L.attributeNameCheck,se)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(se))||se==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&Pn(L.tagNameCheck,ge)||L.tagNameCheck instanceof Function&&L.tagNameCheck(ge))))return!1}else if(!jt[se]){if(!Pn(H,Ca(ge,j,""))){if(!((se==="src"||se==="xlink:href"||se==="href")&&B!=="script"&&i3(ge,"data:")===0&&Ie[B])){if(!(K&&!Pn(q,Ca(ge,j,"")))){if(ge)return!1}}}}}}return!0},Cr=function(B){return B!=="annotation-xml"&&B.indexOf("-")>0},Lo=function(B){et("beforeSanitizeAttributes",B,null);const{attributes:se}=B;if(!se)return;const ge={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P};let Ke=se.length;for(;Ke--;){const ft=se[Ke],{name:It,namespaceURI:xe,value:He}=ft,en=Tt(It);let Dt=It==="value"?He:o3(He);if(ge.attrName=en,ge.attrValue=Dt,ge.keepAttr=!0,ge.forceKeepAttr=void 0,et("uponSanitizeAttribute",B,ge),Dt=ge.attrValue,ge.forceKeepAttr||(ve(It,B),!ge.keepAttr))continue;if(!W&&Pn(/\/>/i,Dt)){ve(It,B);continue}Z&&ic([A,R,k],Cv=>{Dt=Ca(Dt,Cv," ")});const Cu=Tt(B.nodeName);if(At(Cu,en,Dt)){if(Q&&(en==="id"||en==="name")&&(ve(It,B),Dt=J+Dt),v&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!xe)switch(d.getAttributeType(Cu,en)){case"TrustedHTML":{Dt=v.createHTML(Dt);break}case"TrustedScriptURL":{Dt=v.createScriptURL(Dt);break}}try{xe?B.setAttributeNS(xe,It,Dt):B.setAttribute(It,Dt),U1(e.removed)}catch{}}}et("afterSanitizeAttributes",B,null)},oi=function pe(B){let se=null;const ge=St(B);for(et("beforeSanitizeShadowDOM",B,null);se=ge.nextNode();)et("uponSanitizeShadowNode",se,null),!pn(se)&&(se.content instanceof o&&pe(se.content),Lo(se));et("afterSanitizeShadowDOM",B,null)};return e.sanitize=function(pe){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=null,ge=null,Ke=null,ft=null;if(ca=!pe,ca&&(pe="<!-->"),typeof pe!="string"&&!Qe(pe))if(typeof pe.toString=="function"){if(pe=pe.toString(),typeof pe!="string")throw Na("dirty is not a string, aborting")}else throw Na("toString is not a function");if(!e.isSupported)return pe;if(me||z(B),e.removed=[],typeof pe=="string"&&(le=!1),le){if(pe.nodeName){const He=Tt(pe.nodeName);if(!M[He]||U[He])throw Na("root node is forbidden and cannot be sanitized in-place")}}else if(pe instanceof a)se=Ve("<!---->"),ge=se.ownerDocument.importNode(pe,!0),ge.nodeType===1&&ge.nodeName==="BODY"||ge.nodeName==="HTML"?se=ge:se.appendChild(ge);else{if(!Oe&&!Z&&!oe&&pe.indexOf("<")===-1)return v&&Et?v.createHTML(pe):pe;if(se=Ve(pe),!se)return Oe?null:Et?g:""}se&&Te&&_e(se.firstChild);const It=St(le?pe:se);for(;Ke=It.nextNode();)pn(Ke)||(Ke.content instanceof o&&oi(Ke.content),Lo(Ke));if(le)return pe;if(Oe){if(Ce)for(ft=S.call(se.ownerDocument);se.firstChild;)ft.appendChild(se.firstChild);else ft=se;return(P.shadowroot||P.shadowrootmode)&&(ft=O.call(r,ft,!0)),ft}let xe=oe?se.outerHTML:se.innerHTML;return oe&&M["!doctype"]&&se.ownerDocument&&se.ownerDocument.doctype&&se.ownerDocument.doctype.name&&Pn(Bb,se.ownerDocument.doctype.name)&&(xe="<!DOCTYPE "+se.ownerDocument.doctype.name+`>
`+xe),Z&&ic([A,R,k],He=>{xe=Ca(xe,He," ")}),v&&Et?v.createHTML(xe):xe},e.setConfig=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};z(pe),me=!0},e.clearConfig=function(){ii=null,me=!1},e.isValidAttribute=function(pe,B,se){ii||z({});const ge=Tt(pe),Ke=Tt(B);return At(ge,Ke,se)},e.addHook=function(pe,B){typeof B=="function"&&(I[pe]=I[pe]||[],ka(I[pe],B))},e.removeHook=function(pe){if(I[pe])return U1(I[pe])},e.removeHooks=function(pe){I[pe]&&(I[pe]=[])},e.removeAllHooks=function(){I={}},e}var zb=qb();const _3=Object.freeze(Object.defineProperty({__proto__:null,default:zb},Symbol.toStringTag,{value:"Module"})),K1=FR(_3);var E3=window.DOMPurify||(window.DOMPurify=K1.default||K1);const w3=eu(E3),T3=t=>new Promise(e=>{setTimeout(e,t)}),Hb=t=>new Date(t.toMillis()).toLocaleDateString(),S3=async()=>{try{const t=uV(_b(gv,"story"),cV("date","desc")),e=await gV(t),n=[];return e.forEach(r=>{const i=r.data().content,s=/<img[^>]+src=["']([^"']+)["']/.exec(i),a=s&&s[1],l=i?.replace(/<img\b[^>]*>/gi,"");n.push({...r.data(),seq:r.id,imgPath:a,textContent:l})}),n}catch(t){return console.error("Error fetching documents:",t),t}},A3=async t=>{try{return await yV(_b(gv,"story"),t)}catch(e){return console.error("Error Regist Story",e),e}},Wb=async t=>{try{const e=Eb(gv,"story",t);return(await mV(e)).data()}catch(e){return console.error("Error fetching documents:",e),e}},I3=()=>{const[t,e]=X.useState(!0),[n,r]=X.useState([]);return X.useEffect(()=>{(async()=>{const i=await S3();console.log(i),r(i),e(!1)})()},[]),ee.jsxs("div",{className:`wrapper ${t?"is-loading":""}`,children:[ee.jsx("div",{className:"brdList",children:n.map((i,o)=>ee.jsxs("div",{className:"card",children:[i.imgPath?ee.jsx("div",{className:"imgWrap",children:ee.jsx("img",{src:i.imgPath})}):"",ee.jsx("div",{className:"date",children:Hb(i.date)}),ee.jsx("div",{className:"title",children:i.title}),ee.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:w3.sanitize(i?.textContent?.slice(0,400)||i.content)}}),ee.jsx(Tc,{to:{pathname:"../View",search:`?seq=${i.seq}`},className:"link"}),ee.jsx(Tc,{to:{pathname:"../Regist",search:`?seq=${i.seq}`},className:"btnEdit",title:"수정",children:ee.jsx("span",{className:"material-icons",children:"edit_note"})})]},o))}),ee.jsx(Tc,{className:"btnAdd",to:"/story/regist",children:"글쓰기"})]})},b3=()=>{const e=new URLSearchParams(window.location.search).get("seq"),[n,r]=X.useState();return X.useEffect(()=>{e&&(async()=>{const i=await Wb(e);r(i)})()},[]),ee.jsx("div",{className:"storyRegist",children:n?ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{children:n.title}),ee.jsx("div",{children:Hb(n.date)}),ee.jsx("div",{className:"ql-editor",children:ee.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:zb.sanitize(n.content)}})})]}):ee.jsx(ee.Fragment,{children:ee.jsx("div",{children:"Loading..."})})})};function R3(){this.__data__=[],this.size=0}var P3=R3;function O3(t,e){return t===e||t!==t&&e!==e}var Kb=O3,k3=Kb;function C3(t,e){for(var n=t.length;n--;)if(k3(t[n][0],e))return n;return-1}var Uh=C3,N3=Uh,x3=Array.prototype,D3=x3.splice;function L3(t){var e=this.__data__,n=N3(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():D3.call(e,n,1),--this.size,!0}var M3=L3,F3=Uh;function V3(t){var e=this.__data__,n=F3(e,t);return n<0?void 0:e[n][1]}var j3=V3,$3=Uh;function U3(t){return $3(this.__data__,t)>-1}var B3=U3,q3=Uh;function z3(t,e){var n=this.__data__,r=q3(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var H3=z3,W3=P3,K3=M3,G3=j3,Q3=B3,Y3=H3;function ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ra.prototype.clear=W3;ra.prototype.delete=K3;ra.prototype.get=G3;ra.prototype.has=Q3;ra.prototype.set=Y3;var Bh=ra,X3=Bh;function J3(){this.__data__=new X3,this.size=0}var Z3=J3;function e5(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var t5=e5;function n5(t){return this.__data__.get(t)}var r5=n5;function i5(t){return this.__data__.has(t)}var o5=i5,s5=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,Gb=s5,a5=Gb,l5=typeof self=="object"&&self&&self.Object===Object&&self,u5=a5||l5||Function("return this")(),ni=u5,c5=ni,f5=c5.Symbol,Ev=f5,G1=Ev,Qb=Object.prototype,h5=Qb.hasOwnProperty,d5=Qb.toString,xa=G1?G1.toStringTag:void 0;function p5(t){var e=h5.call(t,xa),n=t[xa];try{t[xa]=void 0;var r=!0}catch{}var i=d5.call(t);return r&&(e?t[xa]=n:delete t[xa]),i}var m5=p5,g5=Object.prototype,y5=g5.toString;function v5(t){return y5.call(t)}var _5=v5,Q1=Ev,E5=m5,w5=_5,T5="[object Null]",S5="[object Undefined]",Y1=Q1?Q1.toStringTag:void 0;function A5(t){return t==null?t===void 0?S5:T5:Y1&&Y1 in Object(t)?E5(t):w5(t)}var qh=A5;function I5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yb=I5,b5=qh,R5=Yb,P5="[object AsyncFunction]",O5="[object Function]",k5="[object GeneratorFunction]",C5="[object Proxy]";function N5(t){if(!R5(t))return!1;var e=b5(t);return e==O5||e==k5||e==P5||e==C5}var Xb=N5,x5=ni,D5=x5["__core-js_shared__"],L5=D5,rp=L5,X1=function(){var t=/[^.]+$/.exec(rp&&rp.keys&&rp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function M5(t){return!!X1&&X1 in t}var F5=M5,V5=Function.prototype,j5=V5.toString;function $5(t){if(t!=null){try{return j5.call(t)}catch{}try{return t+""}catch{}}return""}var Jb=$5,U5=Xb,B5=F5,q5=Yb,z5=Jb,H5=/[\\^$.*+?()[\]{}|]/g,W5=/^\[object .+?Constructor\]$/,K5=Function.prototype,G5=Object.prototype,Q5=K5.toString,Y5=G5.hasOwnProperty,X5=RegExp("^"+Q5.call(Y5).replace(H5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J5(t){if(!q5(t)||B5(t))return!1;var e=U5(t)?X5:W5;return e.test(z5(t))}var Z5=J5;function ej(t,e){return t?.[e]}var tj=ej,nj=Z5,rj=tj;function ij(t,e){var n=rj(t,e);return nj(n)?n:void 0}var ia=ij,oj=ia,sj=ni,aj=oj(sj,"Map"),wv=aj,lj=ia,uj=lj(Object,"create"),zh=uj,J1=zh;function cj(){this.__data__=J1?J1(null):{},this.size=0}var fj=cj;function hj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dj=hj,pj=zh,mj="__lodash_hash_undefined__",gj=Object.prototype,yj=gj.hasOwnProperty;function vj(t){var e=this.__data__;if(pj){var n=e[t];return n===mj?void 0:n}return yj.call(e,t)?e[t]:void 0}var _j=vj,Ej=zh,wj=Object.prototype,Tj=wj.hasOwnProperty;function Sj(t){var e=this.__data__;return Ej?e[t]!==void 0:Tj.call(e,t)}var Aj=Sj,Ij=zh,bj="__lodash_hash_undefined__";function Rj(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ij&&e===void 0?bj:e,this}var Pj=Rj,Oj=fj,kj=dj,Cj=_j,Nj=Aj,xj=Pj;function oa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}oa.prototype.clear=Oj;oa.prototype.delete=kj;oa.prototype.get=Cj;oa.prototype.has=Nj;oa.prototype.set=xj;var Dj=oa,Z1=Dj,Lj=Bh,Mj=wv;function Fj(){this.size=0,this.__data__={hash:new Z1,map:new(Mj||Lj),string:new Z1}}var Vj=Fj;function jj(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $j=jj,Uj=$j;function Bj(t,e){var n=t.__data__;return Uj(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hh=Bj,qj=Hh;function zj(t){var e=qj(this,t).delete(t);return this.size-=e?1:0,e}var Hj=zj,Wj=Hh;function Kj(t){return Wj(this,t).get(t)}var Gj=Kj,Qj=Hh;function Yj(t){return Qj(this,t).has(t)}var Xj=Yj,Jj=Hh;function Zj(t,e){var n=Jj(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var e$=Zj,t$=Vj,n$=Hj,r$=Gj,i$=Xj,o$=e$;function sa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sa.prototype.clear=t$;sa.prototype.delete=n$;sa.prototype.get=r$;sa.prototype.has=i$;sa.prototype.set=o$;var Zb=sa,s$=Bh,a$=wv,l$=Zb,u$=200;function c$(t,e){var n=this.__data__;if(n instanceof s$){var r=n.__data__;if(!a$||r.length<u$-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new l$(r)}return n.set(t,e),this.size=n.size,this}var f$=c$,h$=Bh,d$=Z3,p$=t5,m$=r5,g$=o5,y$=f$;function aa(t){var e=this.__data__=new h$(t);this.size=e.size}aa.prototype.clear=d$;aa.prototype.delete=p$;aa.prototype.get=m$;aa.prototype.has=g$;aa.prototype.set=y$;var v$=aa,_$="__lodash_hash_undefined__";function E$(t){return this.__data__.set(t,_$),this}var w$=E$;function T$(t){return this.__data__.has(t)}var S$=T$,A$=Zb,I$=w$,b$=S$;function kf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new A$;++e<n;)this.add(t[e])}kf.prototype.add=kf.prototype.push=I$;kf.prototype.has=b$;var R$=kf;function P$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var O$=P$;function k$(t,e){return t.has(e)}var C$=k$,N$=R$,x$=O$,D$=C$,L$=1,M$=2;function F$(t,e,n,r,i,o){var s=n&L$,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,d=n&M$?new N$:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var E=t[h],y=e[h];if(r)var _=s?r(y,E,h,e,t,o):r(E,y,h,t,e,o);if(_!==void 0){if(_)continue;f=!1;break}if(d){if(!x$(e,function(m,p){if(!D$(d,p)&&(E===m||i(E,m,n,r,o)))return d.push(p)})){f=!1;break}}else if(!(E===y||i(E,y,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var eR=F$,V$=ni,j$=V$.Uint8Array,$$=j$;function U$(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var B$=U$;function q$(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var z$=q$,eE=Ev,tE=$$,H$=Kb,W$=eR,K$=B$,G$=z$,Q$=1,Y$=2,X$="[object Boolean]",J$="[object Date]",Z$="[object Error]",eU="[object Map]",tU="[object Number]",nU="[object RegExp]",rU="[object Set]",iU="[object String]",oU="[object Symbol]",sU="[object ArrayBuffer]",aU="[object DataView]",nE=eE?eE.prototype:void 0,ip=nE?nE.valueOf:void 0;function lU(t,e,n,r,i,o,s){switch(n){case aU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sU:return!(t.byteLength!=e.byteLength||!o(new tE(t),new tE(e)));case X$:case J$:case tU:return H$(+t,+e);case Z$:return t.name==e.name&&t.message==e.message;case nU:case iU:return t==e+"";case eU:var a=K$;case rU:var l=r&Q$;if(a||(a=G$),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Y$,s.set(t,e);var c=W$(a(t),a(e),r,i,o,s);return s.delete(t),c;case oU:if(ip)return ip.call(t)==ip.call(e)}return!1}var uU=lU;function cU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fU=cU,hU=Array.isArray,Tv=hU,dU=fU,pU=Tv;function mU(t,e,n){var r=e(t);return pU(t)?r:dU(r,n(t))}var gU=mU;function yU(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var vU=yU;function _U(){return[]}var EU=_U,wU=vU,TU=EU,SU=Object.prototype,AU=SU.propertyIsEnumerable,rE=Object.getOwnPropertySymbols,IU=rE?function(t){return t==null?[]:(t=Object(t),wU(rE(t),function(e){return AU.call(t,e)}))}:TU,bU=IU;function RU(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var PU=RU;function OU(t){return t!=null&&typeof t=="object"}var Wh=OU,kU=qh,CU=Wh,NU="[object Arguments]";function xU(t){return CU(t)&&kU(t)==NU}var DU=xU,iE=DU,LU=Wh,tR=Object.prototype,MU=tR.hasOwnProperty,FU=tR.propertyIsEnumerable,VU=iE(function(){return arguments}())?iE:function(t){return LU(t)&&MU.call(t,"callee")&&!FU.call(t,"callee")},jU=VU,Cf={exports:{}};function $U(){return!1}var UU=$U;Cf.exports;(function(t,e){var n=ni,r=UU,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Cf,Cf.exports);var nR=Cf.exports,BU=9007199254740991,qU=/^(?:0|[1-9]\d*)$/;function zU(t,e){var n=typeof t;return e=e??BU,!!e&&(n=="number"||n!="symbol"&&qU.test(t))&&t>-1&&t%1==0&&t<e}var HU=zU,WU=9007199254740991;function KU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WU}var rR=KU,GU=qh,QU=rR,YU=Wh,XU="[object Arguments]",JU="[object Array]",ZU="[object Boolean]",e9="[object Date]",t9="[object Error]",n9="[object Function]",r9="[object Map]",i9="[object Number]",o9="[object Object]",s9="[object RegExp]",a9="[object Set]",l9="[object String]",u9="[object WeakMap]",c9="[object ArrayBuffer]",f9="[object DataView]",h9="[object Float32Array]",d9="[object Float64Array]",p9="[object Int8Array]",m9="[object Int16Array]",g9="[object Int32Array]",y9="[object Uint8Array]",v9="[object Uint8ClampedArray]",_9="[object Uint16Array]",E9="[object Uint32Array]",ot={};ot[h9]=ot[d9]=ot[p9]=ot[m9]=ot[g9]=ot[y9]=ot[v9]=ot[_9]=ot[E9]=!0;ot[XU]=ot[JU]=ot[c9]=ot[ZU]=ot[f9]=ot[e9]=ot[t9]=ot[n9]=ot[r9]=ot[i9]=ot[o9]=ot[s9]=ot[a9]=ot[l9]=ot[u9]=!1;function w9(t){return YU(t)&&QU(t.length)&&!!ot[GU(t)]}var T9=w9;function S9(t){return function(e){return t(e)}}var A9=S9,Nf={exports:{}};Nf.exports;(function(t,e){var n=Gb,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Nf,Nf.exports);var I9=Nf.exports,b9=T9,R9=A9,oE=I9,sE=oE&&oE.isTypedArray,P9=sE?R9(sE):b9,iR=P9,O9=PU,k9=jU,C9=Tv,N9=nR,x9=HU,D9=iR,L9=Object.prototype,M9=L9.hasOwnProperty;function F9(t,e){var n=C9(t),r=!n&&k9(t),i=!n&&!r&&N9(t),o=!n&&!r&&!i&&D9(t),s=n||r||i||o,a=s?O9(t.length,String):[],l=a.length;for(var u in t)(e||M9.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||x9(u,l)))&&a.push(u);return a}var V9=F9,j9=Object.prototype;function $9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||j9;return t===n}var U9=$9;function B9(t,e){return function(n){return t(e(n))}}var q9=B9,z9=q9,H9=z9(Object.keys,Object),W9=H9,K9=U9,G9=W9,Q9=Object.prototype,Y9=Q9.hasOwnProperty;function X9(t){if(!K9(t))return G9(t);var e=[];for(var n in Object(t))Y9.call(t,n)&&n!="constructor"&&e.push(n);return e}var J9=X9,Z9=Xb,e6=rR;function t6(t){return t!=null&&e6(t.length)&&!Z9(t)}var n6=t6,r6=V9,i6=J9,o6=n6;function s6(t){return o6(t)?r6(t):i6(t)}var a6=s6,l6=gU,u6=bU,c6=a6;function f6(t){return l6(t,c6,u6)}var h6=f6,aE=h6,d6=1,p6=Object.prototype,m6=p6.hasOwnProperty;function g6(t,e,n,r,i,o){var s=n&d6,a=aE(t),l=a.length,u=aE(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:m6.call(e,f)))return!1}var d=o.get(t),E=o.get(e);if(d&&E)return d==e&&E==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=s;++h<l;){f=a[h];var m=t[f],p=e[f];if(r)var v=s?r(p,m,f,e,t,o):r(m,p,f,t,e,o);if(!(v===void 0?m===p||i(m,p,n,r,o):v)){y=!1;break}_||(_=f=="constructor")}if(y&&!_){var g=t.constructor,w=e.constructor;g!=w&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof w=="function"&&w instanceof w)&&(y=!1)}return o.delete(t),o.delete(e),y}var y6=g6,v6=ia,_6=ni,E6=v6(_6,"DataView"),w6=E6,T6=ia,S6=ni,A6=T6(S6,"Promise"),I6=A6,b6=ia,R6=ni,P6=b6(R6,"Set"),O6=P6,k6=ia,C6=ni,N6=k6(C6,"WeakMap"),x6=N6,zm=w6,Hm=wv,Wm=I6,Km=O6,Gm=x6,oR=qh,la=Jb,lE="[object Map]",D6="[object Object]",uE="[object Promise]",cE="[object Set]",fE="[object WeakMap]",hE="[object DataView]",L6=la(zm),M6=la(Hm),F6=la(Wm),V6=la(Km),j6=la(Gm),Yi=oR;(zm&&Yi(new zm(new ArrayBuffer(1)))!=hE||Hm&&Yi(new Hm)!=lE||Wm&&Yi(Wm.resolve())!=uE||Km&&Yi(new Km)!=cE||Gm&&Yi(new Gm)!=fE)&&(Yi=function(t){var e=oR(t),n=e==D6?t.constructor:void 0,r=n?la(n):"";if(r)switch(r){case L6:return hE;case M6:return lE;case F6:return uE;case V6:return cE;case j6:return fE}return e});var $6=Yi,op=v$,U6=eR,B6=uU,q6=y6,dE=$6,pE=Tv,mE=nR,z6=iR,H6=1,gE="[object Arguments]",yE="[object Array]",ac="[object Object]",W6=Object.prototype,vE=W6.hasOwnProperty;function K6(t,e,n,r,i,o){var s=pE(t),a=pE(e),l=s?yE:dE(t),u=a?yE:dE(e);l=l==gE?ac:l,u=u==gE?ac:u;var c=l==ac,h=u==ac,f=l==u;if(f&&mE(t)){if(!mE(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new op),s||z6(t)?U6(t,e,n,r,i,o):B6(t,e,l,n,r,i,o);if(!(n&H6)){var d=c&&vE.call(t,"__wrapped__"),E=h&&vE.call(e,"__wrapped__");if(d||E){var y=d?t.value():t,_=E?e.value():e;return o||(o=new op),i(y,_,n,r,o)}}return f?(o||(o=new op),q6(t,e,n,r,i,o)):!1}var G6=K6,Q6=G6,_E=Wh;function sR(t,e,n,r,i){return t===e?!0:t==null||e==null||!_E(t)&&!_E(e)?t!==t&&e!==e:Q6(t,e,n,r,sR,i)}var Y6=sR,X6=Y6;function J6(t,e){return X6(t,e)}var Z6=J6,aR={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Cn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),h=i(48),f=i(49),d=i(12),E=i(32),y=i(33),_=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:d.default,Class:E.default,Style:y.default,Store:_.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var v in p)p.hasOwnProperty(v)&&(m[v]=p[v])};return function(m,p){_(m,p);function v(){this.constructor=m}m.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(m,_);function m(p){var v=this;return p="[Parchment] "+p,v=_.call(this,p)||this,v.message=p,v.name=v.constructor.name,v}return m}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var h;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(_,m){var p=E(_);if(p==null)throw new s("Unable to create "+_+" blot");var v=p,g=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:v.create(m);return new v(g,m)}r.create=f;function d(_,m){return m===void 0&&(m=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:m?d(_.parentNode,m):null}r.find=d;function E(_,m){m===void 0&&(m=h.ANY);var p;if(typeof _=="string")p=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)p=c.text;else if(typeof _=="number")_&h.LEVEL&h.BLOCK?p=c.block:_&h.LEVEL&h.INLINE&&(p=c.inline);else if(_ instanceof HTMLElement){var v=(_.getAttribute("class")||"").split(/\s+/);for(var g in v)if(p=l[v[g]],p)break;p=p||u[_.tagName]}return p==null?null:m&h.LEVEL&p.scope&&m&h.TYPE&p.scope?p:null}r.query=E;function y(){for(var _=[],m=0;m<arguments.length;m++)_[m]=arguments[m];if(_.length>1)return _.map(function(g){return y(g)});var p=_[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(c[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(g){return g.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var v=Array.isArray(p.tagName)?p.tagName:[p.tagName];v.forEach(function(g){(u[g]==null||p.className==null)&&(u[g]=p)})}return p}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,f){var d={};return h.length===0?this:(d.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,f){if(h<=0)return this;var d={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d)},c.prototype.push=function(h){var f=this.ops.length,d=this.ops[f-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[f-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(f-=1,d=this.ops[f-1],typeof d!="object"))return this.ops.unshift(h),this;if(s(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[f-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[f-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var f=[],d=[];return this.forEach(function(E){var y=h(E)?f:d;y.push(E)}),[f,d]},c.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},c.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},c.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var d=[],E=l.iterator(this.ops),y=0;y<f&&E.hasNext();){var _;y<h?_=E.next(h-y):(_=E.next(f-y),d.push(_)),y+=l.length(_)}return new c(d)},c.prototype.compose=function(h){var f=l.iterator(this.ops),d=l.iterator(h.ops),E=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var _=y.retain;f.peekType()==="insert"&&f.peekLength()<=_;)_-=f.peekLength(),E.push(f.next());y.retain-_>0&&d.next(y.retain-_)}for(var m=new c(E);f.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(f.peekType()==="delete")m.push(f.next());else{var p=Math.min(f.peekLength(),d.peekLength()),v=f.next(p),g=d.next(p);if(typeof g.retain=="number"){var w={};typeof v.retain=="number"?w.retain=p:w.insert=v.insert;var T=l.attributes.compose(v.attributes,g.attributes,typeof v.retain=="number");if(T&&(w.attributes=T),m.push(w),!d.hasNext()&&s(m.ops[m.ops.length-1],w)){var S=new c(f.rest());return m.concat(S).chop()}}else typeof g.delete=="number"&&typeof v.retain=="number"&&m.push(g)}return m.chop()},c.prototype.concat=function(h){var f=new c(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},c.prototype.diff=function(h,f){if(this.ops===h.ops)return new c;var d=[this,h].map(function(p){return p.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var g=p===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),E=new c,y=o(d[0],d[1],f),_=l.iterator(this.ops),m=l.iterator(h.ops);return y.forEach(function(p){for(var v=p[1].length;v>0;){var g=0;switch(p[0]){case o.INSERT:g=Math.min(m.peekLength(),v),E.push(m.next(g));break;case o.DELETE:g=Math.min(v,_.peekLength()),_.next(g),E.delete(g);break;case o.EQUAL:g=Math.min(_.peekLength(),m.peekLength(),v);var w=_.next(g),T=m.next(g);s(w.insert,T.insert)?E.retain(g,l.attributes.diff(w.attributes,T.attributes)):E.push(T).delete(g);break}v-=g}}),E.chop()},c.prototype.eachLine=function(h,f){f=f||`
`;for(var d=l.iterator(this.ops),E=new c,y=0;d.hasNext();){if(d.peekType()!=="insert")return;var _=d.peek(),m=l.length(_)-d.peekLength(),p=typeof _.insert=="string"?_.insert.indexOf(f,m)-m:-1;if(p<0)E.push(d.next());else if(p>0)E.push(d.next(p));else{if(h(E,d.next(1).attributes||{},y)===!1)return;y+=1,E=new c}}E.length()>0&&h(E,{},y)},c.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var d=l.iterator(this.ops),E=l.iterator(h.ops),y=new c;d.hasNext()||E.hasNext();)if(d.peekType()==="insert"&&(f||E.peekType()!=="insert"))y.retain(l.length(d.next()));else if(E.peekType()==="insert")y.push(E.next());else{var _=Math.min(d.peekLength(),E.peekLength()),m=d.next(_),p=E.next(_);if(m.delete)continue;p.delete?y.push(p):y.retain(_,l.attributes.transform(m.attributes,p.attributes,f))}return y.chop()},c.prototype.transformPosition=function(h,f){f=!!f;for(var d=l.iterator(this.ops),E=0;d.hasNext()&&E<=h;){var y=d.peekLength(),_=d.peekType();if(d.next(),_==="delete"){h-=Math.min(y,h-E);continue}else _==="insert"&&(E<h||!f)&&(h+=y);E+=y}return h},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var E=i.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!E&&!y)return!1;var _;for(_ in d);return typeof _>"u"||i.call(d,_)},c=function(d,E){s&&E.name==="__proto__"?s(d,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):d[E.name]=E.newValue},h=function(d,E){if(E==="__proto__")if(i.call(d,E)){if(a)return a(d,E).value}else return;return d[E]};n.exports=function f(){var d,E,y,_,m,p,v=arguments[0],g=1,w=arguments.length,T=!1;for(typeof v=="boolean"&&(T=v,v=arguments[1]||{},g=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});g<w;++g)if(d=arguments[g],d!=null)for(E in d)y=h(v,E),_=h(d,E),v!==_&&(T&&_&&(u(_)||(m=l(_)))?(m?(m=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},c(v,{name:E,newValue:f(T,p,_)})):typeof _<"u"&&c(v,{name:E,newValue:_}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function A(R,k){for(var x=0;x<k.length;x++){var F=k[x];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,k,x){return k&&A(R.prototype,k),x&&A(R,x),R}}(),s=function A(R,k,x){R===null&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,k);if(F===void 0){var q=Object.getPrototypeOf(R);return q===null?void 0:A(q,k,x)}else{if("value"in F)return F.value;var j=F.get;return j===void 0?void 0:j.call(x)}},a=i(3),l=v(a),u=i(2),c=v(u),h=i(0),f=v(h),d=i(16),E=v(d),y=i(6),_=v(y),m=i(7),p=v(m);function v(A){return A&&A.__esModule?A:{default:A}}function g(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function w(A,R){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:A}function T(A,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);A.prototype=Object.create(R&&R.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(A,R):A.__proto__=R)}var S=1,b=function(A){T(R,A);function R(){return g(this,R),w(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(x,F){var q=f.default.query(x,f.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,F)}},{key:"formatAt",value:function(x,F,q,j){this.format(q,j)}},{key:"insertAt",value:function(x,F,q){if(typeof F=="string"&&F.endsWith(`
`)){var j=f.default.create(O.blotName);this.parent.insertBefore(j,x===0?this:this.next),j.insertAt(0,F.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,x,F,q)}}]),R}(f.default.Embed);b.scope=f.default.Scope.BLOCK_BLOT;var O=function(A){T(R,A);function R(k){g(this,R);var x=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k));return x.cache={},x}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(x,F){return F.length()===0?x:x.insert(F.value(),I(F))},new c.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(x,F){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,x,F),this.cache={}}},{key:"formatAt",value:function(x,F,q,j){F<=0||(f.default.query(q,f.default.Scope.BLOCK)?x+F===this.length()&&this.format(q,j):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,x,Math.min(F,this.length()-x-1),q,j),this.cache={})}},{key:"insertAt",value:function(x,F,q){if(q!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,x,F,q);if(F.length!==0){var j=F.split(`
`),H=j.shift();H.length>0&&(x<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(x,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var M=this;j.reduce(function(D,P){return M=M.split(D,!0),M.insertAt(0,P),P.length},x+H.length)}}},{key:"insertBefore",value:function(x,F){var q=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,x,F),q instanceof E.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(x,F){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,x,F),this.cache={}}},{key:"optimize",value:function(x){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,x),this.cache={}}},{key:"path",value:function(x){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,x,!0)}},{key:"removeChild",value:function(x){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,x),this.cache={}}},{key:"split",value:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(x===0||x>=this.length()-S)){var q=this.clone();return x===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var j=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,x,F);return this.cache={},j}}}]),R}(f.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[_.default,f.default.Embed,p.default];function I(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(R=(0,l.default)(R,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?R:I(A.parent,R)}r.bubbleFormats=I,r.BlockEmbed=b,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(D,P){var N=[],L=!0,U=!1,$=void 0;try{for(var C=D[Symbol.iterator](),V;!(L=(V=C.next()).done)&&(N.push(V.value),!(P&&N.length===P));L=!0);}catch(K){U=!0,$=K}finally{try{!L&&C.return&&C.return()}finally{if(U)throw $}}return N}return function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return M(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(D,P){for(var N=0;N<P.length;N++){var L=P[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,P,N){return P&&M(D.prototype,P),N&&M(D,N),D}}();i(50);var l=i(2),u=I(l),c=i(14),h=I(c),f=i(8),d=I(f),E=i(9),y=I(E),_=i(0),m=I(_),p=i(15),v=I(p),g=i(3),w=I(g),T=i(10),S=I(T),b=i(34),O=I(b);function I(M){return M&&M.__esModule?M:{default:M}}function A(M,D,P){return D in M?Object.defineProperty(M,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[D]=P,M}function R(M,D){if(!(M instanceof D))throw new TypeError("Cannot call a class as a function")}var k=(0,S.default)("quill"),x=function(){a(M,null,[{key:"debug",value:function(P){P===!0&&(P="log"),S.default.level(P)}},{key:"find",value:function(P){return P.__quill||m.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&k.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,N){var L=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var $=P.attrName||P.blotName;typeof $=="string"?this.register("formats/"+$,P,N):Object.keys(P).forEach(function(C){L.register(C,P[C],N)})}else this.imports[P]!=null&&!U&&k.warn("Overwriting "+P+" with",N),this.imports[P]=N,(P.startsWith("blots/")||P.startsWith("formats/"))&&N.blotName!=="abstract"?m.default.register(N):P.startsWith("modules")&&typeof N.register=="function"&&N.register()}}]);function M(D){var P=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,M),this.options=F(D,N),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",D);this.options.debug&&M.debug(this.options.debug);var L=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function($){$===d.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function($,C){var V=P.selection.lastRange,K=V&&V.length===0?V.index:void 0;q.call(P,function(){return P.editor.update(null,C,K)},$)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+L+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(M,[{key:"addContainer",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var L=P;P=document.createElement("div"),P.classList.add(L)}return this.container.insertBefore(P,N),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,N,L){var U=this,$=j(P,N,L),C=s($,4);return P=C[0],N=C[1],L=C[3],q.call(this,function(){return U.editor.deleteText(P,N)},L,P,-1*N)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,N){var L=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return q.call(this,function(){var $=L.getSelection(!0),C=new u.default;if($==null)return C;if(m.default.query(P,m.default.Scope.BLOCK))C=L.editor.formatLine($.index,$.length,A({},P,N));else{if($.length===0)return L.selection.format(P,N),C;C=L.editor.formatText($.index,$.length,A({},P,N))}return L.setSelection($,d.default.sources.SILENT),C},U)}},{key:"formatLine",value:function(P,N,L,U,$){var C=this,V=void 0,K=j(P,N,L,U,$),W=s(K,4);return P=W[0],N=W[1],V=W[2],$=W[3],q.call(this,function(){return C.editor.formatLine(P,N,V)},$,P,0)}},{key:"formatText",value:function(P,N,L,U,$){var C=this,V=void 0,K=j(P,N,L,U,$),W=s(K,4);return P=W[0],N=W[1],V=W[2],$=W[3],q.call(this,function(){return C.editor.formatText(P,N,V)},$,P,0)}},{key:"getBounds",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=void 0;typeof P=="number"?L=this.selection.getBounds(P,N):L=this.selection.getBounds(P.index,P.length);var U=this.container.getBoundingClientRect();return{bottom:L.bottom-U.top,height:L.height,left:L.left-U.left,right:L.right-U.left,top:L.top-U.top,width:L.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,L=j(P,N),U=s(L,2);return P=U[0],N=U[1],this.editor.getContents(P,N)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,N):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,N)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,L=j(P,N),U=s(L,2);return P=U[0],N=U[1],this.editor.getText(P,N)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,N,L){var U=this,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return q.call(this,function(){return U.editor.insertEmbed(P,N,L)},$,P)}},{key:"insertText",value:function(P,N,L,U,$){var C=this,V=void 0,K=j(P,0,L,U,$),W=s(K,4);return P=W[0],V=W[2],$=W[3],q.call(this,function(){return C.editor.insertText(P,N,V)},$,P,N.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,N,L){this.clipboard.dangerouslyPasteHTML(P,N,L)}},{key:"removeFormat",value:function(P,N,L){var U=this,$=j(P,N,L),C=s($,4);return P=C[0],N=C[1],L=C[3],q.call(this,function(){return U.editor.removeFormat(P,N)},L,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var N=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return q.call(this,function(){P=new u.default(P);var U=N.getLength(),$=N.editor.deleteText(0,U),C=N.editor.applyDelta(P),V=C.ops[C.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(N.editor.deleteText(N.getLength()-1,1),C.delete(1));var K=$.compose(C);return K},L)}},{key:"setSelection",value:function(P,N,L){if(P==null)this.selection.setRange(null,N||M.sources.API);else{var U=j(P,N,L),$=s(U,4);P=$[0],N=$[1],L=$[3],this.selection.setRange(new p.Range(P,N),L),L!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,L=new u.default().insert(P);return this.setContents(L,N)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,N=this.scroll.update(P);return this.selection.update(P),N}},{key:"updateContents",value:function(P){var N=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return q.call(this,function(){return P=new u.default(P),N.editor.applyDelta(P,L)},L,!0)}}]),M}();x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=d.default.events,x.sources=d.default.sources,x.version="1.3.7",x.imports={delta:u.default,parchment:m.default,"core/module":y.default,"core/theme":O.default};function F(M,D){if(D=(0,w.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===x.DEFAULTS.theme)D.theme=O.default;else if(D.theme=x.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var P=(0,w.default)(!0,{},D.theme.DEFAULTS);[P,D].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function($){U.modules[$]===!0&&(U.modules[$]={})})});var N=Object.keys(P.modules).concat(Object.keys(D.modules)),L=N.reduce(function(U,$){var C=x.import("modules/"+$);return C==null?k.error("Cannot load "+$+" module. Are you sure you registered it?"):U[$]=C.DEFAULTS||{},U},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,w.default)(!0,{},x.DEFAULTS,{modules:L},P,D),["bounds","container","scrollingContainer"].forEach(function(U){typeof D[U]=="string"&&(D[U]=document.querySelector(D[U]))}),D.modules=Object.keys(D.modules).reduce(function(U,$){return D.modules[$]&&(U[$]=D.modules[$]),U},{}),D}function q(M,D,P,N){if(this.options.strict&&!this.isEnabled()&&D===d.default.sources.USER)return new u.default;var L=P==null?null:this.getSelection(),U=this.editor.delta,$=M();if(L!=null&&(P===!0&&(P=L.index),N==null?L=H(L,$,D):N!==0&&(L=H(L,P,N,D)),this.setSelection(L,d.default.sources.SILENT)),$.length()>0){var C,V=[d.default.events.TEXT_CHANGE,$,U,D];if((C=this.emitter).emit.apply(C,[d.default.events.EDITOR_CHANGE].concat(V)),D!==d.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,V)}}return $}function j(M,D,P,N,L){var U={};return typeof M.index=="number"&&typeof M.length=="number"?typeof D!="number"?(L=N,N=P,P=D,D=M.length,M=M.index):(D=M.length,M=M.index):typeof D!="number"&&(L=N,N=P,P=D,D=0),(typeof P>"u"?"undefined":o(P))==="object"?(U=P,L=N):typeof P=="string"&&(N!=null?U[P]=N:L=P),L=L||d.default.sources.API,[M,D,U,L]}function H(M,D,P,N){if(M==null)return null;var L=void 0,U=void 0;if(D instanceof u.default){var $=[M.index,M.index+M.length].map(function(W){return D.transformPosition(W,N!==d.default.sources.USER)}),C=s($,2);L=C[0],U=C[1]}else{var V=[M.index,M.index+M.length].map(function(W){return W<D||W===D&&N===d.default.sources.USER?W:P>=0?W+P:Math.max(D,W+P)}),K=s(V,2);L=K[0],U=K[1]}return new p.Range(L,U-L)}r.expandConfig=F,r.overload=j,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&_(m.prototype,p),v&&_(m,v),m}}(),s=function _(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:_(w,p,v)}else{if("value"in g)return g.value;var T=g.get;return T===void 0?void 0:T.call(v)}},a=i(7),l=h(a),u=i(0),c=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function d(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function E(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var y=function(_){E(m,_);function m(){return f(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(v,g,w,T){if(m.compare(this.statics.blotName,w)<0&&c.default.query(w,c.default.Scope.BLOT)){var S=this.isolate(v,g);T&&S.wrap(w,T)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,v,g,w,T)}},{key:"optimize",value:function(v){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(v,g){var w=m.order.indexOf(v),T=m.order.indexOf(g);return w>=0||T>=0?w-T:v===g?0:v<g?-1:1}}]),m}(c.default.Inline);y.allowedChildren=[y,c.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,g){for(var w=0;w<g.length;w++){var T=g[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,g,w){return g&&p(v.prototype,g),w&&p(v,w),v}}(),s=function p(v,g,w){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,g);if(T===void 0){var S=Object.getPrototypeOf(v);return S===null?void 0:p(S,g,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},a=i(54),l=h(a),u=i(10),c=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function E(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var y=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(p){document.addEventListener(p,function(){for(var v=arguments.length,g=Array(v),w=0;w<v;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var S;(S=T.__quill.emitter).handleDOM.apply(S,g)}})})});var m=function(p){E(v,p);function v(){f(this,v);var g=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return g.listeners={},g.on("error",y.error),g}return o(v,[{key:"emit",value:function(){y.log.apply(y,arguments),s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var T=arguments.length,S=Array(T>1?T-1:0),b=1;b<T;b++)S[b-1]=arguments[b];(this.listeners[w.type]||[]).forEach(function(O){var I=O.node,A=O.handler;(w.target===I||I.contains(w.target))&&A.apply(void 0,[w].concat(S))})}},{key:"listenDOM",value:function(w,T,S){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:T,handler:S})}}]),v}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,h=arguments.length,f=Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];(c=console)[u].apply(c,f)}}function l(u){return o.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,d,E){return E||(E={}),f===d?!0:f instanceof Date&&d instanceof Date?f.getTime()===d.getTime():!f||!d||typeof f!="object"&&typeof d!="object"?E.strict?f===d:f==d:h(f,d,E)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,d,E){var y,_;if(u(f)||u(d)||f.prototype!==d.prototype)return!1;if(a(f))return a(d)?(f=o.call(f),d=o.call(d),l(f,d,E)):!1;if(c(f)){if(!c(d)||f.length!==d.length)return!1;for(y=0;y<f.length;y++)if(f[y]!==d[y])return!1;return!0}try{var m=s(f),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),y=m.length-1;y>=0;y--)if(m[y]!=p[y])return!1;for(y=m.length-1;y>=0;y--)if(_=m[y],!l(f[_],d[_],E))return!1;return typeof f==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(O,I){var A=[],R=!0,k=!1,x=void 0;try{for(var F=O[Symbol.iterator](),q;!(R=(q=F.next()).done)&&(A.push(q.value),!(I&&A.length===I));R=!0);}catch(j){k=!0,x=j}finally{try{!R&&F.return&&F.return()}finally{if(k)throw x}}return A}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,I){for(var A=0;A<I.length;A++){var R=I[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,I,A){return I&&b(O.prototype,I),A&&b(O,A),O}}(),a=function b(O,I,A){O===null&&(O=Function.prototype);var R=Object.getOwnPropertyDescriptor(O,I);if(R===void 0){var k=Object.getPrototypeOf(O);return k===null?void 0:b(k,I,A)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(A)}},l=i(2),u=p(l),c=i(0),h=p(c),f=i(4),d=p(f),E=i(6),y=p(E),_=i(7),m=p(_);function p(b){return b&&b.__esModule?b:{default:b}}function v(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}function g(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:b}function w(b,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);b.prototype=Object.create(O&&O.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(b,O):b.__proto__=O)}var T=function(b){w(O,b);function O(){return v(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);T.blotName="code",T.tagName="CODE";var S=function(b){w(O,b);function O(){return v(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return s(O,[{key:"delta",value:function(){var A=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(k,x){return k.insert(x).insert(`
`,A.formats())},new u.default)}},{key:"format",value:function(A,R){if(!(A===this.statics.blotName&&R)){var k=this.descendant(m.default,this.length()-1),x=o(k,1),F=x[0];F?.deleteAt(F.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,A,R)}}},{key:"formatAt",value:function(A,R,k,x){if(R!==0&&!(h.default.query(k,h.default.Scope.BLOCK)==null||k===this.statics.blotName&&x===this.statics.formats(this.domNode))){var F=this.newlineIndex(A);if(!(F<0||F>=A+R)){var q=this.newlineIndex(A,!0)+1,j=F-q+1,H=this.isolate(q,j),M=H.next;H.format(k,x),M instanceof O&&M.formatAt(0,A-q+R-j,k,x)}}}},{key:"insertAt",value:function(A,R,k){if(k==null){var x=this.descendant(m.default,A),F=o(x,2),q=F[0],j=F[1];q.insertAt(j,R)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var k=this.domNode.textContent.slice(A).indexOf(`
`);return k>-1?A+k:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(A),R.moveChildren(this),R.remove())}},{key:"replace",value:function(A){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var k=h.default.find(R);k==null?R.parentNode.removeChild(R):k instanceof h.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(A){var R=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,A);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),O}(d.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=T,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(D,P){var N=[],L=!0,U=!1,$=void 0;try{for(var C=D[Symbol.iterator](),V;!(L=(V=C.next()).done)&&(N.push(V.value),!(P&&N.length===P));L=!0);}catch(K){U=!0,$=K}finally{try{!L&&C.return&&C.return()}finally{if(U)throw $}}return N}return function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return M(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(D,P){for(var N=0;N<P.length;N++){var L=P[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,P,N){return P&&M(D.prototype,P),N&&M(D,N),D}}(),l=i(2),u=R(l),c=i(20),h=R(c),f=i(0),d=R(f),E=i(13),y=R(E),_=i(24),m=R(_),p=i(4),v=R(p),g=i(16),w=R(g),T=i(21),S=R(T),b=i(11),O=R(b),I=i(3),A=R(I);function R(M){return M&&M.__esModule?M:{default:M}}function k(M,D,P){return D in M?Object.defineProperty(M,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[D]=P,M}function x(M,D){if(!(M instanceof D))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,q=function(){function M(D){x(this,M),this.scroll=D,this.delta=this.getDelta()}return a(M,[{key:"applyDelta",value:function(P){var N=this,L=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),P=H(P),P.reduce(function($,C){var V=C.retain||C.delete||C.insert.length||1,K=C.attributes||{};if(C.insert!=null){if(typeof C.insert=="string"){var W=C.insert;W.endsWith(`
`)&&L&&(L=!1,W=W.slice(0,-1)),$>=U&&!W.endsWith(`
`)&&(L=!0),N.scroll.insertAt($,W);var Z=N.scroll.line($),oe=s(Z,2),me=oe[0],Te=oe[1],Oe=(0,A.default)({},(0,p.bubbleFormats)(me));if(me instanceof v.default){var Ce=me.descendant(d.default.Leaf,Te),Et=s(Ce,1),ut=Et[0];Oe=(0,A.default)(Oe,(0,p.bubbleFormats)(ut))}K=h.default.attributes.diff(Oe,K)||{}}else if(o(C.insert)==="object"){var Q=Object.keys(C.insert)[0];if(Q==null)return $;N.scroll.insertAt($,Q,C.insert[Q])}U+=V}return Object.keys(K).forEach(function(J){N.scroll.formatAt($,V,J,K[J])}),$+V},0),P.reduce(function($,C){return typeof C.delete=="number"?(N.scroll.deleteAt($,C.delete),$):$+(C.retain||C.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,N){return this.scroll.deleteAt(P,N),this.update(new u.default().retain(P).delete(N))}},{key:"formatLine",value:function(P,N){var L=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function($){if(!(L.scroll.whitelist!=null&&!L.scroll.whitelist[$])){var C=L.scroll.lines(P,Math.max(N,1)),V=N;C.forEach(function(K){var W=K.length();if(!(K instanceof y.default))K.format($,U[$]);else{var Z=P-K.offset(L.scroll),oe=K.newlineIndex(Z+V)-Z+1;K.formatAt(Z,oe,$,U[$])}V-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(N,(0,S.default)(U)))}},{key:"formatText",value:function(P,N){var L=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function($){L.scroll.formatAt(P,N,$,U[$])}),this.update(new u.default().retain(P).retain(N,(0,S.default)(U)))}},{key:"getContents",value:function(P,N){return this.delta.slice(P,P+N)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,N){return P.concat(N.delta())},new u.default)}},{key:"getFormat",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],U=[];N===0?this.scroll.path(P).forEach(function(C){var V=s(C,1),K=V[0];K instanceof v.default?L.push(K):K instanceof d.default.Leaf&&U.push(K)}):(L=this.scroll.lines(P,N),U=this.scroll.descendants(d.default.Leaf,P,N));var $=[L,U].map(function(C){if(C.length===0)return{};for(var V=(0,p.bubbleFormats)(C.shift());Object.keys(V).length>0;){var K=C.shift();if(K==null)return V;V=j((0,p.bubbleFormats)(K),V)}return V});return A.default.apply(A.default,$)}},{key:"getText",value:function(P,N){return this.getContents(P,N).filter(function(L){return typeof L.insert=="string"}).map(function(L){return L.insert}).join("")}},{key:"insertEmbed",value:function(P,N,L){return this.scroll.insertAt(P,N,L),this.update(new u.default().retain(P).insert(k({},N,L)))}},{key:"insertText",value:function(P,N){var L=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N=N.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,N),Object.keys(U).forEach(function($){L.scroll.formatAt(P,N.length,$,U[$])}),this.update(new u.default().retain(P).insert(N,(0,S.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==v.default.blotName||P.children.length>1?!1:P.children.head instanceof w.default}},{key:"removeFormat",value:function(P,N){var L=this.getText(P,N),U=this.scroll.line(P+N),$=s(U,2),C=$[0],V=$[1],K=0,W=new u.default;C!=null&&(C instanceof y.default?K=C.newlineIndex(V)-V+1:K=C.length()-V,W=C.delta().slice(V,V+K-1).insert(`
`));var Z=this.getContents(P,N+K),oe=Z.diff(new u.default().insert(L).concat(W)),me=new u.default().retain(P).concat(oe);return this.applyDelta(me)}},{key:"update",value:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(N.length===1&&N[0].type==="characterData"&&N[0].target.data.match(F)&&d.default.find(N[0].target)){var $=d.default.find(N[0].target),C=(0,p.bubbleFormats)($),V=$.offset(this.scroll),K=N[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(K),Z=new u.default().insert($.value()),oe=new u.default().retain(V).concat(W.diff(Z,L));P=oe.reduce(function(me,Te){return Te.insert?me.insert(Te.insert,C):me.push(Te)},new u.default),this.delta=U.compose(P)}else this.delta=this.getDelta(),(!P||!(0,O.default)(U.compose(P),this.delta))&&(P=U.diff(this.delta,L));return P}}]),M}();function j(M,D){return Object.keys(D).reduce(function(P,N){return M[N]==null||(D[N]===M[N]?P[N]=D[N]:Array.isArray(D[N])?D[N].indexOf(M[N])<0&&(P[N]=D[N].concat([M[N]])):P[N]=[D[N],M[N]]),P},{})}function H(M){return M.reduce(function(D,P){if(P.insert===1){var N=(0,S.default)(P.attributes);return delete N.image,D.insert({image:P.attributes.image},N)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,S.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var L=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(L,P.attributes)}return D.push(P)},new u.default)}r.default=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(O,I){var A=[],R=!0,k=!1,x=void 0;try{for(var F=O[Symbol.iterator](),q;!(R=(q=F.next()).done)&&(A.push(q.value),!(I&&A.length===I));R=!0);}catch(j){k=!0,x=j}finally{try{!R&&F.return&&F.return()}finally{if(k)throw x}}return A}return function(O,I){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return b(O,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(O,I){for(var A=0;A<I.length;A++){var R=I[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,I,A){return I&&b(O.prototype,I),A&&b(O,A),O}}(),a=i(0),l=m(a),u=i(21),c=m(u),h=i(11),f=m(h),d=i(8),E=m(d),y=i(10),_=m(y);function m(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var O=0,I=Array(b.length);O<b.length;O++)I[O]=b[O];return I}else return Array.from(b)}function v(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var g=(0,_.default)("quill:selection"),w=function b(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,b),this.index=O,this.length=I},T=function(){function b(O,I){var A=this;v(this,b),this.emitter=I,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,E.default.sources.USER),1)}),this.emitter.on(E.default.events.EDITOR_CHANGE,function(R,k){R===E.default.events.TEXT_CHANGE&&k.length()>0&&A.update(E.default.sources.SILENT)}),this.emitter.on(E.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var R=A.getNativeRange();R!=null&&R.start.node!==A.cursor.textNode&&A.emitter.once(E.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(E.default.events.SCROLL_OPTIMIZE,function(R,k){if(k.range){var x=k.range,F=x.startNode,q=x.startOffset,j=x.endNode,H=x.endOffset;A.setNativeRange(F,q,j,H)}}),this.update(E.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var A=I.cursor.restore();if(!A)return;setTimeout(function(){I.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(E.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(I,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var k=l.default.find(R.start.node,!1);if(k==null)return;if(k instanceof l.default.Leaf){var x=k.split(R.start.offset);k.parent.insertBefore(this.cursor,x)}else k.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(I,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();I=Math.min(I,R-1),A=Math.min(I+A,R-1)-I;var k=void 0,x=this.scroll.leaf(I),F=o(x,2),q=F[0],j=F[1];if(q==null)return null;var H=q.position(j,!0),M=o(H,2);k=M[0],j=M[1];var D=document.createRange();if(A>0){D.setStart(k,j);var P=this.scroll.leaf(I+A),N=o(P,2);if(q=N[0],j=N[1],q==null)return null;var L=q.position(j,!0),U=o(L,2);return k=U[0],j=U[1],D.setEnd(k,j),D.getBoundingClientRect()}else{var $="left",C=void 0;return k instanceof Text?(j<k.data.length?(D.setStart(k,j),D.setEnd(k,j+1)):(D.setStart(k,j-1),D.setEnd(k,j),$="right"),C=D.getBoundingClientRect()):(C=q.domNode.getBoundingClientRect(),j>0&&($="right")),{bottom:C.top+C.height,height:C.height,left:C[$],right:C[$],top:C.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var A=I.getRangeAt(0);if(A==null)return null;var R=this.normalizeNative(A);return g.info("getNativeRange",R),R}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var A=this.normalizedToRange(I);return[A,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var A=this,R=[[I.start.node,I.start.offset]];I.native.collapsed||R.push([I.end.node,I.end.offset]);var k=R.map(function(q){var j=o(q,2),H=j[0],M=j[1],D=l.default.find(H,!0),P=D.offset(A.scroll);return M===0?P:D instanceof l.default.Container?P+D.length():P+D.index(H,M)}),x=Math.min(Math.max.apply(Math,p(k)),this.scroll.length()-1),F=Math.min.apply(Math,[x].concat(p(k)));return new w(F,x-F)}},{key:"normalizeNative",value:function(I){if(!S(this.root,I.startContainer)||!I.collapsed&&!S(this.root,I.endContainer))return null;var A={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[A.start,A.end].forEach(function(R){for(var k=R.node,x=R.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>x)k=k.childNodes[x],x=0;else if(k.childNodes.length===x)k=k.lastChild,x=k instanceof Text?k.data.length:k.childNodes.length+1;else break;R.node=k,R.offset=x}),A}},{key:"rangeToNative",value:function(I){var A=this,R=I.collapsed?[I.index]:[I.index,I.index+I.length],k=[],x=this.scroll.length();return R.forEach(function(F,q){F=Math.min(x-1,F);var j=void 0,H=A.scroll.leaf(F),M=o(H,2),D=M[0],P=M[1],N=D.position(P,q!==0),L=o(N,2);j=L[0],P=L[1],k.push(j,P)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(I){var A=this.lastRange;if(A!=null){var R=this.getBounds(A.index,A.length);if(R!=null){var k=this.scroll.length()-1,x=this.scroll.line(Math.min(A.index,k)),F=o(x,1),q=F[0],j=q;if(A.length>0){var H=this.scroll.line(Math.min(A.index+A.length,k)),M=o(H,1);j=M[0]}if(!(q==null||j==null)){var D=I.getBoundingClientRect();R.top<D.top?I.scrollTop-=D.top-R.top:R.bottom>D.bottom&&(I.scrollTop+=R.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(I,A){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",I,A,R,k),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||R.parentNode==null))){var F=document.getSelection();if(F!=null)if(I!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||x||I!==q.startContainer||A!==q.startOffset||R!==q.endContainer||k!==q.endOffset){I.tagName=="BR"&&(A=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),R.tagName=="BR"&&(k=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var j=document.createRange();j.setStart(I,A),j.setEnd(R,k),F.removeAllRanges(),F.addRange(j)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof A=="string"&&(R=A,A=!1),g.info("setRange",I),I!=null){var k=this.rangeToNative(I);this.setNativeRange.apply(this,p(k).concat([A]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,A=this.lastRange,R=this.getRange(),k=o(R,2),x=k[0],F=k[1];if(this.lastRange=x,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(A,this.lastRange)){var q;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var j=[E.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(A),I];if((q=this.emitter).emit.apply(q,[E.default.events.EDITOR_CHANGE].concat(j)),I!==E.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,j)}}}}]),b}();function S(b,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),b.contains(O)}r.Range=w,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(y,_){for(var m=0;m<_.length;m++){var p=_[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,m){return _&&E(y.prototype,_),m&&E(y,m),y}}(),s=function E(y,_,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:E(v,_,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(m,p){m.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var E in d)d.hasOwnProperty(E)&&(f[E]=d[E])};return function(f,d){h(f,d);function E(){this.constructor=f}f.prototype=d===null?Object.create(d):(E.prototype=d.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(f,h);function f(d){var E=h.call(this,d)||this;return E.build(),E}return f.prototype.appendChild=function(d){this.insertBefore(d)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},f.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(E){try{var y=c(E);d.insertBefore(y,d.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},f.prototype.deleteAt=function(d,E){if(d===0&&E===this.length())return this.remove();this.children.forEachAt(d,E,function(y,_,m){y.deleteAt(_,m)})},f.prototype.descendant=function(d,E){var y=this.children.find(E),_=y[0],m=y[1];return d.blotName==null&&d(_)||d.blotName!=null&&_ instanceof d?[_,m]:_ instanceof f?_.descendant(d,m):[null,-1]},f.prototype.descendants=function(d,E,y){E===void 0&&(E=0),y===void 0&&(y=Number.MAX_VALUE);var _=[],m=y;return this.children.forEachAt(E,y,function(p,v,g){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&_.push(p),p instanceof f&&(_=_.concat(p.descendants(d,v,m))),m-=g}),_},f.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(d,E,y,_){this.children.forEachAt(d,E,function(m,p,v){m.formatAt(p,v,y,_)})},f.prototype.insertAt=function(d,E,y){var _=this.children.find(d),m=_[0],p=_[1];if(m)m.insertAt(p,E,y);else{var v=y==null?l.create("text",E):l.create(E,y);this.appendChild(v)}},f.prototype.insertBefore=function(d,E){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return d instanceof y}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,E)},f.prototype.length=function(){return this.children.reduce(function(d,E){return d+E.length()},0)},f.prototype.moveChildren=function(d,E){this.children.forEach(function(y){d.insertBefore(y,E)})},f.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var E=l.create(this.statics.defaultChild);this.appendChild(E),E.optimize(d)}else this.remove()},f.prototype.path=function(d,E){E===void 0&&(E=!1);var y=this.children.find(d,E),_=y[0],m=y[1],p=[[this,d]];return _ instanceof f?p.concat(_.path(m,E)):(_!=null&&p.push([_,m]),p)},f.prototype.removeChild=function(d){this.children.remove(d)},f.prototype.replace=function(d){d instanceof f&&d.moveChildren(this),h.prototype.replace.call(this,d)},f.prototype.split=function(d,E){if(E===void 0&&(E=!1),!E){if(d===0)return this;if(d===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(d,this.length(),function(_,m,p){_=_.split(m,E),y.appendChild(_)}),y},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(d,E){var y=this,_=[],m=[];d.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(_.push.apply(_,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(p);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===y.domNode)&&v.detach()}}),_.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,v){return p===v?0:p.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var v=null;p.nextSibling!=null&&(v=l.find(p.nextSibling));var g=c(p);(g.next!=v||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,v||void 0))})},f}(a.default);function c(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(E){f.domNode.appendChild(E)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var E in d)d.hasOwnProperty(E)&&(f[E]=d[E])};return function(f,d){h(f,d);function E(){this.constructor=f}f.prototype=d===null?Object.create(d):(E.prototype=d.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(h){o(f,h);function f(d){var E=h.call(this,d)||this;return E.attributes=new a.default(E.domNode),E}return f.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},f.prototype.format=function(d,E){var y=u.query(d);y instanceof s.default?this.attributes.attribute(y,E):E&&y!=null&&(d!==this.statics.blotName||this.formats()[d]!==E)&&this.replaceWith(d,E)},f.prototype.formats=function(){var d=this.attributes.values(),E=this.statics.formats(this.domNode);return E!=null&&(d[this.statics.blotName]=E),d},f.prototype.replaceWith=function(d,E){var y=h.prototype.replaceWith.call(this,d,E);return this.attributes.copy(y),y},f.prototype.update=function(d,E){var y=this;h.prototype.update.call(this,d,E),d.some(function(_){return _.target===y.domNode&&_.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(d,E){var y=h.prototype.wrap.call(this,d,E);return y instanceof f&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},f}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(h,f){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=s(!0,{},c);h||(f=Object.keys(f).reduce(function(E,y){return f[y]!=null&&(E[y]=f[y]),E},{}));for(var d in u)u[d]!==void 0&&c[d]===void 0&&(f[d]=u[d]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(f,d){return o(u[d],c[d])||(f[d]=c[d]===void 0?null:c[d]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var f=Object.keys(c).reduce(function(d,E){return u[E]===void 0&&(d[E]=c[E]),d},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,f=a.length(c);if(u>=f-h?(u=f-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=u:typeof c.insert=="string"?d.insert=c.insert.substr(h,u):d.insert=c.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,_){return _!=null&&y instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,_,m,p,v){typeof _=="object"&&(m=_.depth,p=_.prototype,v=_.includeNonEnumerable,_=_.circular);var g=[],w=[],T=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof m>"u"&&(m=1/0);function S(b,O){if(b===null)return null;if(O===0)return b;var I,A;if(typeof b!="object")return b;if(o(b,s))I=new s;else if(o(b,a))I=new a;else if(o(b,l))I=new l(function(D,P){b.then(function(N){D(S(N,O-1))},function(N){P(S(N,O-1))})});else if(u.__isArray(b))I=[];else if(u.__isRegExp(b))I=new RegExp(b.source,E(b)),b.lastIndex&&(I.lastIndex=b.lastIndex);else if(u.__isDate(b))I=new Date(b.getTime());else{if(T&&Buffer.isBuffer(b))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(b.length):I=new Buffer(b.length),b.copy(I),I;o(b,Error)?I=Object.create(b):typeof p>"u"?(A=Object.getPrototypeOf(b),I=Object.create(A)):(I=Object.create(p),A=p)}if(_){var R=g.indexOf(b);if(R!=-1)return w[R];g.push(b),w.push(I)}o(b,s)&&b.forEach(function(D,P){var N=S(P,O-1),L=S(D,O-1);I.set(N,L)}),o(b,a)&&b.forEach(function(D){var P=S(D,O-1);I.add(P)});for(var k in b){var x;A&&(x=Object.getOwnPropertyDescriptor(A,k)),!(x&&x.set==null)&&(I[k]=S(b[k],O-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(b),k=0;k<F.length;k++){var q=F[k],j=Object.getOwnPropertyDescriptor(b,q);j&&!j.enumerable&&!v||(I[q]=S(b[q],O-1),j.enumerable||Object.defineProperty(I,q,{enumerable:!1}))}if(v)for(var H=Object.getOwnPropertyNames(b),k=0;k<H.length;k++){var M=H[k],j=Object.getOwnPropertyDescriptor(b,M);j&&j.enumerable||(I[M]=S(b[M],O-1),Object.defineProperty(I,M,{enumerable:!1}))}return I}return S(y,m)}u.clonePrototype=function(_){if(_===null)return null;var m=function(){};return m.prototype=_,new m};function c(y){return Object.prototype.toString.call(y)}u.__objToStr=c;function h(y){return typeof y=="object"&&c(y)==="[object Date]"}u.__isDate=h;function f(y){return typeof y=="object"&&c(y)==="[object Array]"}u.__isArray=f;function d(y){return typeof y=="object"&&c(y)==="[object RegExp]"}u.__isRegExp=d;function E(y){var _="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),_}return u.__getRegExpFlags=E,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,R){var k=[],x=!0,F=!1,q=void 0;try{for(var j=A[Symbol.iterator](),H;!(x=(H=j.next()).done)&&(k.push(H.value),!(R&&k.length===R));x=!0);}catch(M){F=!0,q=M}finally{try{!x&&j.return&&j.return()}finally{if(F)throw q}}return k}return function(A,R){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(A,R){for(var k=0;k<R.length;k++){var x=R[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}return function(A,R,k){return R&&I(A.prototype,R),k&&I(A,k),A}}(),a=function I(A,R,k){A===null&&(A=Function.prototype);var x=Object.getOwnPropertyDescriptor(A,R);if(x===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:I(F,R,k)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(k)}},l=i(0),u=g(l),c=i(8),h=g(c),f=i(4),d=g(f),E=i(16),y=g(E),_=i(13),m=g(_),p=i(25),v=g(p);function g(I){return I&&I.__esModule?I:{default:I}}function w(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function T(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function S(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}function b(I){return I instanceof d.default||I instanceof f.BlockEmbed}var O=function(I){S(A,I);function A(R,k){w(this,A);var x=T(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R));return x.emitter=k.emitter,Array.isArray(k.whitelist)&&(x.whitelist=k.whitelist.reduce(function(F,q){return F[q]=!0,F},{})),x.domNode.addEventListener("DOMNodeInserted",function(){}),x.optimize(),x.enable(),x}return s(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,x){var F=this.line(k),q=o(F,2),j=q[0],H=q[1],M=this.line(k+x),D=o(M,1),P=D[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,k,x),P!=null&&j!==P&&H>0){if(j instanceof f.BlockEmbed||P instanceof f.BlockEmbed){this.optimize();return}if(j instanceof m.default){var N=j.newlineIndex(j.length(),!0);if(N>-1&&(j=j.split(N+1),j===P)){this.optimize();return}}else if(P instanceof m.default){var L=P.newlineIndex(0);L>-1&&P.split(L+1)}var U=P.children.head instanceof y.default?null:P.children.head;j.moveChildren(P,U),j.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,x,F,q){this.whitelist!=null&&!this.whitelist[F]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,k,x,F,q),this.optimize())}},{key:"insertAt",value:function(k,x,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[x])){if(k>=this.length())if(F==null||u.default.query(x,u.default.Scope.BLOCK)==null){var q=u.default.create(this.statics.defaultChild);this.appendChild(q),F==null&&x.endsWith(`
`)&&(x=x.slice(0,-1)),q.insertAt(0,x,F)}else{var j=u.default.create(x,F);this.appendChild(j)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,k,x,F);this.optimize()}}},{key:"insertBefore",value:function(k,x){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var F=u.default.create(this.statics.defaultChild);F.appendChild(k),k=F}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,k,x)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(b,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function q(j,H,M){var D=[],P=M;return j.children.forEachAt(H,M,function(N,L,U){b(N)?D.push(N):N instanceof u.default.Container&&(D=D.concat(q(N,L,P))),P-=U}),D};return F(this,k,x)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,k,x),k.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,k,x))}},{key:"path",value:function(k){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var x=h.default.sources.USER;typeof k=="string"&&(x=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,x,k),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,x,k)}}}]),A}(u.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[d.default,f.BlockEmbed,v.default],r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},s=function(){function C(V,K){var W=[],Z=!0,oe=!1,me=void 0;try{for(var Te=V[Symbol.iterator](),Oe;!(Z=(Oe=Te.next()).done)&&(W.push(Oe.value),!(K&&W.length===K));Z=!0);}catch(Ce){oe=!0,me=Ce}finally{try{!Z&&Te.return&&Te.return()}finally{if(oe)throw me}}return W}return function(V,K){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return C(V,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function C(V,K){for(var W=0;W<K.length;W++){var Z=K[W];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}}return function(V,K,W){return K&&C(V.prototype,K),W&&C(V,W),V}}(),l=i(21),u=I(l),c=i(11),h=I(c),f=i(3),d=I(f),E=i(2),y=I(E),_=i(20),m=I(_),p=i(0),v=I(p),g=i(5),w=I(g),T=i(10),S=I(T),b=i(9),O=I(b);function I(C){return C&&C.__esModule?C:{default:C}}function A(C,V,K){return V in C?Object.defineProperty(C,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):C[V]=K,C}function R(C,V){if(!(C instanceof V))throw new TypeError("Cannot call a class as a function")}function k(C,V){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:C}function x(C,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);C.prototype=Object.create(V&&V.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(C,V):C.__proto__=V)}var F=(0,S.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",j=function(C){x(V,C),a(V,null,[{key:"match",value:function(W,Z){return Z=$(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(oe){return!!Z[oe]!==W[oe]&&Z[oe]!==null})?!1:Z.key===(W.which||W.keyCode)}}]);function V(K,W){R(this,V);var Z=k(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,W));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(oe){oe==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Z.options.bindings[oe]&&Z.addBinding(Z.options.bindings[oe])}),Z.addBinding({key:V.keys.ENTER,shiftKey:null},N),Z.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},M),Z.addBinding({key:V.keys.DELETE},{collapsed:!0},D)):(Z.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),Z.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),Z.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},P),Z.addBinding({key:V.keys.DELETE},{collapsed:!1},P),Z.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),Z.listen(),Z}return a(V,[{key:"addBinding",value:function(W){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=$(W);if(me==null||me.key==null)return F.warn("Attempted to add invalid keyboard binding",me);typeof Z=="function"&&(Z={handler:Z}),typeof oe=="function"&&(oe={handler:oe}),me=(0,d.default)(me,Z,oe),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var oe=Z.which||Z.keyCode,me=(W.bindings[oe]||[]).filter(function(Ze){return V.match(Z,Ze)});if(me.length!==0){var Te=W.quill.getSelection();if(!(Te==null||!W.quill.hasFocus())){var Oe=W.quill.getLine(Te.index),Ce=s(Oe,2),Et=Ce[0],ut=Ce[1],Q=W.quill.getLeaf(Te.index),J=s(Q,2),ae=J[0],le=J[1],ne=Te.length===0?[ae,le]:W.quill.getLeaf(Te.index+Te.length),Se=s(ne,2),we=Se[0],Ie=Se[1],Vt=ae instanceof v.default.Text?ae.value().slice(0,le):"",jt=we instanceof v.default.Text?we.value().slice(Ie):"",Je={collapsed:Te.length===0,empty:Te.length===0&&Et.length()<=1,format:W.quill.getFormat(Te),offset:ut,prefix:Vt,suffix:jt},dn=me.some(function(Ze){if(Ze.collapsed!=null&&Ze.collapsed!==Je.collapsed||Ze.empty!=null&&Ze.empty!==Je.empty||Ze.offset!=null&&Ze.offset!==Je.offset)return!1;if(Array.isArray(Ze.format)){if(Ze.format.every(function(wt){return Je.format[wt]==null}))return!1}else if(o(Ze.format)==="object"&&!Object.keys(Ze.format).every(function(wt){return Ze.format[wt]===!0?Je.format[wt]!=null:Ze.format[wt]===!1?Je.format[wt]==null:(0,h.default)(Ze.format[wt],Je.format[wt])}))return!1;return Ze.prefix!=null&&!Ze.prefix.test(Je.prefix)||Ze.suffix!=null&&!Ze.suffix.test(Je.suffix)?!1:Ze.handler.call(W,Te,Je)!==!0});dn&&Z.preventDefault()}}}})}}]),V}(O.default);j.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},j.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:j.keys.TAB,format:["blockquote","indent","list"],handler:function(V,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:j.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:j.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,K){K.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:j.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,w.default.sources.USER)}},tab:{key:j.keys.TAB,handler:function(V){this.quill.history.cutoff();var K=new y.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents(K,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,w.default.sources.SILENT)}},"list empty enter":{key:j.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,K){this.quill.format("list",!1,w.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:j.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var K=this.quill.getLine(V.index),W=s(K,2),Z=W[0],oe=W[1],me=(0,d.default)({},Z.formats(),{list:"checked"}),Te=new y.default().retain(V.index).insert(`
`,me).retain(Z.length()-oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Te,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:j.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,K){var W=this.quill.getLine(V.index),Z=s(W,2),oe=Z[0],me=Z[1],Te=new y.default().retain(V.index).insert(`
`,K.format).retain(oe.length()-me-1).retain(1,{header:null});this.quill.updateContents(Te,w.default.sources.USER),this.quill.setSelection(V.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,K){var W=K.prefix.length,Z=this.quill.getLine(V.index),oe=s(Z,2),me=oe[0],Te=oe[1];if(Te>W)return!0;var Oe=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":Oe="unchecked";break;case"[x]":Oe="checked";break;case"-":case"*":Oe="bullet";break;default:Oe="ordered"}this.quill.insertText(V.index," ",w.default.sources.USER),this.quill.history.cutoff();var Ce=new y.default().retain(V.index-Te).delete(W+1).retain(me.length()-2-Te).retain(1,{list:Oe});this.quill.updateContents(Ce,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-W,w.default.sources.SILENT)}},"code exit":{key:j.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var K=this.quill.getLine(V.index),W=s(K,2),Z=W[0],oe=W[1],me=new y.default().retain(V.index+Z.length()-oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,w.default.sources.USER)}},"embed left":H(j.keys.LEFT,!1),"embed left shift":H(j.keys.LEFT,!0),"embed right":H(j.keys.RIGHT,!1),"embed right shift":H(j.keys.RIGHT,!0)}};function H(C,V){var K,W=C===j.keys.LEFT?"prefix":"suffix";return K={key:C,shiftKey:V,altKey:null},A(K,W,/^$/),A(K,"handler",function(oe){var me=oe.index;C===j.keys.RIGHT&&(me+=oe.length+1);var Te=this.quill.getLeaf(me),Oe=s(Te,1),Ce=Oe[0];return Ce instanceof v.default.Embed?(C===j.keys.LEFT?V?this.quill.setSelection(oe.index-1,oe.length+1,w.default.sources.USER):this.quill.setSelection(oe.index-1,w.default.sources.USER):V?this.quill.setSelection(oe.index,oe.length+1,w.default.sources.USER):this.quill.setSelection(oe.index+oe.length+1,w.default.sources.USER),!1):!0}),K}function M(C,V){if(!(C.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(C.index),W=s(K,1),Z=W[0],oe={};if(V.offset===0){var me=this.quill.getLine(C.index-1),Te=s(me,1),Oe=Te[0];if(Oe!=null&&Oe.length()>1){var Ce=Z.formats(),Et=this.quill.getFormat(C.index-1,1);oe=m.default.attributes.diff(Ce,Et)||{}}}var ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(C.index-ut,ut,w.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(C.index-ut,ut,oe,w.default.sources.USER),this.quill.focus()}}function D(C,V){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(C.index>=this.quill.getLength()-K)){var W={},Z=0,oe=this.quill.getLine(C.index),me=s(oe,1),Te=me[0];if(V.offset>=Te.length()-1){var Oe=this.quill.getLine(C.index+1),Ce=s(Oe,1),Et=Ce[0];if(Et){var ut=Te.formats(),Q=this.quill.getFormat(C.index,1);W=m.default.attributes.diff(ut,Q)||{},Z=Et.length()}}this.quill.deleteText(C.index,K,w.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(C.index+Z-1,K,W,w.default.sources.USER)}}function P(C){var V=this.quill.getLines(C),K={};if(V.length>1){var W=V[0].formats(),Z=V[V.length-1].formats();K=m.default.attributes.diff(Z,W)||{}}this.quill.deleteText(C,w.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(C.index,1,K,w.default.sources.USER),this.quill.setSelection(C.index,w.default.sources.SILENT),this.quill.focus()}function N(C,V){var K=this;C.length>0&&this.quill.scroll.deleteAt(C.index,C.length);var W=Object.keys(V.format).reduce(function(Z,oe){return v.default.query(oe,v.default.Scope.BLOCK)&&!Array.isArray(V.format[oe])&&(Z[oe]=V.format[oe]),Z},{});this.quill.insertText(C.index,`
`,W,w.default.sources.USER),this.quill.setSelection(C.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(Z){W[Z]==null&&(Array.isArray(V.format[Z])||Z!=="link"&&K.quill.format(Z,V.format[Z],w.default.sources.USER))})}function L(C){return{key:j.keys.TAB,shiftKey:!C,format:{"code-block":!0},handler:function(K){var W=v.default.query("code-block"),Z=K.index,oe=K.length,me=this.quill.scroll.descendant(W,Z),Te=s(me,2),Oe=Te[0],Ce=Te[1];if(Oe!=null){var Et=this.quill.getIndex(Oe),ut=Oe.newlineIndex(Ce,!0)+1,Q=Oe.newlineIndex(Et+Ce+oe),J=Oe.domNode.textContent.slice(ut,Q).split(`
`);Ce=0,J.forEach(function(ae,le){C?(Oe.insertAt(ut+Ce,W.TAB),Ce+=W.TAB.length,le===0?Z+=W.TAB.length:oe+=W.TAB.length):ae.startsWith(W.TAB)&&(Oe.deleteAt(ut+Ce,W.TAB.length),Ce-=W.TAB.length,le===0?Z-=W.TAB.length:oe-=W.TAB.length),Ce+=ae.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(Z,oe,w.default.sources.SILENT)}}}}function U(C){return{key:C[0].toUpperCase(),shortKey:!0,handler:function(K,W){this.quill.format(C,!W.format[C],w.default.sources.USER)}}}function $(C){if(typeof C=="string"||typeof C=="number")return $({key:C});if((typeof C>"u"?"undefined":o(C))==="object"&&(C=(0,u.default)(C,!1)),typeof C.key=="string")if(j.keys[C.key.toUpperCase()]!=null)C.key=j.keys[C.key.toUpperCase()];else if(C.key.length===1)C.key=C.key.toUpperCase().charCodeAt(0);else return null;return C.shortKey&&(C[q]=C.shortKey,delete C.shortKey),C}r.default=j,r.SHORTKEY=q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,v){var g=[],w=!0,T=!1,S=void 0;try{for(var b=p[Symbol.iterator](),O;!(w=(O=b.next()).done)&&(g.push(O.value),!(v&&g.length===v));w=!0);}catch(I){T=!0,S=I}finally{try{!w&&b.return&&b.return()}finally{if(T)throw S}}return g}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:m(T,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),l=i(0),u=f(l),c=i(7),h=f(c);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function E(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function y(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var _=function(m){y(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(v,g){d(this,p);var w=E(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return w.selection=g,w.textNode=document.createTextNode(p.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,w);for(var T=this,S=0;T!=null&&T.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=p.CONTENTS.length,T.optimize(),T.formatAt(S,p.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),T=void 0,S=void 0,b=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var O=[g,w.start.offset,w.end.offset];T=O[0],S=O[1],b=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var I=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(T=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=p.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,b].map(function(k){return Math.max(0,Math.min(T.data.length,k-1))}),R=o(A,2);return S=R[0],b=R[1],{startNode:T,startOffset:S,endNode:T,endOffset:b}}}}},{key:"update",value:function(g,w){var T=this;if(g.some(function(b){return b.type==="characterData"&&b.target===T.textNode})){var S=this.restore();S&&(w.range=S)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&_(m.prototype,p),v&&_(m,v),m}}(),s=function _(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:_(w,p,v)}else{if("value"in g)return g.value;var T=g.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function h(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function f(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var d=function(_){f(m,_);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(v){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),E=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=E,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(_,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,m,p){return m&&y(_.prototype,m),p&&y(_,p),_}}(),s=function y(_,m,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,m);if(v===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:y(g,m,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function f(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var d=function(y){f(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(p,v){if(p!==this.statics.blotName||!v)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,p,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(p){var v=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,p);return p=this.sanitize(p),v.setAttribute("href",p),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return E(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),_}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function E(y,_){var m=document.createElement("a");m.href=y;var p=m.href.slice(0,m.href.indexOf(":"));return _.indexOf(p)>-1}r.default=d,r.sanitize=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&_(m.prototype,p),v&&_(m,v),m}}(),a=i(23),l=h(a),u=i(107),c=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function E(_,m){_.setAttribute(m,_.getAttribute(m)!=="true")}var y=function(){function _(m){var p=this;f(this,_),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),E(this.label,"aria-expanded"),E(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var v=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),p.hasAttribute("value")&&g.setAttribute("data-value",p.getAttribute("value")),p.textContent&&g.setAttribute("data-label",p.textContent),g.addEventListener("click",function(){v.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:v.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=c.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(g){var w=p.buildItem(g);v.appendChild(w),g.selected===!0&&p.selectItem(w)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(v){p.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(p!==g&&(g?.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var g=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),_}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=F(o),a=i(5),l=F(a),u=i(4),c=F(u),h=i(16),f=F(h),d=i(25),E=F(d),y=i(24),_=F(y),m=i(35),p=F(m),v=i(6),g=F(v),w=i(22),T=F(w),S=i(7),b=F(S),O=i(55),I=F(O),A=i(42),R=F(A),k=i(23),x=F(k);function F(q){return q&&q.__esModule?q:{default:q}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":E.default,"blots/cursor":_.default,"blots/embed":p.default,"blots/inline":g.default,"blots/scroll":T.default,"blots/text":b.default,"modules/clipboard":I.default,"modules/history":R.default,"modules/keyboard":x.default}),s.default.register(c.default,f.default,_.default,g.default,T.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var f=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&h)f.wrap(c,h);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);f.wrap(d),d.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?o.create("text",u):o.create(u,c),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),d=s.default.keys(this.domNode),E=a.default.keys(this.domNode);f.concat(d).concat(E).forEach(function(y){var _=l.query(y,l.Scope.ATTRIBUTE);_ instanceof o.default&&(h.attributes[_.attrName]=_)})},c.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(d){var E=f.attributes[d].value(f.domNode);h.format(d,E)})},c.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){f.attributes[d].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,d){return f[d]=h.attributes[d].value(h.domNode),f},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(d){h.classList.remove(d)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",d=f.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+h}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var d=f.split(":");return d[0].trim()})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:m(T,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=h(a),u=i(7),c=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function E(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var y="\uFEFF",_=function(m){E(p,m);function p(v){f(this,p);var g=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(p,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,T=void 0,S=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var b=this.prev.length();this.prev.insertAt(b,S),w={startNode:this.prev.domNode,startOffset:b+S.length}}else T=document.createTextNode(S),this.parent.insertBefore(l.default.create(T),this),w={startNode:T,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),w={startNode:this.next.domNode,startOffset:S.length}):(T=document.createTextNode(S),this.parent.insertBefore(l.default.create(T),this.next),w={startNode:T,startOffset:S.length}));return g.data=y,w}},{key:"update",value:function(g,w){var T=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===T.leftGuard||S.target===T.rightGuard)){var b=T.restore(S.target);b&&(w.range=b)}})}}]),p}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:m(T,v,g)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function h(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},E=new l.default.Attributor.Class("font","ql-font",d),y=function(m){f(p,m);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(g){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),_=new y("font","font-family",d);r.FontStyle=_,r.FontClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function v(g,w){for(var T=0;T<w.length;T++){var S=w[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,T){return w&&v(g.prototype,w),T&&v(g,T),g}}(),s=i(0),a=f(s),l=i(5),u=f(l),c=i(9),h=f(c);function f(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function E(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function y(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var _=function(v){y(g,v);function g(w,T){d(this,g);var S=E(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,T));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(b,O,I,A){b!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===u.default.sources.USER?S.record(O,I):S.transform(O))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(g,[{key:"change",value:function(T,S){if(this.stack[T].length!==0){var b=this.stack[T].pop();this.stack[S].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[T],u.default.sources.USER),this.ignoreChange=!1;var O=p(b[T]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,S){if(T.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(S),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var I=this.stack.undo.pop();b=b.compose(I.undo),T=I.redo.compose(T)}else this.lastRecorded=O;this.stack.undo.push({redo:T,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(S){S.undo=T.transform(S.undo,!0),S.redo=T.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=T.transform(S.undo,!0),S.redo=T.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(h.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(v){var g=v.ops[v.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function p(v){var g=v.reduce(function(T,S){return T+=S.delete||0,T},0),w=v.length()-g;return m(v)&&(w-=1),w}r.default=_,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function N(L,U){for(var $=0;$<U.length;$++){var C=U[$];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}return function(L,U,$){return U&&N(L.prototype,U),$&&N(L,$),L}}(),s=function N(L,U,$){L===null&&(L=Function.prototype);var C=Object.getOwnPropertyDescriptor(L,U);if(C===void 0){var V=Object.getPrototypeOf(L);return V===null?void 0:N(V,U,$)}else{if("value"in C)return C.value;var K=C.get;return K===void 0?void 0:K.call($)}},a=i(3),l=O(a),u=i(2),c=O(u),h=i(8),f=O(h),d=i(23),E=O(d),y=i(34),_=O(y),m=i(59),p=O(m),v=i(60),g=O(v),w=i(28),T=O(w),S=i(61),b=O(S);function O(N){return N&&N.__esModule?N:{default:N}}function I(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function A(N,L){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:N}function R(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(N,L):N.__proto__=L)}var k=[!1,"center","right","justify"],x=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],q=["1","2","3",!1],j=["small",!1,"large","huge"],H=function(N){R(L,N);function L(U,$){I(this,L);var C=A(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U,$)),V=function K(W){if(!document.body.contains(U.root))return document.body.removeEventListener("click",K);C.tooltip!=null&&!C.tooltip.root.contains(W.target)&&document.activeElement!==C.tooltip.textbox&&!C.quill.hasFocus()&&C.tooltip.hide(),C.pickers!=null&&C.pickers.forEach(function(Z){Z.container.contains(W.target)||Z.close()})};return U.emitter.listenDOM("click",document.body,V),C}return o(L,[{key:"addModule",value:function($){var C=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"addModule",this).call(this,$);return $==="toolbar"&&this.extendToolbar(C),C}},{key:"buildButtons",value:function($,C){$.forEach(function(V){var K=V.getAttribute("class")||"";K.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),C[W]!=null))if(W==="direction")V.innerHTML=C[W][""]+C[W].rtl;else if(typeof C[W]=="string")V.innerHTML=C[W];else{var Z=V.value||"";Z!=null&&C[W][Z]&&(V.innerHTML=C[W][Z])}})})}},{key:"buildPickers",value:function($,C){var V=this;this.pickers=$.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&P(W,k),new g.default(W,C.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Z=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&P(W,x,Z==="background"?"#ffffff":"#000000"),new p.default(W,C[Z])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?P(W,F):W.classList.contains("ql-header")?P(W,q):W.classList.contains("ql-size")&&P(W,j)),new T.default(W)});var K=function(){V.pickers.forEach(function(Z){Z.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,K)}}]),L}(_.default);H.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var L=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var $=new FileReader;$.onload=function(C){var V=L.quill.getSelection(!0);L.quill.updateContents(new c.default().retain(V.index).delete(V.length).insert({image:C.target.result}),f.default.sources.USER),L.quill.setSelection(V.index+1,f.default.sources.SILENT),U.value=""},$.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(N){R(L,N);function L(U,$){I(this,L);var C=A(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U,$));return C.textbox=C.root.querySelector('input[type="text"]'),C.listen(),C}return o(L,[{key:"listen",value:function(){var $=this;this.textbox.addEventListener("keydown",function(C){E.default.match(C,"enter")?($.save(),C.preventDefault()):E.default.match(C,"escape")&&($.cancel(),C.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),C!=null?this.textbox.value=C:$!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+$)||""),this.root.setAttribute("data-mode",$)}},{key:"restoreFocus",value:function(){var $=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=$}},{key:"save",value:function(){var $=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var C=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",$,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",$,f.default.sources.USER)),this.quill.root.scrollTop=C;break}case"video":$=D($);case"formula":{if(!$)break;var V=this.quill.getSelection(!0);if(V!=null){var K=V.index+V.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),$,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",f.default.sources.USER),this.quill.setSelection(K+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),L}(b.default);function D(N){var L=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return L?(L[1]||"https")+"://www.youtube.com/embed/"+L[2]+"?showinfo=0":(L=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(L[1]||"https")+"://player.vimeo.com/video/"+L[2]+"/":N}function P(N,L){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;L.forEach(function($){var C=document.createElement("option");$===U?C.setAttribute("selected","selected"):C.setAttribute("value",$),N.appendChild(C)})}r.BaseTooltip=M,r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],f=c[1],d,E=a-f,y=this.iterator(h);(d=y())&&E<a+l;){var _=d.length();a>E?u(d,a-E,Math.min(l,E+_-a)):u(d,0,Math.min(_,a+l-E)),E+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var E in d)d.hasOwnProperty(E)&&(f[E]=d[E])};return function(f,d){h(f,d);function E(){this.constructor=f}f.prototype=d===null?Object.create(d):(E.prototype=d.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){o(f,h);function f(d){var E=h.call(this,d)||this;return E.scroll=E,E.observer=new MutationObserver(function(y){E.update(y)}),E.observer.observe(E.domNode,l),E.attach(),E}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(d,E){this.update(),d===0&&E===this.length()?this.children.forEach(function(y){y.remove()}):h.prototype.deleteAt.call(this,d,E)},f.prototype.formatAt=function(d,E,y,_){this.update(),h.prototype.formatAt.call(this,d,E,y,_)},f.prototype.insertAt=function(d,E,y){this.update(),h.prototype.insertAt.call(this,d,E,y)},f.prototype.optimize=function(d,E){var y=this;d===void 0&&(d=[]),E===void 0&&(E={}),h.prototype.optimize.call(this,E);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)d.push(_.pop());for(var m=function(w,T){T===void 0&&(T=!0),!(w==null||w===y)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),T&&m(w.parent))},p=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(p),w.optimize(E))},v=d,g=0;v.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(w){var T=a.find(w.target,!0);T!=null&&(T.domNode===w.target&&(w.type==="childList"?(m(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(S){var b=a.find(S,!1);m(b,!1),b instanceof s.default&&b.children.forEach(function(O){m(O,!1)})})):w.type==="attributes"&&m(T.prev)),m(T))}),this.children.forEach(p),v=[].slice.call(this.observer.takeRecords()),_=v.slice();_.length>0;)d.push(_.pop())}},f.prototype.update=function(d,E){var y=this;E===void 0&&(E={}),d=d||this.observer.takeRecords(),d.map(function(_){var m=a.find(_.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[_],m):(m.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===y||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],E)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,E),this.optimize(d,E)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){c(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var f in c)if(c[f]!==h[f])return!1;return!0}var u=function(c){o(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return c.formats.call(this,f)},h.prototype.format=function(f,d){var E=this;f===this.statics.blotName&&!d?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(h.blotName,!0)),E.attributes.copy(y)}),this.unwrap()):c.prototype.format.call(this,f,d)},h.prototype.formatAt=function(f,d,E,y){if(this.formats()[E]!=null||a.query(E,a.Scope.ATTRIBUTE)){var _=this.isolate(f,d);_.format(E,y)}else c.prototype.formatAt.call(this,f,d,E,y)},h.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var E=this.next;E instanceof h&&E.prev===this&&l(d,E.formats())&&(E.moveChildren(this),E.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var f=a.query(c.blotName).tagName;if(h.tagName!==f)return u.formats.call(this,h)},c.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,h,f))},c.prototype.formatAt=function(h,f,d,E){a.query(d,a.Scope.BLOCK)!=null?this.format(d,E):u.prototype.formatAt.call(this,h,f,d,E)},c.prototype.insertAt=function(h,f,d){if(d==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,f,d);else{var E=this.split(h),y=a.create(f,d);E.parent.insertBefore(y,E)}},c.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,f,d){c===0&&h===this.length()?this.format(f,d):l.prototype.formatAt.call(this,c,h,f,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(h){var f=u.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},c.prototype.index=function(h,f){return this.domNode===h?f:-1},c.prototype.insertAt=function(h,f,d){d==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,f,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,f){return[this.domNode,h]},c.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(h,f){var d=this;h.some(function(E){return E.type==="characterData"&&E.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],f,d=0;d<c;d++)if(f=u[d],l.call(h,f,d,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,w,T){if(g==w)return g?[[s,g]]:[];(T<0||g.length<T)&&(T=null);var S=h(g,w),b=g.substring(0,S);g=g.substring(S),w=w.substring(S),S=f(g,w);var O=g.substring(g.length-S);g=g.substring(0,g.length-S),w=w.substring(0,w.length-S);var I=l(g,w);return b&&I.unshift([s,b]),O&&I.push([s,O]),E(I),T!=null&&(I=m(I,T)),I=p(I),I}function l(g,w){var T;if(!g)return[[o,w]];if(!w)return[[i,g]];var S=g.length>w.length?g:w,b=g.length>w.length?w:g,O=S.indexOf(b);if(O!=-1)return T=[[o,S.substring(0,O)],[s,b],[o,S.substring(O+b.length)]],g.length>w.length&&(T[0][0]=T[2][0]=i),T;if(b.length==1)return[[i,g],[o,w]];var I=d(g,w);if(I){var A=I[0],R=I[1],k=I[2],x=I[3],F=I[4],q=a(A,k),j=a(R,x);return q.concat([[s,F]],j)}return u(g,w)}function u(g,w){for(var T=g.length,S=w.length,b=Math.ceil((T+S)/2),O=b,I=2*b,A=new Array(I),R=new Array(I),k=0;k<I;k++)A[k]=-1,R[k]=-1;A[O+1]=0,R[O+1]=0;for(var x=T-S,F=x%2!=0,q=0,j=0,H=0,M=0,D=0;D<b;D++){for(var P=-D+q;P<=D-j;P+=2){var N=O+P,L;P==-D||P!=D&&A[N-1]<A[N+1]?L=A[N+1]:L=A[N-1]+1;for(var U=L-P;L<T&&U<S&&g.charAt(L)==w.charAt(U);)L++,U++;if(A[N]=L,L>T)j+=2;else if(U>S)q+=2;else if(F){var $=O+x-P;if($>=0&&$<I&&R[$]!=-1){var C=T-R[$];if(L>=C)return c(g,w,L,U)}}}for(var V=-D+H;V<=D-M;V+=2){var $=O+V,C;V==-D||V!=D&&R[$-1]<R[$+1]?C=R[$+1]:C=R[$-1]+1;for(var K=C-V;C<T&&K<S&&g.charAt(T-C-1)==w.charAt(S-K-1);)C++,K++;if(R[$]=C,C>T)M+=2;else if(K>S)H+=2;else if(!F){var N=O+x-V;if(N>=0&&N<I&&A[N]!=-1){var L=A[N],U=O+L-N;if(C=T-C,L>=C)return c(g,w,L,U)}}}}return[[i,g],[o,w]]}function c(g,w,T,S){var b=g.substring(0,T),O=w.substring(0,S),I=g.substring(T),A=w.substring(S),R=a(b,O),k=a(I,A);return R.concat(k)}function h(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var T=0,S=Math.min(g.length,w.length),b=S,O=0;T<b;)g.substring(O,b)==w.substring(O,b)?(T=b,O=T):S=b,b=Math.floor((S-T)/2+T);return b}function f(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var T=0,S=Math.min(g.length,w.length),b=S,O=0;T<b;)g.substring(g.length-b,g.length-O)==w.substring(w.length-b,w.length-O)?(T=b,O=T):S=b,b=Math.floor((S-T)/2+T);return b}function d(g,w){var T=g.length>w.length?g:w,S=g.length>w.length?w:g;if(T.length<4||S.length*2<T.length)return null;function b(j,H,M){for(var D=j.substring(M,M+Math.floor(j.length/4)),P=-1,N="",L,U,$,C;(P=H.indexOf(D,P+1))!=-1;){var V=h(j.substring(M),H.substring(P)),K=f(j.substring(0,M),H.substring(0,P));N.length<K+V&&(N=H.substring(P-K,P)+H.substring(P,P+V),L=j.substring(0,M-K),U=j.substring(M+V),$=H.substring(0,P-K),C=H.substring(P+V))}return N.length*2>=j.length?[L,U,$,C,N]:null}var O=b(T,S,Math.ceil(T.length/4)),I=b(T,S,Math.ceil(T.length/2)),A;if(!O&&!I)return null;I?O?A=O[4].length>I[4].length?O:I:A=I:A=O;var R,k,x,F;g.length>w.length?(R=A[0],k=A[1],x=A[2],F=A[3]):(x=A[0],F=A[1],R=A[2],k=A[3]);var q=A[4];return[R,k,x,F,q]}function E(g){g.push([s,""]);for(var w=0,T=0,S=0,b="",O="",I;w<g.length;)switch(g[w][0]){case o:S++,O+=g[w][1],w++;break;case i:T++,b+=g[w][1],w++;break;case s:T+S>1?(T!==0&&S!==0&&(I=h(O,b),I!==0&&(w-T-S>0&&g[w-T-S-1][0]==s?g[w-T-S-1][1]+=O.substring(0,I):(g.splice(0,0,[s,O.substring(0,I)]),w++),O=O.substring(I),b=b.substring(I)),I=f(O,b),I!==0&&(g[w][1]=O.substring(O.length-I)+g[w][1],O=O.substring(0,O.length-I),b=b.substring(0,b.length-I))),T===0?g.splice(w-S,T+S,[o,O]):S===0?g.splice(w-T,T+S,[i,b]):g.splice(w-T-S,T+S,[i,b],[o,O]),w=w-T-S+(T?1:0)+(S?1:0)+1):w!==0&&g[w-1][0]==s?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,S=0,T=0,b="",O="";break}g[g.length-1][1]===""&&g.pop();var A=!1;for(w=1;w<g.length-1;)g[w-1][0]==s&&g[w+1][0]==s&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),A=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),A=!0)),w++;A&&E(g)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function _(g,w){if(w===0)return[s,g];for(var T=0,S=0;S<g.length;S++){var b=g[S];if(b[0]===i||b[0]===s){var O=T+b[1].length;if(w===O)return[S+1,g];if(w<O){g=g.slice();var I=w-T,A=[b[0],b[1].slice(0,I)],R=[b[0],b[1].slice(I)];return g.splice(S,1,A,R),[S+1,g]}else T=O}}throw new Error("cursor_pos is out of bounds!")}function m(g,w){var T=_(g,w),S=T[1],b=T[0],O=S[b],I=S[b+1];if(O==null)return g;if(O[0]!==s)return g;if(I!=null&&O[1]+I[1]===I[1]+O[1])return S.splice(b,2,I,O),v(S,b,2);if(I!=null&&I[1].indexOf(O[1])===0){S.splice(b,2,[I[0],O[1]],[0,O[1]]);var A=I[1].slice(O[1].length);return A.length>0&&S.splice(b+2,0,[I[0],A]),v(S,b,3)}else return g}function p(g){for(var w=!1,T=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},S=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},b=2;b<g.length;b+=1)g[b-2][0]===s&&S(g[b-2][1])&&g[b-1][0]===i&&T(g[b-1][1])&&g[b][0]===o&&T(g[b][1])&&(w=!0,g[b-1][1]=g[b-2][1].slice(-1)+g[b-1][1],g[b][1]=g[b-2][1].slice(-1)+g[b][1],g[b-2][1]=g[b-2][1].slice(0,-1));if(!w)return g;for(var O=[],b=0;b<g.length;b+=1)g[b][1].length>0&&O.push(g[b]);return O}function v(g,w,T){for(var S=w+T-1;S>=0&&S>=w-1;S--)if(S+1<g.length){var b=g[S],O=g[S+1];b[0]===O[1]&&g.splice(S,2,[b[0],b[1]+O[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)i.call(h,f)&&c.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var f=o?o+c:c,d=this._events[f];if(h)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var E=0,y=d.length,_=new Array(y);E<y;E++)_[E]=d[E].fn;return _},l.prototype.emit=function(c,h,f,d,E,y){var _=o?o+c:c;if(!this._events[_])return!1;var m=this._events[_],p=arguments.length,v,g;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,f),!0;case 4:return m.fn.call(m.context,h,f,d),!0;case 5:return m.fn.call(m.context,h,f,d,E),!0;case 6:return m.fn.call(m.context,h,f,d,E,y),!0}for(g=1,v=new Array(p-1);g<p;g++)v[g-1]=arguments[g];m.fn.apply(m.context,v)}else{var w=m.length,T;for(g=0;g<w;g++)switch(m[g].once&&this.removeListener(c,m[g].fn,void 0,!0),p){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,h);break;case 3:m[g].fn.call(m[g].context,h,f);break;case 4:m[g].fn.call(m[g].context,h,f,d);break;default:if(!v)for(T=1,v=new Array(p-1);T<p;T++)v[T-1]=arguments[T];m[g].fn.apply(m[g].context,v)}}return!0},l.prototype.on=function(c,h,f){var d=new a(h,f||this),E=o?o+c:c;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],d]:this._events[E].push(d):(this._events[E]=d,this._eventsCount++),this},l.prototype.once=function(c,h,f){var d=new a(h,f||this,!0),E=o?o+c:c;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],d]:this._events[E].push(d):(this._events[E]=d,this._eventsCount++),this},l.prototype.removeListener=function(c,h,f,d){var E=o?o+c:c;if(!this._events[E])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[E],this;var y=this._events[E];if(y.fn)y.fn===h&&(!d||y.once)&&(!f||y.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[E]);else{for(var _=0,m=[],p=y.length;_<p;_++)(y[_].fn!==h||d&&!y[_].once||f&&y[_].context!==f)&&m.push(y[_]);m.length?this._events[E]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[E]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=o?o+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},s=function(){function Q(J,ae){var le=[],ne=!0,Se=!1,we=void 0;try{for(var Ie=J[Symbol.iterator](),Vt;!(ne=(Vt=Ie.next()).done)&&(le.push(Vt.value),!(ae&&le.length===ae));ne=!0);}catch(jt){Se=!0,we=jt}finally{try{!ne&&Ie.return&&Ie.return()}finally{if(Se)throw we}}return le}return function(J,ae){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return Q(J,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Q(J,ae){for(var le=0;le<ae.length;le++){var ne=ae[le];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(J,ne.key,ne)}}return function(J,ae,le){return ae&&Q(J.prototype,ae),le&&Q(J,le),J}}(),l=i(3),u=R(l),c=i(2),h=R(c),f=i(0),d=R(f),E=i(5),y=R(E),_=i(10),m=R(_),p=i(9),v=R(p),g=i(36),w=i(37),T=i(13),S=R(T),b=i(26),O=i(38),I=i(39),A=i(40);function R(Q){return Q&&Q.__esModule?Q:{default:Q}}function k(Q,J,ae){return J in Q?Object.defineProperty(Q,J,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Q[J]=ae,Q}function x(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function F(Q,J){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Q}function q(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,J):Q.__proto__=J)}var j=(0,m.default)("quill:clipboard"),H="__ql-matcher",M=[[Node.TEXT_NODE,ut],[Node.TEXT_NODE,Oe],["br",oe],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Et],["li",Te],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",me]],D=[g.AlignAttribute,O.DirectionAttribute].reduce(function(Q,J){return Q[J.keyName]=J,Q},{}),P=[g.AlignStyle,w.BackgroundStyle,b.ColorStyle,O.DirectionStyle,I.FontStyle,A.SizeStyle].reduce(function(Q,J){return Q[J.keyName]=J,Q},{}),N=function(Q){q(J,Q);function J(ae,le){x(this,J);var ne=F(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ae,le));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],M.concat(ne.options.matchers).forEach(function(Se){var we=s(Se,2),Ie=we[0],Vt=we[1];!le.matchVisual&&Vt===Ce||ne.addMatcher(Ie,Vt)}),ne}return a(J,[{key:"addMatcher",value:function(le,ne){this.matchers.push([le,ne])}},{key:"convert",value:function(le){if(typeof le=="string")return this.container.innerHTML=le.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[S.default.blotName]){var Se=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Se,k({},S.default.blotName,ne[S.default.blotName]))}var we=this.prepareMatching(),Ie=s(we,2),Vt=Ie[0],jt=Ie[1],Je=V(this.container,Vt,jt);return $(Je,`
`)&&Je.ops[Je.ops.length-1].attributes==null&&(Je=Je.compose(new h.default().retain(Je.length()-1).delete(1))),j.log("convert",this.container.innerHTML,Je),this.container.innerHTML="",Je}},{key:"dangerouslyPasteHTML",value:function(le,ne){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof le=="string")this.quill.setContents(this.convert(le),ne),this.quill.setSelection(0,y.default.sources.SILENT);else{var we=this.convert(ne);this.quill.updateContents(new h.default().retain(le).concat(we),Se),this.quill.setSelection(le+we.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(le){var ne=this;if(!(le.defaultPrevented||!this.quill.isEnabled())){var Se=this.quill.getSelection(),we=new h.default().retain(Se.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){we=we.concat(ne.convert()).delete(Se.length),ne.quill.updateContents(we,y.default.sources.USER),ne.quill.setSelection(we.length()-Se.length,y.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=Ie,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var le=this,ne=[],Se=[];return this.matchers.forEach(function(we){var Ie=s(we,2),Vt=Ie[0],jt=Ie[1];switch(Vt){case Node.TEXT_NODE:Se.push(jt);break;case Node.ELEMENT_NODE:ne.push(jt);break;default:[].forEach.call(le.container.querySelectorAll(Vt),function(Je){Je[H]=Je[H]||[],Je[H].push(jt)});break}}),[ne,Se]}}]),J}(v.default);N.DEFAULTS={matchers:[],matchVisual:!0};function L(Q,J,ae){return(typeof J>"u"?"undefined":o(J))==="object"?Object.keys(J).reduce(function(le,ne){return L(le,ne,J[ne])},Q):Q.reduce(function(le,ne){return ne.attributes&&ne.attributes[J]?le.push(ne):le.insert(ne.insert,(0,u.default)({},k({},J,ae),ne.attributes))},new h.default)}function U(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return Q[J]||(Q[J]=window.getComputedStyle(Q))}function $(Q,J){for(var ae="",le=Q.ops.length-1;le>=0&&ae.length<J.length;--le){var ne=Q.ops[le];if(typeof ne.insert!="string")break;ae=ne.insert+ae}return ae.slice(-1*J.length)===J}function C(Q){if(Q.childNodes.length===0)return!1;var J=U(Q);return["block","list-item"].indexOf(J.display)>-1}function V(Q,J,ae){return Q.nodeType===Q.TEXT_NODE?ae.reduce(function(le,ne){return ne(Q,le)},new h.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(le,ne){var Se=V(ne,J,ae);return ne.nodeType===Q.ELEMENT_NODE&&(Se=J.reduce(function(we,Ie){return Ie(ne,we)},Se),Se=(ne[H]||[]).reduce(function(we,Ie){return Ie(ne,we)},Se)),le.concat(Se)},new h.default):new h.default}function K(Q,J,ae){return L(ae,Q,!0)}function W(Q,J){var ae=d.default.Attributor.Attribute.keys(Q),le=d.default.Attributor.Class.keys(Q),ne=d.default.Attributor.Style.keys(Q),Se={};return ae.concat(le).concat(ne).forEach(function(we){var Ie=d.default.query(we,d.default.Scope.ATTRIBUTE);Ie!=null&&(Se[Ie.attrName]=Ie.value(Q),Se[Ie.attrName])||(Ie=D[we],Ie!=null&&(Ie.attrName===we||Ie.keyName===we)&&(Se[Ie.attrName]=Ie.value(Q)||void 0),Ie=P[we],Ie!=null&&(Ie.attrName===we||Ie.keyName===we)&&(Ie=P[we],Se[Ie.attrName]=Ie.value(Q)||void 0))}),Object.keys(Se).length>0&&(J=L(J,Se)),J}function Z(Q,J){var ae=d.default.query(Q);if(ae==null)return J;if(ae.prototype instanceof d.default.Embed){var le={},ne=ae.value(Q);ne!=null&&(le[ae.blotName]=ne,J=new h.default().insert(le,ae.formats(Q)))}else typeof ae.formats=="function"&&(J=L(J,ae.blotName,ae.formats(Q)));return J}function oe(Q,J){return $(J,`
`)||J.insert(`
`),J}function me(){return new h.default}function Te(Q,J){var ae=d.default.query(Q);if(ae==null||ae.blotName!=="list-item"||!$(J,`
`))return J;for(var le=-1,ne=Q.parentNode;!ne.classList.contains("ql-clipboard");)(d.default.query(ne)||{}).blotName==="list"&&(le+=1),ne=ne.parentNode;return le<=0?J:J.compose(new h.default().retain(J.length()-1).retain(1,{indent:le}))}function Oe(Q,J){return $(J,`
`)||(C(Q)||J.length()>0&&Q.nextSibling&&C(Q.nextSibling))&&J.insert(`
`),J}function Ce(Q,J){if(C(Q)&&Q.nextElementSibling!=null&&!$(J,`

`)){var ae=Q.offsetHeight+parseFloat(U(Q).marginTop)+parseFloat(U(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+ae*1.5&&J.insert(`
`)}return J}function Et(Q,J){var ae={},le=Q.style||{};return le.fontStyle&&U(Q).fontStyle==="italic"&&(ae.italic=!0),le.fontWeight&&(U(Q).fontWeight.startsWith("bold")||parseInt(U(Q).fontWeight)>=700)&&(ae.bold=!0),Object.keys(ae).length>0&&(J=L(J,ae)),parseFloat(le.textIndent||0)>0&&(J=new h.default().insert("	").concat(J)),J}function ut(Q,J){var ae=Q.data;if(Q.parentNode.tagName==="O:P")return J.insert(ae.trim());if(ae.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return J;if(!U(Q.parentNode).whiteSpace.startsWith("pre")){var le=function(Se,we){return we=we.replace(/[^\u00a0]/g,""),we.length<1&&Se?" ":we};ae=ae.replace(/\r\n/g," ").replace(/\n/g," "),ae=ae.replace(/\s\s+/g,le.bind(le,!0)),(Q.previousSibling==null&&C(Q.parentNode)||Q.previousSibling!=null&&C(Q.previousSibling))&&(ae=ae.replace(/^\s+/,le.bind(le,!1))),(Q.nextSibling==null&&C(Q.parentNode)||Q.nextSibling!=null&&C(Q.nextSibling))&&(ae=ae.replace(/\s+$/,le.bind(le,!1)))}return J.insert(ae)}r.default=N,r.matchAttributor=W,r.matchBlot=Z,r.matchNewline=Oe,r.matchSpacing=Ce,r.matchText=ut},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(y,_){for(var m=0;m<_.length;m++){var p=_[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,m){return _&&E(y.prototype,_),m&&E(y,m),y}}(),s=function E(y,_,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:E(v,_,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(m){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function A(R,k){var x=[],F=!0,q=!1,j=void 0;try{for(var H=R[Symbol.iterator](),M;!(F=(M=H.next()).done)&&(x.push(M.value),!(k&&x.length===k));F=!0);}catch(D){q=!0,j=D}finally{try{!F&&H.return&&H.return()}finally{if(q)throw j}}return x}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return A(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(R,k){for(var x=0;x<k.length;x++){var F=k[x];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,k,x){return k&&A(R.prototype,k),x&&A(R,x),R}}(),a=i(2),l=m(a),u=i(0),c=m(u),h=i(5),f=m(h),d=i(10),E=m(d),y=i(9),_=m(y);function m(A){return A&&A.__esModule?A:{default:A}}function p(A,R,k){return R in A?Object.defineProperty(A,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):A[R]=k,A}function v(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function g(A,R){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:A}function w(A,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);A.prototype=Object.create(R&&R.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(A,R):A.__proto__=R)}var T=(0,E.default)("quill:toolbar"),S=function(A){w(R,A);function R(k,x){v(this,R);var F=g(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k,x));if(Array.isArray(F.options.container)){var q=document.createElement("div");O(q,F.options.container),k.container.parentNode.insertBefore(q,k.container),F.container=q}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var j;return j=T.error("Container required for toolbar",F.options),g(F,j)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(H){F.addHandler(H,F.options.handlers[H])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(H){F.attach(H)}),F.quill.on(f.default.events.EDITOR_CHANGE,function(H,M){H===f.default.events.SELECTION_CHANGE&&F.update(M)}),F.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var H=F.quill.selection.getRange(),M=o(H,1),D=M[0];F.update(D)}),F}return s(R,[{key:"addHandler",value:function(x,F){this.handlers[x]=F}},{key:"attach",value:function(x){var F=this,q=[].find.call(x.classList,function(H){return H.indexOf("ql-")===0});if(q){if(q=q.slice(3),x.tagName==="BUTTON"&&x.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){T.warn("ignoring attaching to disabled format",q,x);return}if(c.default.query(q)==null){T.warn("ignoring attaching to nonexistent format",q,x);return}}var j=x.tagName==="SELECT"?"change":"click";x.addEventListener(j,function(H){var M=void 0;if(x.tagName==="SELECT"){if(x.selectedIndex<0)return;var D=x.options[x.selectedIndex];D.hasAttribute("selected")?M=!1:M=D.value||!1}else x.classList.contains("ql-active")?M=!1:M=x.value||!x.hasAttribute("value"),H.preventDefault();F.quill.focus();var P=F.quill.selection.getRange(),N=o(P,1),L=N[0];if(F.handlers[q]!=null)F.handlers[q].call(F,M);else if(c.default.query(q).prototype instanceof c.default.Embed){if(M=prompt("Enter "+q),!M)return;F.quill.updateContents(new l.default().retain(L.index).delete(L.length).insert(p({},q,M)),f.default.sources.USER)}else F.quill.format(q,M,f.default.sources.USER);F.update(L)}),this.controls.push([q,x])}}},{key:"update",value:function(x){var F=x==null?{}:this.quill.getFormat(x);this.controls.forEach(function(q){var j=o(q,2),H=j[0],M=j[1];if(M.tagName==="SELECT"){var D=void 0;if(x==null)D=null;else if(F[H]==null)D=M.querySelector("option[selected]");else if(!Array.isArray(F[H])){var P=F[H];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),D=M.querySelector('option[value="'+P+'"]')}D==null?(M.value="",M.selectedIndex=-1):D.selected=!0}else if(x==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var N=F[H]===M.getAttribute("value")||F[H]!=null&&F[H].toString()===M.getAttribute("value")||F[H]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",N)}else M.classList.toggle("ql-active",F[H]!=null)})}}]),R}(_.default);S.DEFAULTS={};function b(A,R,k){var x=document.createElement("button");x.setAttribute("type","button"),x.classList.add("ql-"+R),k!=null&&(x.value=k),A.appendChild(x)}function O(A,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(k){var x=document.createElement("span");x.classList.add("ql-formats"),k.forEach(function(F){if(typeof F=="string")b(x,F);else{var q=Object.keys(F)[0],j=F[q];Array.isArray(j)?I(x,q,j):b(x,q,j)}}),A.appendChild(x)})}function I(A,R,k){var x=document.createElement("select");x.classList.add("ql-"+R),k.forEach(function(F){var q=document.createElement("option");F!==!1?q.setAttribute("value",F):q.setAttribute("selected","selected"),x.appendChild(q)}),A.appendChild(x)}S.DEFAULTS={container:null,handlers:{clean:function(){var R=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var x=this.quill.getFormat();Object.keys(x).forEach(function(F){c.default.query(F,c.default.Scope.INLINE)!=null&&R.quill.format(F,!1)})}else this.quill.removeFormat(k,f.default.sources.USER)},direction:function(R){var k=this.quill.getFormat().align;R==="rtl"&&k==null?this.quill.format("align","right",f.default.sources.USER):!R&&k==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",R,f.default.sources.USER)},indent:function(R){var k=this.quill.getSelection(),x=this.quill.getFormat(k),F=parseInt(x.indent||0);if(R==="+1"||R==="-1"){var q=R==="+1"?1:-1;x.direction==="rtl"&&(q*=-1),this.quill.format("indent",F+q,f.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,f.default.sources.USER)},list:function(R){var k=this.quill.getSelection(),x=this.quill.getFormat(k);R==="check"?x.list==="checked"||x.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",R,f.default.sources.USER)}}},r.default=S,r.addControls=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(y,_){for(var m=0;m<_.length;m++){var p=_[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,m){return _&&E(y.prototype,_),m&&E(y,m),y}}(),s=function E(y,_,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:E(v,_,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(_,m){c(this,y);var p=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),p}return o(y,[{key:"buildItem",value:function(m){var p=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p);var v=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=g:v.style.fill=g)}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(y,_){for(var m=0;m<_.length;m++){var p=_[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,m){return _&&E(y.prototype,_),m&&E(y,m),y}}(),s=function E(y,_,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:E(v,_,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(_,m){c(this,y);var p=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=m[v.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(y,[{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),E=this.root.getBoundingClientRect(),y=0;if(E.right>d.right&&(y=d.right-E.right,this.root.style.left=h+y+"px"),E.left<d.left&&(y=d.left-E.left,this.root.style.left=h+y+"px"),E.bottom>d.bottom){var _=E.bottom-E.top,m=c.bottom-c.top+_;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function I(A,R){var k=[],x=!0,F=!1,q=void 0;try{for(var j=A[Symbol.iterator](),H;!(x=(H=j.next()).done)&&(k.push(H.value),!(R&&k.length===R));x=!0);}catch(M){F=!0,q=M}finally{try{!x&&j.return&&j.return()}finally{if(F)throw q}}return k}return function(A,R){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return I(A,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function I(A,R,k){A===null&&(A=Function.prototype);var x=Object.getOwnPropertyDescriptor(A,R);if(x===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:I(F,R,k)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(k)}},a=function(){function I(A,R){for(var k=0;k<R.length;k++){var x=R[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}return function(A,R,k){return R&&I(A.prototype,R),k&&I(A,k),A}}(),l=i(3),u=v(l),c=i(8),h=v(c),f=i(43),d=v(f),E=i(27),y=v(E),_=i(15),m=i(41),p=v(m);function v(I){return I&&I.__esModule?I:{default:I}}function g(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function w(I,A){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:I}function T(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(I,A):I.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(I){T(A,I);function A(R,k){g(this,A),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=S);var x=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,k));return x.quill.container.classList.add("ql-snow"),x}return a(A,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),p.default),this.tooltip=new O(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(x,F){k.handlers.link.call(k,!F.format.link)})}}]),A}(d.default);b.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var R=this.quill.getSelection();if(R==null||R.length==0)return;var k=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var x=this.quill.theme.tooltip;x.edit("link",k)}else this.quill.format("link",!1)}}}}});var O=function(I){T(A,I);function A(R,k){g(this,A);var x=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,k));return x.preview=x.root.querySelector("a.ql-preview"),x}return a(A,[{key:"listen",value:function(){var k=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(x){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),x.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(x){if(k.linkRange!=null){var F=k.linkRange;k.restoreFocus(),k.quill.formatText(F,"link",!1,h.default.sources.USER),delete k.linkRange}x.preventDefault(),k.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(x,F,q){if(x!=null){if(x.length===0&&q===h.default.sources.USER){var j=k.quill.scroll.descendant(y.default,x.index),H=o(j,2),M=H[0],D=H[1];if(M!=null){k.linkRange=new _.Range(x.index-D,M.length());var P=y.default.formats(M.domNode);k.preview.textContent=P,k.preview.setAttribute("href",P),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(f.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ne(o),a=i(36),l=i(38),u=i(64),c=i(65),h=ne(c),f=i(66),d=ne(f),E=i(67),y=ne(E),_=i(37),m=i(26),p=i(39),v=i(40),g=i(56),w=ne(g),T=i(68),S=ne(T),b=i(27),O=ne(b),I=i(69),A=ne(I),R=i(70),k=ne(R),x=i(71),F=ne(x),q=i(72),j=ne(q),H=i(73),M=ne(H),D=i(13),P=ne(D),N=i(74),L=ne(N),U=i(75),$=ne(U),C=i(57),V=ne(C),K=i(41),W=ne(K),Z=i(28),oe=ne(Z),me=i(59),Te=ne(me),Oe=i(60),Ce=ne(Oe),Et=i(61),ut=ne(Et),Q=i(108),J=ne(Q),ae=i(62),le=ne(ae);function ne(Se){return Se&&Se.__esModule?Se:{default:Se}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":v.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":v.SizeClass,"formats/blockquote":h.default,"formats/code-block":P.default,"formats/header":d.default,"formats/list":y.default,"formats/bold":w.default,"formats/code":D.Code,"formats/italic":S.default,"formats/link":O.default,"formats/script":A.default,"formats/strike":k.default,"formats/underline":F.default,"formats/image":j.default,"formats/video":M.default,"formats/list/item":E.ListItem,"modules/formula":L.default,"modules/syntax":$.default,"modules/toolbar":V.default,"themes/bubble":J.default,"themes/snow":le.default,"ui/icons":W.default,"ui/picker":oe.default,"ui/icon-picker":Ce.default,"ui/color-picker":Te.default,"ui/tooltip":ut.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(_,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,m,p){return m&&y(_.prototype,m),p&&y(_,p),_}}(),s=function y(_,m,p){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,m);if(v===void 0){var g=Object.getPrototypeOf(_);return g===null?void 0:y(g,m,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function h(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function f(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var d=function(y){f(_,y);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(p,v){if(v==="+1"||v==="-1"){var g=this.value(p)||0;v=v==="+1"?g+1:g-1}return v===0?(this.remove(p),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,p,v)}},{key:"canAdd",value:function(p,v){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,v)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,parseInt(v))}},{key:"value",value:function(p){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,p))||void 0}}]),_}(l.default.Attributor.Class),E=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(E,y){for(var _=0;_<y.length;_++){var m=y[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(E,m.key,m)}}return function(E,y,_){return y&&d(E.prototype,y),_&&d(E,_),E}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,E){if(!(d instanceof E))throw new TypeError("Cannot call a class as a function")}function c(d,E){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:d}function h(d,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);d.prototype=Object.create(E&&E.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(d,E):d.__proto__=E)}var f=function(d){h(E,d);function E(){return u(this,E),c(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),E}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(w,T){for(var S=0;S<T.length;S++){var b=T[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,S){return T&&g(w.prototype,T),S&&g(w,S),w}}(),s=function g(w,T,S){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:g(O,T,S)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(S)}},a=i(0),l=d(a),u=i(4),c=d(u),h=i(25),f=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function E(g,w,T){return w in g?Object.defineProperty(g,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[w]=T,g}function y(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function _(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function m(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var p=function(g){m(w,g);function w(){return y(this,w),_(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(S,b){S===v.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,b){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,b),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,S,b))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,S)}}]),w}(c.default);p.blotName="list-item",p.tagName="LI";var v=function(g){m(w,g),o(w,null,[{key:"create",value:function(S){var b=S==="ordered"?"OL":"UL",O=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,b);return(S==="checked"||S==="unchecked")&&O.setAttribute("data-checked",S==="checked"),O}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(T){y(this,w);var S=_(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,T)),b=function(I){if(I.target.parentNode===T){var A=S.statics.formats(T),R=l.default.find(I.target);A==="checked"?R.format("list","unchecked"):A==="unchecked"&&R.format("list","checked")}};return T.addEventListener("touchstart",b),T.addEventListener("mousedown",b),S}return o(w,[{key:"format",value:function(S,b){this.children.length>0&&this.children.tail.format(S,b)}},{key:"formats",value:function(){return E({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,b){if(S instanceof p)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,S,b);else{var O=b==null?this.length():b.offset(this),I=this.split(O);I.parent.insertBefore(S,I)}}},{key:"optimize",value:function(S){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,S);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);S.moveChildren(b),this.appendChild(b)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,S)}}]),w}(f.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[p],r.ListItem=p,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(y,_){for(var m=0;m<_.length;m++){var p=_[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,_,m){return _&&E(y.prototype,_),m&&E(y,m),y}}(),s=function E(y,_,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,_);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:E(v,_,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function f(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var d=function(E){f(y,E);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&_(m.prototype,p),v&&_(m,v),m}}(),s=function _(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:_(w,p,v)}else{if("value"in g)return g.value;var T=g.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function f(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function d(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var E=["alt","height","width"],y=function(_){d(m,_);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(v,g){E.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return typeof v=="string"&&g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return E.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&_(m.prototype,p),v&&_(m,v),m}}(),s=function _(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:_(w,p,v)}else{if("value"in g)return g.value;var T=g.get;return T===void 0?void 0:T.call(v)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function f(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function d(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var E=["height","width"],y=function(_){d(m,_);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(v,g){E.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return E.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function v(g,w){for(var T=0;T<w.length;T++){var S=w[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,w,T){return w&&v(g.prototype,w),T&&v(g,T),g}}(),s=function v(g,w,T){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,w);if(S===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:v(b,w,T)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(T)}},a=i(35),l=d(a),u=i(5),c=d(u),h=i(9),f=d(h);function d(v){return v&&v.__esModule?v:{default:v}}function E(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function y(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function _(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var m=function(v){_(g,v);function g(){return E(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(T){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",T)),S}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(v){_(g,v),o(g,null,[{key:"register",value:function(){c.default.register(m,!0)}}]);function g(){E(this,g);var w=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(f.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function T(S,b){for(var O=0;O<b.length;O++){var I=b[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,b,O){return b&&T(S.prototype,b),O&&T(S,O),S}}(),s=function T(S,b,O){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,b);if(I===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:T(A,b,O)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(O)}},a=i(0),l=y(a),u=i(5),c=y(u),h=i(9),f=y(h),d=i(13),E=y(d);function y(T){return T&&T.__esModule?T:{default:T}}function _(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function m(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function p(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var v=function(T){p(S,T);function S(){return _(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),S}(E.default);v.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(T){p(S,T),o(S,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(v,!0)}}]);function S(b,O){_(this,S);var I=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,b,O));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return I.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){I.highlight(),A=null},I.options.interval)}),I.highlight(),I}return o(S,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(A){A.highlight(O.options.highlight)}),this.quill.update(c.default.sources.SILENT),I!=null&&this.quill.setSelection(I,c.default.sources.SILENT)}}}]),S}(f.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var S=window.hljs.highlightAuto(T);return S.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(b,O,I){b===null&&(b=Function.prototype);var A=Object.getOwnPropertyDescriptor(b,O);if(A===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:S(R,O,I)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(I)}},s=function(){function S(b,O){for(var I=0;I<O.length;I++){var A=O[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,O,I){return O&&S(b.prototype,O),I&&S(b,I),b}}(),a=i(3),l=_(a),u=i(8),c=_(u),h=i(43),f=_(h),d=i(15),E=i(41),y=_(E);function _(S){return S&&S.__esModule?S:{default:S}}function m(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}function p(S,b){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:S}function v(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);S.prototype=Object.create(b&&b.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(S,b):S.__proto__=b)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(S){v(b,S);function b(O,I){m(this,b),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=g);var A=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,I));return A.quill.container.classList.add("ql-bubble"),A}return s(b,[{key:"extendToolbar",value:function(I){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),y.default)}}]),b}(f.default);w.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(S){v(b,S);function b(O,I){m(this,b);var A=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,I));return A.quill.on(c.default.events.EDITOR_CHANGE,function(R,k,x,F){if(R===c.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&F===c.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var q=A.quill.getLines(k.index,k.length);if(q.length===1)A.position(A.quill.getBounds(k));else{var j=q[q.length-1],H=A.quill.getIndex(j),M=Math.min(j.length()-1,k.index+k.length-H),D=A.quill.getBounds(new d.Range(H,M));A.position(D)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return s(b,[{key:"listen",value:function(){var I=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var A=I.quill.getSelection();A!=null&&I.position(I.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var A=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,I),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",A===0)return A;R.style.marginLeft=-1*A-R.offsetWidth/2+"px"}}]),b}(h.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=T,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(aR);var eB=aR.exports,tB=Cn&&Cn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xf=Cn&&Cn.__assign||function(){return xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xf.apply(this,arguments)},nB=Cn&&Cn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Kh=Cn&&Cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},pr=Kh(X),rB=Kh(Zf),Da=Kh(Z6),EE=Kh(eB),iB=function(t){tB(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,h,f;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(pr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(pr.default.Children.count(n.children)){var i=pr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),nB(this.cleanProps,this.dirtyProps).some(function(l){return!Da.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Da.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),wE(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new EE.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Da.default(n.ops,r.ops):Da.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),wE(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=rB.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return pr.default.Children.count(i)?pr.default.cloneElement(pr.default.Children.only(i),a):o?pr.default.createElement("pre",xf({},a)):pr.default.createElement("div",xf({},a))},e.prototype.render=function(){var n;return pr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,d=h&&!n;Da.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=EE.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(pr.default.Component);function wE(t){Promise.resolve().then(t)}var oB=iB;const sB=eu(oB),aB=["font","header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","align","color","background","size","h1","image","width"];let lR="";const lB=({mdfyContent:t})=>{const[e,n]=X.useState("");t&&console.log(t);const r=X.useMemo(()=>({toolbar:{container:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}),[]);return X.useEffect(()=>{lR=e},[e]),ee.jsx(ee.Fragment,{children:ee.jsx(sB,{theme:"snow",modules:r,formats:aB,onChange:n,defaultValue:t||e})})},uB=()=>{const t=au(),{name:e}=Mi(),[n,r]=X.useState(""),[i,o]=X.useState("");X.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("seq");u&&(async()=>{const c=await Wb(u);r(c.title),o(c.content)})(),console.log("viewSeq",u)},[]);const s=async l=>{l.preventDefault(),await A3({name:e,date:new Date,title:n,content:lR})&&(alert("글이 작성 되었습니다."),t("/story"))},a=()=>{history.back()};return ee.jsx("div",{className:"storyRegist",children:ee.jsxs("form",{onSubmit:s,children:[ee.jsxs("fieldset",{children:[ee.jsx("strong",{className:"title",children:"Subject"}),ee.jsx("input",{type:"text",name:"",value:n,onChange:l=>{r(l.target.value)}})]}),ee.jsxs("fieldset",{children:[ee.jsx("strong",{className:"title",children:"Content"}),ee.jsx(lB,{mdfyContent:i})]}),ee.jsxs("div",{className:"btns",children:[ee.jsx("button",{title:"저장",type:"submit",className:"btnSave",children:"저장"}),ee.jsx("button",{title:"취소",type:"button",className:"btnCancel",onClick:a,children:"X"})]})]})})},cB=async()=>await ho.authStateReady().then(async()=>(await T3(3e3),null)).catch(t=>(console.log("loader err",t),null)),fB="_wrapper_10g95_1",hB="_themeDark_10g95_17",dB="_themeSmall_10g95_22",pB={wrapper:fB,themeDark:hB,themeSmall:dB},mB=()=>ee.jsx("div",{id:pB.wrapper,children:ee.jsx("br",{})}),gB=()=>(X.useEffect(()=>{Mi.getState().getUser()||alert("로그인이 필요한 서비스입니다.")},[]),Mi.getState().getUser()?ee.jsx(ny,{}):ee.jsx(ty,{to:"/login",replace:!0})),yB=()=>(X.useEffect(()=>{Mi.getState().getUser()||alert("관리자만 접근 가능한 페이지 입니다.")},[]),Mi.getState().getUser()?ee.jsx(ny,{}):ee.jsx(ty,{to:"/login",replace:!0})),vB="_wrapper_170wl_1",_B="_btns_170wl_18",TE={wrapper:vB,btns:_B},EB=({status:t=""})=>{const e=au();return ee.jsxs("div",{className:TE.wrapper,children:[ee.jsxs("h1",{children:["Error ",ee.jsx("strong",{children:t})]}),ee.jsxs("div",{className:TE.btns,children:[ee.jsx("button",{onClick:()=>e("/"),children:"홈"}),ee.jsx("button",{children:"돌아가기"})]})]})},wB=[{path:"/",element:ee.jsx(GV,{}),errorElement:ee.jsx(EB,{status:"404"}),children:[{path:"/login",loader:QV,element:ee.jsx(ZV,{})},{path:"/story",children:[{path:"",element:ee.jsx(ty,{to:"list"})},{path:"list",element:ee.jsx(I3,{})},{path:"view",element:ee.jsx(b3,{})},{path:"regist",element:ee.jsx(yB,{}),children:[{path:"",element:ee.jsx(uB,{})}]}]},{path:"/board",element:ee.jsx(gB,{}),loader:cB,children:[{path:"",element:ee.jsx(mB,{})}]},{path:"/works",children:[]}]}],TB=SC(wB,{basename:"/vite-react-ts/"}),SB=()=>ee.jsx(CC,{router:TB,fallbackElement:ee.jsx("span",{children:"Content Loading..."})});var it="-ms-",cl="-moz-",Ge="-webkit-",uR="comm",Gh="rule",Sv="decl",AB="@import",cR="@keyframes",IB="@layer",fR=Math.abs,Av=String.fromCharCode,Qm=Object.assign;function bB(t,e){return Bt(t,0)^45?(((e<<2^Bt(t,0))<<2^Bt(t,1))<<2^Bt(t,2))<<2^Bt(t,3):0}function hR(t){return t.trim()}function xr(t,e){return(t=e.exec(t))?t[0]:t}function Me(t,e,n){return t.replace(e,n)}function Nc(t,e,n){return t.indexOf(e,n)}function Bt(t,e){return t.charCodeAt(e)|0}function Fs(t,e,n){return t.slice(e,n)}function gr(t){return t.length}function dR(t){return t.length}function Wa(t,e){return e.push(t),t}function RB(t,e){return t.map(e).join("")}function SE(t,e){return t.filter(function(n){return!xr(n,e)})}var Qh=1,Vs=1,pR=0,Qn=0,kt=0,ua="";function Yh(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Qh,column:Vs,length:s,return:"",siblings:a}}function ui(t,e){return Qm(Yh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Vo(t){for(;t.root;)t=ui(t.root,{children:[t]});Wa(t,t.siblings)}function PB(){return kt}function OB(){return kt=Qn>0?Bt(ua,--Qn):0,Vs--,kt===10&&(Vs=1,Qh--),kt}function ar(){return kt=Qn<pR?Bt(ua,Qn++):0,Vs++,kt===10&&(Vs=1,Qh++),kt}function po(){return Bt(ua,Qn)}function xc(){return Qn}function Xh(t,e){return Fs(ua,t,e)}function Ym(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kB(t){return Qh=Vs=1,pR=gr(ua=t),Qn=0,[]}function CB(t){return ua="",t}function sp(t){return hR(Xh(Qn-1,Xm(t===91?t+2:t===40?t+1:t)))}function NB(t){for(;(kt=po())&&kt<33;)ar();return Ym(t)>2||Ym(kt)>3?"":" "}function xB(t,e){for(;--e&&ar()&&!(kt<48||kt>102||kt>57&&kt<65||kt>70&&kt<97););return Xh(t,xc()+(e<6&&po()==32&&ar()==32))}function Xm(t){for(;ar();)switch(kt){case t:return Qn;case 34:case 39:t!==34&&t!==39&&Xm(kt);break;case 40:t===41&&Xm(t);break;case 92:ar();break}return Qn}function DB(t,e){for(;ar()&&t+kt!==57;)if(t+kt===84&&po()===47)break;return"/*"+Xh(e,Qn-1)+"*"+Av(t===47?t:ar())}function LB(t){for(;!Ym(po());)ar();return Xh(t,Qn)}function MB(t){return CB(Dc("",null,null,null,[""],t=kB(t),0,[0],t))}function Dc(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,h=s,f=0,d=0,E=0,y=1,_=1,m=1,p=0,v="",g=i,w=o,T=r,S=v;_;)switch(E=p,p=ar()){case 40:if(E!=108&&Bt(S,h-1)==58){Nc(S+=Me(sp(p),"&","&\f"),"&\f",fR(u?a[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:S+=sp(p);break;case 9:case 10:case 13:case 32:S+=NB(E);break;case 92:S+=xB(xc()-1,7);continue;case 47:switch(po()){case 42:case 47:Wa(FB(DB(ar(),xc()),e,n,l),l);break;default:S+="/"}break;case 123*y:a[u++]=gr(S)*m;case 125*y:case 59:case 0:switch(p){case 0:case 125:_=0;case 59+c:m==-1&&(S=Me(S,/\f/g,"")),d>0&&gr(S)-h&&Wa(d>32?IE(S+";",r,n,h-1,l):IE(Me(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Wa(T=AE(S,e,n,u,c,i,a,v,g=[],w=[],h,o),o),p===123)if(c===0)Dc(S,e,T,T,g,o,h,a,w);else switch(f===99&&Bt(S,3)===110?100:f){case 100:case 108:case 109:case 115:Dc(t,T,T,r&&Wa(AE(t,T,T,0,0,i,a,v,i,g=[],h,w),w),i,w,h,a,r?g:w);break;default:Dc(S,T,T,T,[""],w,0,a,w)}}u=c=d=0,y=m=1,v=S="",h=s;break;case 58:h=1+gr(S),d=E;default:if(y<1){if(p==123)--y;else if(p==125&&y++==0&&OB()==125)continue}switch(S+=Av(p),p*y){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(gr(S)-1)*m,m=1;break;case 64:po()===45&&(S+=sp(ar())),f=po(),c=h=gr(v=S+=LB(xc())),p++;break;case 45:E===45&&gr(S)==2&&(y=0)}}return o}function AE(t,e,n,r,i,o,s,a,l,u,c,h){for(var f=i-1,d=i===0?o:[""],E=dR(d),y=0,_=0,m=0;y<r;++y)for(var p=0,v=Fs(t,f+1,f=fR(_=s[y])),g=t;p<E;++p)(g=hR(_>0?d[p]+" "+v:Me(v,/&\f/g,d[p])))&&(l[m++]=g);return Yh(t,e,n,i===0?Gh:a,l,u,c,h)}function FB(t,e,n,r){return Yh(t,e,n,uR,Av(PB()),Fs(t,2,-2),0,r)}function IE(t,e,n,r,i){return Yh(t,e,n,Sv,Fs(t,0,r),Fs(t,r+1,-1),r,i)}function mR(t,e,n){switch(bB(t,e)){case 5103:return Ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+t+t;case 4789:return cl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+t+cl+t+it+t+t;case 5936:switch(Bt(t,e+11)){case 114:return Ge+t+it+Me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ge+t+it+Me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ge+t+it+Me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ge+t+it+t+t;case 6165:return Ge+t+it+"flex-"+t+t;case 5187:return Ge+t+Me(t,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+it+"flex-$1$2")+t;case 5443:return Ge+t+it+"flex-item-"+Me(t,/flex-|-self/g,"")+(xr(t,/flex-|baseline/)?"":it+"grid-row-"+Me(t,/flex-|-self/g,""))+t;case 4675:return Ge+t+it+"flex-line-pack"+Me(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ge+t+it+Me(t,"shrink","negative")+t;case 5292:return Ge+t+it+Me(t,"basis","preferred-size")+t;case 6060:return Ge+"box-"+Me(t,"-grow","")+Ge+t+it+Me(t,"grow","positive")+t;case 4554:return Ge+Me(t,/([^-])(transform)/g,"$1"+Ge+"$2")+t;case 6187:return Me(Me(Me(t,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),t,"")+t;case 5495:case 3959:return Me(t,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Me(Me(t,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+t+t;case 4200:if(!xr(t,/flex-|baseline/))return it+"grid-column-align"+Fs(t,e)+t;break;case 2592:case 3360:return it+Me(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,xr(r.props,/grid-\w+-end/)})?~Nc(t+(n=n[e].value),"span",0)?t:it+Me(t,"-start","")+t+it+"grid-row-span:"+(~Nc(n,"span",0)?xr(n,/\d+/):+xr(n,/\d+/)-+xr(t,/\d+/))+";":it+Me(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return xr(r.props,/grid-\w+-start/)})?t:it+Me(Me(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Me(t,/(.+)-inline(.+)/,Ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gr(t)-1-e>6)switch(Bt(t,e+1)){case 109:if(Bt(t,e+4)!==45)break;case 102:return Me(t,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+cl+(Bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Nc(t,"stretch",0)?mR(Me(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Me(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,u){return it+i+":"+o+u+(s?it+i+"-span:"+(a?l:+l-+o)+u:"")+t});case 4949:if(Bt(t,e+6)===121)return Me(t,":",":"+Ge)+t;break;case 6444:switch(Bt(t,Bt(t,14)===45?18:11)){case 120:return Me(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ge+(Bt(t,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+it+"$2box$3")+t;case 100:return Me(t,":",":"+it)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Me(t,"scroll-","scroll-snap-")+t}return t}function Df(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function VB(t,e,n,r){switch(t.type){case IB:if(t.children.length)break;case AB:case Sv:return t.return=t.return||t.value;case uR:return"";case cR:return t.return=t.value+"{"+Df(t.children,r)+"}";case Gh:if(!gr(t.value=t.props.join(",")))return""}return gr(n=Df(t.children,r))?t.return=t.value+"{"+n+"}":""}function jB(t){var e=dR(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function $B(t){return function(e){e.root||(e=e.return)&&t(e)}}function UB(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Sv:t.return=mR(t.value,t.length,n);return;case cR:return Df([ui(t,{value:Me(t.value,"@","@"+Ge)})],r);case Gh:if(t.length)return RB(n=t.props,function(i){switch(xr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Vo(ui(t,{props:[Me(i,/:(read-\w+)/,":"+cl+"$1")]})),Vo(ui(t,{props:[i]})),Qm(t,{props:SE(n,r)});break;case"::placeholder":Vo(ui(t,{props:[Me(i,/:(plac\w+)/,":"+Ge+"input-$1")]})),Vo(ui(t,{props:[Me(i,/:(plac\w+)/,":"+cl+"$1")]})),Vo(ui(t,{props:[Me(i,/:(plac\w+)/,it+"input-$1")]})),Vo(ui(t,{props:[i]})),Qm(t,{props:SE(n,r)});break}return""})}}var BB={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},On={},js=typeof process<"u"&&On!==void 0&&(On.REACT_APP_SC_ATTR||On.SC_ATTR)||"data-styled",gR="active",yR="data-styled-version",Jh="6.1.8",Iv=`/*!sc*/
`,bv=typeof window<"u"&&"HTMLElement"in window,qB=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&On.REACT_APP_SC_DISABLE_SPEEDY!==""?On.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&On.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&On!==void 0&&On.SC_DISABLE_SPEEDY!==void 0&&On.SC_DISABLE_SPEEDY!==""&&On.SC_DISABLE_SPEEDY!=="false"&&On.SC_DISABLE_SPEEDY),zB={},Zh=Object.freeze([]),$s=Object.freeze({});function vR(t,e,n){return n===void 0&&(n=$s),t.theme!==n.theme&&t.theme||e||n.theme}var _R=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),HB=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WB=/(^-|-$)/g;function bE(t){return t.replace(HB,"-").replace(WB,"")}var KB=/(a)(d)/gi,lc=52,RE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Jm(t){var e,n="";for(e=Math.abs(t);e>lc;e=e/lc|0)n=RE(e%lc)+n;return(RE(e%lc)+n).replace(KB,"$1-$2")}var ap,ER=5381,is=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},wR=function(t){return is(ER,t)};function TR(t){return Jm(wR(t)>>>0)}function GB(t){return t.displayName||t.name||"Component"}function lp(t){return typeof t=="string"&&!0}var SR=typeof Symbol=="function"&&Symbol.for,AR=SR?Symbol.for("react.memo"):60115,QB=SR?Symbol.for("react.forward_ref"):60112,YB={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XB={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JB=((ap={})[QB]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ap[AR]=IR,ap);function PE(t){return("type"in(e=t)&&e.type.$$typeof)===AR?IR:"$$typeof"in t?JB[t.$$typeof]:YB;var e}var ZB=Object.defineProperty,eq=Object.getOwnPropertyNames,OE=Object.getOwnPropertySymbols,tq=Object.getOwnPropertyDescriptor,nq=Object.getPrototypeOf,kE=Object.prototype;function bR(t,e,n){if(typeof e!="string"){if(kE){var r=nq(e);r&&r!==kE&&bR(t,r,n)}var i=eq(e);OE&&(i=i.concat(OE(e)));for(var o=PE(t),s=PE(e),a=0;a<i.length;++a){var l=i[a];if(!(l in XB||n&&n[l]||s&&l in s||o&&l in o)){var u=tq(e,l);try{ZB(t,l,u)}catch{}}}}return t}function Us(t){return typeof t=="function"}function Rv(t){return typeof t=="object"&&"styledComponentId"in t}function ao(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Zm(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Zl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function eg(t,e,n){if(n===void 0&&(n=!1),!n&&!Zl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=eg(t[r],e[r]);else if(Zl(e))for(var r in e)t[r]=eg(t[r],e[r]);return t}function Pv(t,e){Object.defineProperty(t,"toString",{value:e})}function Pu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var rq=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Pu(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(Iv);return n},t}(),Lc=new Map,Lf=new Map,Mc=1,uc=function(t){if(Lc.has(t))return Lc.get(t);for(;Lf.has(Mc);)Mc++;var e=Mc++;return Lc.set(t,e),Lf.set(e,t),e},iq=function(t,e){Mc=e+1,Lc.set(t,e),Lf.set(e,t)},oq="style[".concat(js,"][").concat(yR,'="').concat(Jh,'"]'),sq=new RegExp("^".concat(js,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),aq=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},lq=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Iv),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(sq);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(iq(c,u),aq(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function uq(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var RR=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(js,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(js,gR),r.setAttribute(yR,Jh);var s=uq();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},cq=function(){function t(e){this.element=RR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Pu(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),fq=function(){function t(e){this.element=RR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),hq=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),CE=bv,dq={isServer:!bv,useCSSOMInjection:!qB},Mf=function(){function t(e,n,r){e===void 0&&(e=$s),n===void 0&&(n={});var i=this;this.options=ln(ln({},dq),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&bv&&CE&&(CE=!1,function(o){for(var s=document.querySelectorAll(oq),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(js)!==gR&&(lq(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Pv(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",u=function(h){var f=function(m){return Lf.get(m)}(h);if(f===void 0)return"continue";var d=o.names.get(f),E=s.getGroup(h);if(d===void 0||E.length===0)return"continue";var y="".concat(js,".g").concat(h,'[id="').concat(f,'"]'),_="";d!==void 0&&d.forEach(function(m){m.length>0&&(_+="".concat(m,","))}),l+="".concat(E).concat(y,'{content:"').concat(_,'"}').concat(Iv)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return uc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ln(ln({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new hq(i):r?new cq(i):new fq(i)}(this.options),new rq(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(uc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(uc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(uc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),pq=/&/g,mq=/^\s*\/\/.*$/gm;function PR(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=PR(n.children,e)),n})}function gq(t){var e,n,r,i=t===void 0?$s:t,o=i.options,s=o===void 0?$s:o,a=i.plugins,l=a===void 0?Zh:a,u=function(f,d,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(e):f},c=l.slice();c.push(function(f){f.type===Gh&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(pq,n).replace(r,u))}),s.prefix&&c.push(UB),c.push(VB);var h=function(f,d,E,y){d===void 0&&(d=""),E===void 0&&(E=""),y===void 0&&(y="&"),e=y,n=d,r=new RegExp("\\".concat(n,"\\b"),"g");var _=f.replace(mq,""),m=MB(E||d?"".concat(E," ").concat(d," { ").concat(_," }"):_);s.namespace&&(m=PR(m,s.namespace));var p=[];return Df(m,jB(c.concat($B(function(v){return p.push(v)})))),p};return h.hash=l.length?l.reduce(function(f,d){return d.name||Pu(15),is(f,d.name)},ER).toString():"",h}var yq=new Mf,tg=gq(),OR=rr.createContext({shouldForwardProp:void 0,styleSheet:yq,stylis:tg});OR.Consumer;rr.createContext(void 0);function ng(){return X.useContext(OR)}var vq=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=tg);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Pv(this,function(){throw Pu(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=tg),this.name+e.hash},t}(),_q=function(t){return t>="A"&&t<="Z"};function NE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;_q(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var kR=function(t){return t==null||t===!1||t===""},CR=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!kR(o)&&(Array.isArray(o)&&o.isCss||Us(o)?r.push("".concat(NE(i),":"),o,";"):Zl(o)?r.push.apply(r,Nl(Nl(["".concat(i," {")],CR(o),!1),["}"],!1)):r.push("".concat(NE(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in BB||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function xi(t,e,n,r){if(kR(t))return[];if(Rv(t))return[".".concat(t.styledComponentId)];if(Us(t)){if(!Us(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return xi(i,e,n,r)}var o;return t instanceof vq?n?(t.inject(n,r),[t.getName(r)]):[t]:Zl(t)?CR(t):Array.isArray(t)?Array.prototype.concat.apply(Zh,t.map(function(s){return xi(s,e,n,r)})):[t.toString()]}function NR(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Us(n)&&!Rv(n))return!1}return!0}var Eq=wR(Jh),wq=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&NR(e),this.componentId=n,this.baseHash=is(Eq,n),this.baseStyle=r,Mf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ao(i,this.staticRulesId);else{var o=Zm(xi(this.rules,e,n,r)),s=Jm(is(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=ao(i,s),this.staticRulesId=s}else{for(var l=is(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var f=Zm(xi(h,e,n,r));l=is(l,f+c),u+=f}}if(u){var d=Jm(l>>>0);n.hasNameForId(this.componentId,d)||n.insertRules(this.componentId,d,r(u,".".concat(d),void 0,this.componentId)),i=ao(i,d)}}return i},t}(),Ov=rr.createContext(void 0);Ov.Consumer;var up={};function Tq(t,e,n){var r=Rv(t),i=t,o=!lp(t),s=e.attrs,a=s===void 0?Zh:s,l=e.componentId,u=l===void 0?function(g,w){var T=typeof g!="string"?"sc":bE(g);up[T]=(up[T]||0)+1;var S="".concat(T,"-").concat(TR(Jh+T+up[T]));return w?"".concat(w,"-").concat(S):S}(e.displayName,e.parentComponentId):l,c=e.displayName,h=c===void 0?function(g){return lp(g)?"styled.".concat(g):"Styled(".concat(GB(g),")")}(t):c,f=e.displayName&&e.componentId?"".concat(bE(e.displayName),"-").concat(e.componentId):e.componentId||u,d=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,E=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;E=function(g,w){return y(g,w)&&_(g,w)}}else E=y}var m=new wq(n,f,r?i.componentStyle:void 0);function p(g,w){return function(T,S,b){var O=T.attrs,I=T.componentStyle,A=T.defaultProps,R=T.foldedComponentIds,k=T.styledComponentId,x=T.target,F=rr.useContext(Ov),q=ng(),j=T.shouldForwardProp||q.shouldForwardProp,H=vR(S,F,A)||$s,M=function($,C,V){for(var K,W=ln(ln({},C),{className:void 0,theme:V}),Z=0;Z<$.length;Z+=1){var oe=Us(K=$[Z])?K(W):K;for(var me in oe)W[me]=me==="className"?ao(W[me],oe[me]):me==="style"?ln(ln({},W[me]),oe[me]):oe[me]}return C.className&&(W.className=ao(W.className,C.className)),W}(O,S,H),D=M.as||x,P={};for(var N in M)M[N]===void 0||N[0]==="$"||N==="as"||N==="theme"&&M.theme===H||(N==="forwardedAs"?P.as=M.forwardedAs:j&&!j(N,D)||(P[N]=M[N]));var L=function($,C){var V=ng(),K=$.generateAndInjectStyles(C,V.styleSheet,V.stylis);return K}(I,M),U=ao(R,k);return L&&(U+=" "+L),M.className&&(U+=" "+M.className),P[lp(D)&&!_R.has(D)?"class":"className"]=U,P.ref=b,X.createElement(D,P)}(v,g,w)}p.displayName=h;var v=rr.forwardRef(p);return v.attrs=d,v.componentStyle=m,v.displayName=h,v.shouldForwardProp=E,v.foldedComponentIds=r?ao(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=f,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=r?function(w){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];for(var b=0,O=T;b<O.length;b++)eg(w,O[b],!0);return w}({},i.defaultProps,g):g}}),Pv(v,function(){return".".concat(v.styledComponentId)}),o&&bR(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function xE(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var DE=function(t){return Object.assign(t,{isCss:!0})};function kv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Us(t)||Zl(t))return DE(xi(xE(Zh,Nl([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?xi(r):DE(xi(xE(r,e)))}function rg(t,e,n){if(n===void 0&&(n=$s),!e)throw Pu(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,kv.apply(void 0,Nl([i],o,!1)))};return r.attrs=function(i){return rg(t,e,ln(ln({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return rg(t,e,ln(ln({},n),i))},r}var xR=function(t){return rg(Tq,t)},Sq=xR;_R.forEach(function(t){Sq[t]=xR(t)});var Aq=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=NR(e),Mf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var o=i(Zm(xi(this.rules,n,r,i)),""),s=this.componentId+e;r.insertRules(s,s,o)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Mf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function DR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=kv.apply(void 0,Nl([t],e,!1)),i="sc-global-".concat(TR(JSON.stringify(r))),o=new Aq(r,i),s=function(l){var u=ng(),c=rr.useContext(Ov),h=rr.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),rr.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return o.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,f){if(o.isStatic)o.renderStyles(l,zB,c,f);else{var d=ln(ln({},u),{theme:vR(u,h,s.defaultProps)});o.renderStyles(l,d,c,f)}}return rr.memo(s)}var LR=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},MR=kv(LE||(LE=LR([`
/* http://meyerweb.com/eric/tools/css/reset/
   v5.0.1 | 20191019
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, menu, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
main, menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, main, menu, nav, section {
  display: block;
}
/* HTML5 hidden-attribute fix for newer browsers */
*[hidden] {
    display: none;
}
body {
  line-height: 1;
}
menu, ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
`],[`
/* http://meyerweb.com/eric/tools/css/reset/
   v5.0.1 | 20191019
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, menu, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
main, menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, main, menu, nav, section {
  display: block;
}
/* HTML5 hidden-attribute fix for newer browsers */
*[hidden] {
    display: none;
}
body {
  line-height: 1;
}
menu, ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
`])));DR(ME||(ME=LR(["",""],["",""])),MR);var LE,ME;const Iq=DR`
    ${MR};
    body {
        font-family: "Noto Sans KR", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-optical-sizing: auto;
        font-style: normal;
    }
    a:link {
        text-decoration: none;
    }
    a:visited {
        color: inherit;
    }
`,bq=()=>ee.jsxs(ee.Fragment,{children:[ee.jsx(Iq,{}),ee.jsx(SB,{})]});cp.createRoot(document.getElementById("root")).render(ee.jsx(bq,{}));
